/*! For license information please see main.25fd58e6.js.LICENSE.txt */
(()=>{var __webpack_modules__={9598:(e,t,n)=>{"use strict";var i=n(2791),r=n(3661);function s(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a,o=s(i),l=s(r);t.JJ=void 0,(a=t.JJ||(t.JJ={}))[a.Text=1]="Text",a[a.Link=2]="Link",a[a.FreeText=3]="FreeText",a[a.Line=4]="Line",a[a.Square=5]="Square",a[a.Circle=6]="Circle",a[a.Polygon=7]="Polygon",a[a.Polyline=8]="Polyline",a[a.Highlight=9]="Highlight",a[a.Underline=10]="Underline",a[a.Squiggly=11]="Squiggly",a[a.StrikeOut=12]="StrikeOut",a[a.Stamp=13]="Stamp",a[a.Caret=14]="Caret",a[a.Ink=15]="Ink",a[a.Popup=16]="Popup",a[a.FileAttachment=17]="FileAttachment";var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d,h=function(){return h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)};t.m5=void 0,(d=t.m5||(t.m5={})).RightToLeft="RTL",d.LeftToRight="LTR";var p,f=o.createContext({currentTheme:"light",direction:t.m5.LeftToRight,setCurrentTheme:function(){}}),g=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},m="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,v=function(e){var t=o.useRef(null),n=e.once,i=e.threshold,r=e.onVisibilityChanged;return m((function(){var e=t.current;if(e){var s=new IntersectionObserver((function(t){t.forEach((function(t){var i=t.isIntersecting,a=t.intersectionRatio;r({isVisible:i,ratio:a}),i&&n&&(s.unobserve(e),s.disconnect())}))}),{threshold:i||0});return s.observe(e),function(){s.unobserve(e),s.disconnect()}}}),[]),t},_=function(e){var n=e.children,i=e.ignoreDirection,r=void 0!==i&&i,s=e.size,a=void 0===s?24:s,l=o.useContext(f).direction,c=!r&&l===t.m5.RightToLeft,u="".concat(a||24,"px");return o.createElement("svg",{"aria-hidden":"true",className:g({"rpv-core__icon":!0,"rpv-core__icon--rtl":c}),focusable:"false",height:u,viewBox:"0 0 24 24",width:u},n)},y=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},b=function(e){var n=e.children,i=e.testId,r=e.onClick,s=o.useContext(f).direction===t.m5.RightToLeft,a=i?{"data-testid":i}:{};return o.createElement("button",h({className:g({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":s}),type:"button",onClick:r},a),n)},A=function(e){var t=e.size,n=void 0===t?"4rem":t,i=e.testId,r=o.useState(!1),s=r[0],a=r[1],l=i?{"data-testid":i}:{},c=v({onVisibilityChanged:function(e){a(e.isVisible)}});return o.createElement("div",h({},l,{className:g({"rpv-core__spinner":!0,"rpv-core__spinner--animating":s}),ref:c,style:{height:n,width:n}}))},w=function(e){var n=e.ariaLabel,i=void 0===n?"":n,r=e.autoFocus,s=void 0!==r&&r,a=e.placeholder,l=void 0===a?"":a,c=e.testId,u=e.type,d=void 0===u?"text":u,p=e.value,v=void 0===p?"":p,_=e.onChange,y=e.onKeyDown,b=void 0===y?function(){}:y,A=o.useContext(f).direction,w=o.useRef(),P=A===t.m5.RightToLeft,S={ref:w,"data-testid":"","aria-label":i,className:g({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":P}),placeholder:l,value:v,onChange:function(e){return _(e.target.value)},onKeyDown:b};return c&&(S["data-testid"]=c),m((function(){if(s){var e=w.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}}),[]),"text"===d?o.createElement("input",h({type:"text"},S)):o.createElement("input",h({type:"password"},S))};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(p||(p={}));var P,S={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},k={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},C={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},E="undefined"!=typeof window,x=E&&(p.FullScreenEnabled in document&&S||k.FullScreenEnabled in document&&k||C.FullScreenEnabled in document&&C)||S,I=function(){return E&&x.FullScreenEnabled in document&&!0===document[x.FullScreenEnabled]},T=function(e){return E?e[x.ExitFullScreen]():Promise.resolve({})},F=function(){return E?document[x.FullScreenElement]:null},R=function(e,t){var n=o.useRef(),i=function(){n.current&&clearTimeout(n.current)};return o.useEffect((function(){return function(){return i()}}),[]),o.useCallback((function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];i(),n.current=setTimeout((function(){e.apply(void 0,r)}),t)}),[e,t])},M=function(){var e=o.useRef(!1);return o.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e},N=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t.current};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(P||(P={}));var O,D=-9999,L=function(e){var t=e.doc,n=t.numPages,i=t.loadingTask.docId,r=o.useMemo((function(){return Array(n).fill(null).map((function(e,t){return{pageIndex:t,renderStatus:P.NotRenderedYet,visibility:D}}))}),[i]),s=o.useRef({currentRenderingPage:-1,startRange:0,endRange:n-1,visibilities:r}),a=function(e,t){s.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=s.current.visibilities.slice(s.current.startRange,s.current.endRange+1).filter((function(e){return e.visibility>D}));if(!e.length)return-1;for(var t=e[0].pageIndex,i=e[e.length-1].pageIndex,r=e.length,a=0;a<r;a++){if(e[a].renderStatus===P.Rendering)return-1;if(e[a].renderStatus===P.NotRenderedYet)return e[a].pageIndex}return i+1<n&&s.current.visibilities[i+1].renderStatus!==P.Rendered?i+1:t-1>=0&&s.current.visibilities[t-1].renderStatus!==P.Rendered?t-1:-1},isInRange:function(e){return e>=s.current.startRange&&e<=s.current.endRange},markNotRendered:function(){for(var e=0;e<n;e++)s.current.visibilities[e].renderStatus=P.NotRenderedYet},markRendered:function(e){s.current.visibilities[e].renderStatus=P.Rendered},markRendering:function(e){-1!==s.current.currentRenderingPage&&s.current.currentRenderingPage!==e&&s.current.visibilities[s.current.currentRenderingPage].renderStatus===P.Rendering&&(s.current.visibilities[s.current.currentRenderingPage].renderStatus=P.NotRenderedYet),s.current.visibilities[e].renderStatus=P.Rendering,s.current.currentRenderingPage=e},setOutOfRange:function(e){a(e,D)},setRange:function(e,t){s.current.startRange=e,s.current.endRange=t;for(var i=0;i<n;i++)(i<e||i>t)&&(s.current.visibilities[i].visibility=D,s.current.visibilities[i].renderStatus=P.NotRenderedYet)},setVisibility:a}},j={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},G=o.createContext({l10n:j,setL10n:function(){}}),U=0,B=function(){return U++},W=function(e,t,n){var i=function(e){var i=t.current;if(i){var r=e.target;if(r instanceof Element&&r.shadowRoot){var s=e.composedPath();s.length>0&&!i.contains(s[0])&&n()}else i.contains(r)||n()}};o.useEffect((function(){if(e){var t={capture:!0};return document.addEventListener("click",i,t),function(){document.removeEventListener("click",i,t)}}}),[])},z=function(e){var t=function(t){"Escape"===t.key&&e()};o.useEffect((function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[])},q=function(e){var n=e.ariaControlsSuffix,i=e.children,r=e.closeOnClickOutside,s=e.closeOnEscape,a=e.onToggle,l=o.useRef(),c=o.useContext(f).direction===t.m5.RightToLeft;return o.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),z((function(){l.current&&s&&a()})),W(r,l,a),m((function(){var e=l.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]),o.createElement("div",{"aria-modal":"true",className:g({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":c}),id:"rpv-core__modal-body-".concat(n),ref:l,role:"dialog",tabIndex:-1},i)},H=function(e){var t=e.children;return o.createElement("div",{className:"rpv-core__modal-overlay"},t)};t.$Z=void 0,(O=t.$Z||(t.$Z={})).Close="Close",O.Open="Open",O.Toggle="Toggle";var V,Q=function(e){var n=o.useState(e),i=n[0],r=n[1];return{opened:i,toggle:function(e){switch(e){case t.$Z.Close:r(!1);break;case t.$Z.Open:r(!0);break;case t.$Z.Toggle:default:r((function(e){return!e}))}}}},K=function(e){var t=e.content,n=e.isOpened,i=void 0!==n&&n,r=e.target,s=Q(i),a=s.opened,l=s.toggle;return o.createElement(o.Fragment,null,r&&r(l,a),a&&t(l))};t.Ly=void 0,(V=t.Ly||(t.Ly={})).TopLeft="TOP_LEFT",V.TopCenter="TOP_CENTER",V.TopRight="TOP_RIGHT",V.RightTop="RIGHT_TOP",V.RightCenter="RIGHT_CENTER",V.RightBottom="RIGHT_BOTTOM",V.BottomLeft="BOTTOM_LEFT",V.BottomCenter="BOTTOM_CENTER",V.BottomRight="BOTTOM_RIGHT",V.LeftTop="LEFT_TOP",V.LeftCenter="LEFT_CENTER",V.LeftBottom="LEFT_BOTTOM";var Y,J,X,Z,$,ee,te,ne,ie=function(e,n,i,r,s){m((function(){var a=n.current,o=e.current,l=i.current;if(o&&a&&l){var c=l.getBoundingClientRect(),u=function(e,n,i,r){var s=n.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.height,l=a.width,c=0,u=0;switch(i){case t.Ly.TopLeft:c=s.top-o,u=s.left;break;case t.Ly.TopCenter:c=s.top-o,u=s.left+s.width/2-l/2;break;case t.Ly.TopRight:c=s.top-o,u=s.left+s.width-l;break;case t.Ly.RightTop:c=s.top,u=s.left+s.width;break;case t.Ly.RightCenter:c=s.top+s.height/2-o/2,u=s.left+s.width;break;case t.Ly.RightBottom:c=s.top+s.height-o,u=s.left+s.width;break;case t.Ly.BottomLeft:c=s.top+s.height,u=s.left;break;case t.Ly.BottomCenter:c=s.top+s.height,u=s.left+s.width/2-l/2;break;case t.Ly.BottomRight:c=s.top+s.height,u=s.left+s.width-l;break;case t.Ly.LeftTop:c=s.top,u=s.left-l;break;case t.Ly.LeftCenter:c=s.top+s.height/2-o/2,u=s.left-l;break;case t.Ly.LeftBottom:c=s.top+s.height-o,u=s.left-l}return{left:u+(r.left||0),top:c+(r.top||0)}}(o,a,r,s),d=u.top,h=u.left;o.style.top="".concat(d-c.top,"px"),o.style.left="".concat(h-c.left,"px")}}),[])},re=function(e){var n,i=e.customClassName,r=e.position;return o.createElement("div",{className:g((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":r===t.Ly.TopLeft,"rpv-core__arrow--tc":r===t.Ly.TopCenter,"rpv-core__arrow--tr":r===t.Ly.TopRight,"rpv-core__arrow--rt":r===t.Ly.RightTop,"rpv-core__arrow--rc":r===t.Ly.RightCenter,"rpv-core__arrow--rb":r===t.Ly.RightBottom,"rpv-core__arrow--bl":r===t.Ly.BottomLeft,"rpv-core__arrow--bc":r===t.Ly.BottomCenter,"rpv-core__arrow--br":r===t.Ly.BottomRight,"rpv-core__arrow--lt":r===t.Ly.LeftTop,"rpv-core__arrow--lc":r===t.Ly.LeftCenter,"rpv-core__arrow--lb":r===t.Ly.LeftBottom},n["".concat(i)]=""!==i,n))})},se=function(e){var n=e.ariaControlsSuffix,i=e.children,r=e.closeOnClickOutside,s=e.offset,a=e.position,l=e.targetRef,c=e.onClose,u=o.useRef(),d=o.useRef(),h=o.useRef(),p=o.useContext(f).direction===t.m5.RightToLeft;W(r,u,c),ie(u,l,h,a,s),m((function(){var e=d.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]);var v="rpv-core__popover-body-inner-".concat(n);return o.createElement(o.Fragment,null,o.createElement("div",{ref:h,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{"aria-describedby":v,className:g({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":p}),id:"rpv-core__popover-body-".concat(n),ref:u,role:"dialog",tabIndex:-1},o.createElement(re,{customClassName:"rpv-core__popover-body-arrow",position:a}),o.createElement("div",{id:v,ref:d},i)))},ae=function(e){var t=e.closeOnEscape,n=e.onClose,i=o.useRef();return z((function(){i.current&&t&&n()})),o.createElement("div",{className:"rpv-core__popover-overlay",ref:i})},oe=function(e){var n=e.ariaControlsSuffix,i=e.children,r=e.contentRef,s=e.offset,a=e.position,l=e.targetRef,c=o.useRef(),u=o.useContext(f).direction===t.m5.RightToLeft;return ie(r,l,c,a,s),o.createElement(o.Fragment,null,o.createElement("div",{ref:c,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{className:g({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":u}),id:"rpv-core__tooltip-body-".concat(n),ref:r,role:"tooltip"},o.createElement(re,{customClassName:"rpv-core__tooltip-body-arrow",position:a}),o.createElement("div",{className:"rpv-core__tooltip-body-content"},i)))};t.Fi=void 0,(Y=t.Fi||(t.Fi={})).Normal="Normal",Y.Entering="Entering",Y.Entered="Entered",Y.EnteredCompletely="EnteredCompletely",Y.Exitting="Exitting",Y.Exited="Exited",t.B1=void 0,(J=t.B1||(t.B1={}))[J.PreRender=0]="PreRender",J[J.DidRender=1]="DidRender",t.Vc=void 0,(X=t.Vc||(t.Vc={})).Attachments="UseAttachments",X.Bookmarks="UseOutlines",X.ContentGroup="UseOC",X.Default="UserNone",X.FullScreen="FullScreen",X.Thumbnails="UseThumbs",t.Fn=void 0,(Z=t.Fn||(t.Fn={})).RequiredPassword="RequiredPassword",Z.WrongPassword="WrongPassword",t.Rn=void 0,($=t.Rn||(t.Rn={})).Backward="Backward",$.Forward="Forward",t.Gd=void 0,(ee=t.Gd||(t.Gd={})).Page="Page",ee.Horizontal="Horizontal",ee.Vertical="Vertical",ee.Wrapped="Wrapped",t.Tq=void 0,(te=t.Tq||(t.Tq={})).ActualSize="ActualSize",te.PageFit="PageFit",te.PageWidth="PageWidth",t.wO=void 0,(ne=t.wO||(t.wO={})).DualPage="DualPage",ne.DualPageWithCover="DualPageWithCover",ne.SinglePage="SinglePage";var le,ce=function(e,t){return e.reduce((function(e,n,i){return i%t?e[e.length-1].push(n):e.push([n]),e}),[])},ue=function(e,n){switch(n[1].name){case"XYZ":return{bottomOffset:function(e,t){return null===n[3]?t:n[3]},leftOffset:function(e,t){return null===n[2]?0:n[2]},pageIndex:e,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:t.Tq.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],leftOffset:0,pageIndex:e,scaleTo:t.Tq.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},de=new Map,he=new Map,pe=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},fe=function(e,t,n){de.set(pe(e,t),n)},ge=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),i=he.get(n);return i?Promise.resolve(i):new Promise((function(i,r){e.getPage(t+1).then((function(r){he.set(n,r),r.ref&&fe(e,r.ref,t),i(r)}))}))},me=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(i){if("object"==typeof i[0]&&null!==i[0]){var r=i[0],s=function(e,t){var n=pe(e,t);return de.has(n)?de.get(n):null}(e,r);null===s?e.getPageIndex(r).then((function(i){fe(e,r,i),me(e,t).then((function(e){return n(e)}))})):n(ue(s,i))}else{var a=ue(i[0],i);n(a)}}))}))};!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(le||(le={}));var ve,_e=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ye=function(e,t,n,i){var r=parseInt(e,10);return r>=t&&r<=n?r:i},be=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},Ae=function(e){return e.titleObj?e.titleObj.str:e.title||""},we=function(e){var n=e.annotation,i=o.useContext(f).direction,r=Ae(n),s=be(n),a=i===t.m5.RightToLeft,l=o.useRef(),c="";if(n.modificationDate){var u=function(e){var t=_e.exec(e);if(!t)return null;var n=parseInt(t[1],10),i=ye(t[2],1,12,1)-1,r=ye(t[3],1,31,1),s=ye(t[4],0,23,0),a=ye(t[5],0,59,0),o=ye(t[6],0,59,0),l=t[7]||"Z",c=ye(t[8],0,23,0),u=ye(t[9],0,59,0);switch(l){case"-":s+=c,a+=u;break;case"+":s-=c,a-=u}return new Date(Date.UTC(n,i,r,s,a,o))}(n.modificationDate);c=u?"".concat(u.toLocaleDateString(),", ").concat(u.toLocaleTimeString()):""}return o.useLayoutEffect((function(){if(l.current){var e=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex="".concat(parseInt(t.style.zIndex,10)-1)}}}}),[]),o.createElement("div",{ref:l,className:g({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":a}),style:{top:n.annotationType===t.JJ.Popup?"":"100%"}},r&&o.createElement(o.Fragment,null,o.createElement("div",{className:g({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!a,"rpv-core__annotation-popup-title--rtl":a})},r),o.createElement("div",{className:"rpv-core__annotation-popup-date"},c)),s&&o.createElement("div",{className:"rpv-core__annotation-popup-content"},s.split("\n").map((function(e,t){return o.createElement(o.Fragment,{key:t},e,o.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(ve||(ve={}));var Pe,Se=function(e){var n,i=e.annotation,r=e.children,s=e.ignoreBorder,a=e.hasPopup,l=e.isRenderable,c=e.page,u=e.viewport,d=i.rect,h=function(){var e=Q(!1),n=e.opened,i=e.toggle,r=o.useState(ve.Hover),s=r[0],a=r[1];return{opened:n,closeOnHover:function(){s===ve.Hover&&i(t.$Z.Close)},openOnHover:function(){s===ve.Hover&&i(t.$Z.Open)},toggleOnClick:function(){switch(s){case ve.Click:n&&a(ve.Hover),i(t.$Z.Toggle);break;case ve.Hover:a(ve.Click),i(t.$Z.Open)}}}}(),p=h.closeOnHover,f=h.opened,g=h.openOnHover,m=h.toggleOnClick,v=(n=[d[0],c.view[3]+c.view[1]-d[1],d[2],c.view[3]+c.view[1]-d[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),_=d[2]-d[0],y=d[3]-d[1],b={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!s&&i.borderStyle.width>0){switch(i.borderStyle.style){case le.Dashed:b.borderStyle="dashed";break;case le.Solid:b.borderStyle="solid";break;case le.Underline:b=Object.assign({borderBottomStyle:"solid"},b);case le.Beveled:case le.Inset:}var A=i.borderStyle.width;b.borderWidth="".concat(A,"px"),i.borderStyle.style!==le.Underline&&(_-=2*A,y-=2*A);var w=i.borderStyle,P=w.horizontalCornerRadius,S=w.verticalCornerRadius;(P>0||S>0)&&(b.borderRadius="".concat(P,"px / ").concat(S,"px")),i.color?b.borderColor="rgb(".concat(0|i.color[0],", ").concat(0|i.color[1],", ").concat(0|i.color[2],")"):b.borderWidth="0"}return o.createElement(o.Fragment,null,l&&r({popup:{opened:f,closeOnHover:p,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:"".concat(y,"px"),left:"".concat(v[0],"px"),top:"".concat(v[1],"px"),transform:"matrix(".concat(u.transform.join(","),")"),transformOrigin:"-".concat(v[0],"px -").concat(v[1],"px"),width:"".concat(_,"px")},b)},children:o.createElement(o.Fragment,null,a&&f&&o.createElement(we,{annotation:i}))}}))},ke=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Ce=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},o.createElement("circle",{cy:d/2,fill:"none",rx:u/2-p/2,ry:d/2-p/2,stroke:"transparent",strokeWidth:p||1})),e.slot.children)}))},Ee=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=Ae(t),s=be(t),a=!(!1!==t.hasPopup||!r&&!s),l=function(){var e,n,i,r,s=t.file;s&&(e=s.filename,i="string"==typeof(n=s.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(r=document.createElement("a")).style.display="none",r.href=i||e,r.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(r),r.click(),document.body.removeChild(r),i&&URL.revokeObjectURL(i))};return o.createElement(Se,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:!0,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},xe=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Ie=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=Ae(t),s=be(t),a=!(!r&&!s),l=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return m((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'.concat(t.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e&&n){var i=parseFloat(e.style.left),r=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left="".concat(i,"px"),n.style.top="".concat(r,"px"),n.style.transformOrigin="-".concat(i,"px -").concat(r,"px")}}}),[]),o.createElement(Se,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:a,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),o.createElement(we,{annotation:t}))}))},Te=function(e){var n=e.annotation,i=e.childAnnotation,r=e.page,s=e.viewport,a=!1===n.hasPopup,l=Ae(n),c=be(n),u=!!(n.hasPopup||l||c);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return o.createElement(o.Fragment,null,d.map((function(e,t){return o.createElement(Te,{key:t,annotation:e,childAnnotation:i,page:r,viewport:s})})))}return o.createElement(Se,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:u,page:r,viewport:s},(function(e){return o.createElement(o.Fragment,null,o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),i&&i.annotationType===t.JJ.Popup&&e.popup.opened&&o.createElement(Ie,{annotation:i,page:r,viewport:s}))}))},Fe=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},t.inkLists.map((function(e,t){return o.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:p||1,points:e.map((function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Re=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},o.createElement("line",{stroke:"transparent",strokeWidth:p||1,x1:c[2]-t.lineCoordinates[0],x2:c[2]-t.lineCoordinates[2],y1:c[3]-t.lineCoordinates[1],y2:c[3]-t.lineCoordinates[3]})),e.slot.children)}))},Me=/^([^\w]*)(javascript|data|vbscript)/im,Ne=/&#(\w+)(^\w|;)?/g,Oe=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,De=/^([^:]+):/gm,Le=function(e){var t,n=e.annotation,i=e.annotationContainerRef,r=e.doc,s=e.outlines,a=e.page,l=e.pageIndex,c=e.scale,u=e.viewport,d=e.onExecuteNamedAction,p=e.onJumpFromLinkAnnotation,f=e.onJumpToDest,g=o.useRef(),m=s&&s.length&&n.dest&&"string"==typeof n.dest?null===(t=s.find((function(e){return e.dest===n.dest})))||void 0===t?void 0:t.title:"",v=!!(n.url||n.dest||n.action||n.unsafeUrl),_={};if(n.url||n.unsafeUrl){var y=function(e,t){void 0===t&&(t="about:blank");var n,i=(n=e||"",n.replace(Ne,(function(e,t){return String.fromCharCode(t)}))).replace(Oe,"").trim();if(!i)return t;var r=i[0];if("."===r||"/"===r)return i;var s=i.match(De);if(!s)return i;var a=s[0];return Me.test(a)?t:i}(n.url||n.unsafeUrl,"");y?_={"data-target":"external",href:y,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:y}:v=!1}else _={href:"","data-annotation-link":n.id,onClick:function(e){e.preventDefault(),n.action?d(n.action):me(r,n.dest).then((function(e){var t=g.current,n=i.current;if(t&&n){var r=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var s=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var a=(r.left-s.left)/c,o=(s.bottom-r.bottom+r.height)/c;p({bottomOffset:o,label:m,leftOffset:a,pageIndex:l})}f(e)}))}};return m&&(_=Object.assign({},_,{title:m,"aria-label":m})),o.createElement(Se,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:v,page:a,viewport:u},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":n.id,"data-testid":"core__annotation--link-".concat(n.id)}),o.createElement("a",h({ref:g},_)))}))},je=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},o.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:t.vertices.map((function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)})).join(" ")})),e.slot.children)}))},Ge=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},o.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:p||1,points:t.vertices.map((function(e){return"".concat(e.x-c[0],",").concat(c[3]-e.y)})).join(" ")})),e.slot.children)}))},Ue=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a),c=t.rect,u=c[2]-c[0],d=c[3]-c[1],p=t.borderStyle.width;return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(u," ").concat(d),width:"".concat(u,"px")},o.createElement("rect",{height:d-p,fill:"none",stroke:"transparent",strokeWidth:p||1,x:p/2,y:p/2,width:u-p})),e.slot.children)}))},Be=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},We=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ze=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},qe=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},He=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ve=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Qe=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.createElement("path",{d:"M6 4.5L6 0.5"}),o.createElement("path",{d:"M18 4.5L18 0.5"}),o.createElement("path",{d:"M10 4.5L10 0.5"}),o.createElement("path",{d:"M14 4.5L14 0.5"}))},Ke=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ye=function(){return o.createElement(_,{size:16},o.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Je=function(e){var n=e.annotation,i=e.childAnnotation,r=e.page,s=e.viewport,a=!1===n.hasPopup,l=Ae(n),c=be(n),u=!!(n.hasPopup||l||c),d=n.name?n.name.toLowerCase():"";return o.createElement(Se,{annotation:n,hasPopup:a,ignoreBorder:!1,isRenderable:u,page:r,viewport:s},(function(e){return o.createElement(o.Fragment,null,o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&o.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===d&&o.createElement(y,null),"comment"===d&&o.createElement(qe,null),"help"===d&&o.createElement(He,null),"insert"===d&&o.createElement(Ye,null),"key"===d&&o.createElement(Ve,null),"note"===d&&o.createElement(Qe,null),("newparagraph"===d||"paragraph"===d)&&o.createElement(Ke,null)),e.slot.children),i&&i.annotationType===t.JJ.Popup&&e.popup.opened&&o.createElement(Ie,{annotation:i,page:r,viewport:s}))}))},Xe=function(e){var t=e.annotation,n=e.page,i=e.viewport,r=!1===t.hasPopup,s=Ae(t),a=be(t),l=!!(t.hasPopup||s||a);return o.createElement(Se,{annotation:t,hasPopup:r,ignoreBorder:!0,isRenderable:l,page:n,viewport:i},(function(e){return o.createElement("div",h({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Ze=function(e){var n=e.annotations,i=e.doc,r=e.outlines,s=e.page,a=e.pageIndex,l=e.plugins,c=e.rotation,u=e.scale,d=e.onExecuteNamedAction,h=e.onJumpFromLinkAnnotation,p=e.onJumpToDest,f=o.useRef(),g=s.getViewport({rotation:c,scale:u}).clone({dontFlip:!0}),v=n.filter((function(e){return!e.parentId}));return m((function(){var e=f.current;e&&l.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:v,container:e,pageIndex:a,rotation:c,scale:u})}))}),[]),o.createElement("div",{ref:f,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(a)},v.map((function(e){var l=n.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case t.JJ.Caret:return o.createElement(ke,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Circle:return o.createElement(Ce,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.FileAttachment:return o.createElement(Ee,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.FreeText:return o.createElement(xe,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Highlight:return o.createElement(Te,{key:e.id,annotation:e,childAnnotation:l,page:s,viewport:g});case t.JJ.Ink:return o.createElement(Fe,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Line:return o.createElement(Re,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Link:return o.createElement(Le,{key:e.id,annotation:e,annotationContainerRef:f,doc:i,outlines:r,page:s,pageIndex:a,scale:u,viewport:g,onExecuteNamedAction:d,onJumpFromLinkAnnotation:h,onJumpToDest:p});case t.JJ.Polygon:return o.createElement(je,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Polyline:return o.createElement(Ge,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Popup:return o.createElement(Ie,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Square:return o.createElement(Ue,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Squiggly:return o.createElement(Be,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Stamp:return o.createElement(We,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.StrikeOut:return o.createElement(ze,{key:e.id,annotation:e,page:s,viewport:g});case t.JJ.Text:return o.createElement(Je,{key:e.id,annotation:e,childAnnotation:l,page:s,viewport:g});case t.JJ.Underline:return o.createElement(Xe,{key:e.id,annotation:e,page:s,viewport:g});default:return o.createElement(o.Fragment,{key:e.id})}})))},$e=function(e){var t=e.page,n=e.renderAnnotations,i=M(),r=o.useState({loading:!0,annotations:[]}),s=r[0],a=r[1];return o.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i.current&&a({loading:!1,annotations:e})}))}),[]),s.loading?o.createElement(o.Fragment,null):n(s.annotations)},et=function(e){var t=e.doc,n=e.outlines,i=e.page,r=e.pageIndex,s=e.plugins,a=e.rotation,l=e.scale,c=e.onExecuteNamedAction,u=e.onJumpFromLinkAnnotation,d=e.onJumpToDest;return o.createElement($e,{page:i,renderAnnotations:function(e){return o.createElement(Ze,{annotations:e,doc:t,outlines:n,page:i,pageIndex:r,plugins:s,rotation:a,scale:l,onExecuteNamedAction:c,onJumpFromLinkAnnotation:u,onJumpToDest:d})}})},tt=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},nt=function(e){var n=e.canvasLayerRef,i=e.height,r=e.page,s=e.pageIndex,a=e.plugins,l=e.rotation,c=e.scale,u=e.width,d=e.onRenderCanvasCompleted,h=o.useRef();return m((function(){var e=h.current;e&&e.cancel();var i=n.current;i.removeAttribute("data-testid"),a.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:i,pageIndex:s,rotation:l,scale:c,status:t.B1.PreRender})}));var o=r.getViewport({rotation:l,scale:c}),u=window.devicePixelRatio||1,p=Math.sqrt(16777216/(o.width*o.height)),f=u>p;f?i.style.transform="scale(1, 1)":i.style.removeProperty("transform");var g=Math.min(p,u),m=function(e,t){var n,i;if(Math.floor(e)===e)return[e,1];var r=1/e;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];for(var s=e>1?r:e,a=0,o=1,l=1,c=1;;){var u=a+l,d=o+c;if(d>8)break;s<=u/d?(l=(n=[u,d])[0],c=n[1]):(a=(i=[u,d])[0],o=i[1])}return s<(a/o+l/c)/2?s===e?[a,o]:[o,a]:s===e?[l,c]:[c,l]}(g),v=m[0],_=m[1];i.width=tt(o.width*g,v),i.height=tt(o.height*g,v),i.style.width="".concat(tt(o.width,_),"px"),i.style.height="".concat(tt(o.height,_),"px"),i.hidden=!0;var y=i.getContext("2d",{alpha:!1}),b=f||1!==u?[g,0,0,g,0,0]:null;return h.current=r.render({canvasContext:y,transform:b,viewport:o}),h.current.promise.then((function(){i.hidden=!1,i.setAttribute("data-testid","core__canvas-layer-".concat(s)),a.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:i,pageIndex:s,rotation:l,scale:c,status:t.B1.DidRender})})),d()}),(function(){d()})),function(){i&&(i.width=0,i.height=0)}}),[]),o.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(i,"px"),width:"".concat(u,"px")}},o.createElement("canvas",{ref:n}))},it=function(e){var t=e.height,n=e.page,i=e.rotation,r=e.scale,s=e.width,a=o.useRef();return m((function(){var e=a.current,o=n.getViewport({rotation:i,scale:r});n.getOperatorList().then((function(i){!function(){var e=a.current;e&&(e.innerHTML="")}(),new l.SVGGraphics(n.commonObjs,n.objs).getSVG(i,o).then((function(n){n.style.height="".concat(t,"px"),n.style.width="".concat(s,"px"),e.appendChild(n)}))}))}),[]),o.createElement("div",{className:"rpv-core__svg-layer",ref:a})},rt=function(e){var n=e.containerRef,i=e.page,r=e.pageIndex,s=e.plugins,a=e.rotation,c=e.scale,u=e.onRenderTextCompleted,d=o.useRef(),h=function(){var e=n.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(t){return e.removeChild(t)})),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach((function(t){return e.removeChild(t)})))};return m((function(){var e=d.current;e&&e.cancel();var o=n.current;if(o){o.removeAttribute("data-testid");var p=i.getViewport({rotation:a,scale:c});return s.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:o,pageIndex:r,scale:c,status:t.B1.PreRender})})),i.getTextContent().then((function(e){h(),d.current=l.renderTextLayer({container:o,textContent:e,textContentSource:e,viewport:p}),d.current.promise.then((function(){o.setAttribute("data-testid","core__text-layer-".concat(r)),[].slice.call(o.children).forEach((function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")})),s.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:o,pageIndex:r,scale:c,status:t.B1.DidRender})})),u()}),(function(){o.removeAttribute("data-testid"),u()}))})),function(){var e;h(),null===(e=d.current)||void 0===e||e.cancel()}}}),[]),o.createElement("div",{className:"rpv-core__text-layer",ref:n})},st=function(e){var n=e.doc,i=e.measureRef,r=e.outlines,s=e.pageIndex,a=e.pageRotation,l=e.pageSize,c=e.plugins,u=e.renderPage,d=e.renderQueueKey,h=e.rotation,p=e.scale,f=e.shouldRender,m=e.viewMode,v=e.onExecuteNamedAction,_=e.onJumpFromLinkAnnotation,y=e.onJumpToDest,b=e.onRenderCompleted,w=e.onRotatePage,P=M(),S=o.useState(null),k=S[0],C=S[1],E=o.useState(!1),x=E[0],I=E[1],T=o.useState(!1),F=T[0],R=T[1],N=o.useRef(),O=o.useRef(),D=Math.abs(h+a)%180==0,L=l.pageWidth*p,j=l.pageHeight*p,G=D?L:j,U=D?j:L,B=(l.rotation+h+a)%360,W=o.useRef(0),z=u||function(e){return o.createElement(o.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return o.useEffect((function(){C(null),I(!1),R(!1)}),[a,h,p]),o.useEffect((function(){f&&P.current&&!k&&ge(n,s).then((function(e){P.current&&(W.current=d,C(e))}))}),[f,k]),o.useEffect((function(){x&&F&&(d!==W.current?(C(null),I(!1),R(!1)):b(s))}),[x,F]),o.createElement("div",{className:g({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":m===t.wO.DualPage,"rpv-core__page-layer--dual-cover":m===t.wO.DualPageWithCover,"rpv-core__page-layer--single":m===t.wO.SinglePage}),"data-testid":"core__page-layer-".concat(s),ref:i,style:{height:"".concat(U,"px"),width:"".concat(G,"px")}},k?o.createElement(o.Fragment,null,z({annotationLayer:{attrs:{},children:o.createElement(et,{doc:n,outlines:r,page:k,pageIndex:s,plugins:c,rotation:B,scale:p,onExecuteNamedAction:v,onJumpFromLinkAnnotation:_,onJumpToDest:y})},canvasLayer:{attrs:{},children:o.createElement(nt,{canvasLayerRef:N,height:U,page:k,pageIndex:s,plugins:c,rotation:B,scale:p,width:G,onRenderCanvasCompleted:function(){P.current&&I(!0)}})},canvasLayerRendered:x,doc:n,height:U,pageIndex:s,rotation:B,scale:p,svgLayer:{attrs:{},children:o.createElement(it,{height:U,page:k,rotation:B,scale:p,width:G})},textLayer:{attrs:{},children:o.createElement(rt,{containerRef:O,page:k,pageIndex:s,plugins:c,rotation:B,scale:p,onRenderTextCompleted:function(){P.current&&R(!0)}})},textLayerRendered:F,width:G,markRendered:b,onRotatePage:function(e){return w(s,e)}}),c.map((function(e,t){return e.renderPageLayer?o.createElement(o.Fragment,{key:t},e.renderPageLayer({canvasLayerRef:N,canvasLayerRendered:x,doc:n,height:U,pageIndex:s,rotation:B,scale:p,textLayerRef:O,textLayerRendered:F,width:G})):o.createElement(o.Fragment,{key:t})}))):o.createElement(A,{testId:"core__page-layer-loading-".concat(s)}))},at=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(Pe||(Pe={}));var ot=function(e){return 1-Math.pow(1-e,4)},lt=1e-4,ct={left:0,top:0},ut={capture:!1,passive:!0},dt=function(e,t,n){return Math.max(e,Math.min(n,t))},ht=function(e,n){if(n!==t.wO.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var i=ce(e.slice(1),2).map((function(e){return 2===e.length?e[0].width+e[1].width:e[0].width})),r=[e[0].width].concat(i);return Math.max.apply(Math,r)},pt={left:0,top:0},ft={left:0,top:0},gt={left:0,top:0},mt={left:0,top:0},vt={height:0,width:0},_t={left:0,top:0},yt="data-virtual-index",bt=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],At=function(e){var n=e.enableSmoothScroll,i=e.isRtl,r=e.numberOfItems,s=e.parentRef,a=e.setRenderRange,l=e.sizes,c=e.scrollMode,u=e.viewMode,d=o.useState(!1),p=d[0],f=d[1],g=o.useCallback((function(e){return f(e)}),[]),v=o.useRef(c);v.current=c;var _=o.useRef(u);_.current=u;var y=c===t.Gd.Wrapped||u===t.wO.DualPageWithCover||u===t.wO.DualPage?Pe.Both:c===t.Gd.Horizontal?Pe.Horizontal:Pe.Vertical,b=function(e){var t=e.elementRef,n=e.enableSmoothScroll,i=e.isRtl,r=e.scrollDirection,s=e.onSmoothScroll,a=o.useState(ct),l=a[0],c=a[1],u=o.useState(t.current),d=u[0],h=u[1],p=i?-1:1,f=o.useRef(r);f.current=r;var g=o.useRef(ct),v=o.useRef(!0),_=o.useCallback((function(){v.current=!0,n&&c(g.current),s(!1)}),[]),y=o.useCallback((function(){if(d){switch(f.current){case Pe.Horizontal:g.current={left:p*d.scrollLeft,top:0};break;case Pe.Both:g.current={left:p*d.scrollLeft,top:d.scrollTop};break;case Pe.Vertical:default:g.current={left:0,top:d.scrollTop}}n&&!v.current||c(g.current)}}),[d]);m((function(){h(t.current)})),m((function(){if(d)return d.addEventListener("scroll",y,ut),function(){d.removeEventListener("scroll",y,ut)}}),[d]);var b=o.useCallback((function(e,n){var i=t.current;if(!i)return Promise.resolve();var r={left:0,top:0};switch(f.current){case Pe.Horizontal:r.left=p*e.left;break;case Pe.Both:r.left=p*e.left,r.top=e.top;break;case Pe.Vertical:default:r.top=e.top}return n?(v.current=!1,s(!0),new Promise((function(e,t){!function(e,t,n,i,r,s){void 0===r&&(r=function(e){return e}),void 0===s&&(s=function(){});var a=0,o=0,l=!1;switch(t){case Pe.Horizontal:o=e.scrollLeft,a=0;case Pe.Both:o=e.scrollLeft,a=e.scrollTop;break;case Pe.Vertical:default:o=0,a=e.scrollTop}var c=function(){l||(l=!0,e.scrollLeft=n.left,e.scrollTop=n.top,s())};if(Math.abs(a-n.top)<=lt&&t===Pe.Vertical)c();else if(Math.abs(o-n.left)<=lt&&t===Pe.Horizontal)c();else{var u,d=-1,h=o-n.left,p=a-n.top,f=function(i){-1===d&&(d=i);var s=i-d,g=Math.min(s/400,1),m=r(g),v={left:o-h*m,top:a-p*m};switch(t){case Pe.Horizontal:e.scrollLeft=v.left;break;case Pe.Both:e.scrollLeft=v.left,e.scrollTop=v.top;break;case Pe.Vertical:default:e.scrollTop=v.top}Math.abs(v.top-n.top)<=lt&&Math.abs(v.left-n.left)<=lt&&!l&&(window.cancelAnimationFrame(u),c()),s<400?u=window.requestAnimationFrame(f):window.cancelAnimationFrame(u)};u=window.requestAnimationFrame(f)}}(i,f.current,r,0,ot,(function(){_(),e()}))}))):new Promise((function(e,t){switch(f.current){case Pe.Horizontal:i.scrollLeft=r.left;break;case Pe.Both:i.scrollLeft=r.left,i.scrollTop=r.top;break;case Pe.Vertical:default:i.scrollTop=r.top}e()}))}),[t]);return{scrollOffset:l,scrollTo:b}}({elementRef:s,enableSmoothScroll:n,isRtl:i,scrollDirection:y,onSmoothScroll:g}),A=b.scrollOffset,w=b.scrollTo,P=function(e){var t=e.elementRef,n=o.useState(t.current),i=n[0],r=n[1],s=o.useRef(!1),a=o.useReducer(at,{height:0,width:0}),l=a[0],c=a[1];return m((function(){t.current!==i&&r(t.current)})),m((function(){if(i&&!s.current){s.current=!0;var e=i.getBoundingClientRect(),t=e.height,n=e.width;c({rect:{height:t,width:n}})}}),[i]),o.useEffect((function(){if(i){var e=new ResizeObserver((function(e,t){e.forEach((function(e){if(e.target===i){var t=e.contentRect,n=t.height,r=t.width;c({rect:{height:n,width:r}})}}))}));return e.observe(i),function(){e.unobserve(i)}}}),[i]),l}({elementRef:s}),S=o.useRef({scrollOffset:_t,measurements:[]});S.current.scrollOffset=A;var k=o.useMemo((function(){return Array(r).fill(-1)}),[]),C=o.useState(k),E=C[0],x=C[1],I=o.useMemo((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(yt);if(n){var i=parseInt(n,10);0<=i&&i<r&&x((function(e){return e[i]=t,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],e,!0)}))}}))}),{threshold:bt});return e}),[]),T=o.useMemo((function(){return c===t.Gd.Page&&u===t.wO.SinglePage?function(e,t,n){for(var i=[],r=0;r<e;r++){var s={height:Math.max(t.height,n[r].height),width:Math.max(t.width,n[r].width)},a=0===r?mt:i[r-1].end,o={left:a.left+s.width,top:a.top+s.height};i[r]={index:r,start:a,size:s,end:o,visibility:-1}}return i}(r,P,l):u===t.wO.DualPageWithCover?function(e,n,i,r){for(var s=[],a=0,o=0,l=gt,c=0;c<e;c++){var u=0===c?{height:r===t.Gd.Page?Math.max(n.height,i[c].height):i[c].height,width:r===t.Gd.Page?Math.max(n.width,i[c].width):i[c].width}:{height:r===t.Gd.Page?Math.max(n.height,i[c].height):i[c].height,width:Math.max(n.width/2,i[c].width)};r===t.Gd.Page?l=0===c?gt:{left:c%2==0?u.width:0,top:Math.floor((c-1)/2)*u.height+s[0].end.top}:0===c?(l=gt,a=i[0].height,o=0):c%2==1?(l={left:0,top:a+=o},o=c===e-1?i[c].height:Math.max(i[c].height,i[c+1].height)):l={left:s[c-1].end.left,top:a};var d={left:l.left+u.width,top:l.top+u.height};s[c]={index:c,start:l,size:u,end:d,visibility:-1}}return s}(r,P,l,c):u===t.wO.DualPage?function(e,n,i,r){for(var s=[],a=0,o=0,l=ft,c=0;c<e;c++){var u={height:r===t.Gd.Page?Math.max(n.height,i[c].height):i[c].height,width:Math.max(n.width/2,i[c].width)};r===t.Gd.Page?l={left:c%2==0?0:u.width,top:Math.floor(c/2)*u.height}:c%2==0?(l={left:0,top:a+=o},o=c===e-1?i[c].height:Math.max(i[c].height,i[c+1].height)):l={left:s[c-1].end.left,top:a};var d={left:l.left+u.width,top:l.top+u.height};s[c]={index:c,start:l,size:u,end:d,visibility:-1}}return s}(r,P,l,c):function(e,n,i,r){for(var s=[],a=0,o={left:0,top:0},l=0,c=pt,u=0;u<e;u++){var d=i[u];if(0===u)a=d.width,o={left:0,top:0},l=d.height;else switch(r){case t.Gd.Wrapped:(a+=d.width)<n.width?(c={left:s[u-1].end.left,top:o.top},l=Math.max(l,d.height)):(a=d.width,o={left:(c={left:o.left,top:o.top+l}).left,top:c.top},l=d.height);break;case t.Gd.Horizontal:case t.Gd.Vertical:default:c=s[u-1].end}var h={left:c.left+d.width,top:c.top+d.height};s[u]={index:u,start:c,size:d,end:h,visibility:-1}}return s}(r,P,l,c)}),[c,l,u,P]),F=T[r-1]?{height:T[r-1].end.top,width:T[r-1].end.left}:vt;S.current.measurements=T;var R=o.useMemo((function(){var e=function(e,t,n,i){var r=0;switch(e){case Pe.Horizontal:r=i.left;break;case Pe.Vertical:default:r=i.top}var s=t.length-1,a=function(e,t,n,i){for(;e<=t;){var r=(e+t)/2|0,s=i(r);if(s<n)e=r+1;else{if(!(s>n))return r;t=r-1}}return e>0?e-1:0}(0,s,r,(function(n){switch(e){case Pe.Horizontal:return t[n].start.left;case Pe.Both:case Pe.Vertical:default:return t[n].start.top}}));if(e===Pe.Both)for(var o=t[a].start.top;a-1>=0&&t[a-1].start.top===o&&t[a-1].start.left>=i.left;)a--;for(var l=a;l<=s;){var c={top:t[l].start.top-i.top,left:t[l].start.left-i.left},u={height:n.height-c.top,width:n.width-c.left};if(e===Pe.Horizontal&&u.width<0)break;if(e===Pe.Vertical&&u.height<0)break;if(e===Pe.Both&&(u.width<0||u.height<0))break;l++}return{start:a,end:l}}(y,T,P,A),n=e.start,i=e.end,s=n+E.slice(dt(0,r,n),dt(0,r,i)).reduce((function(e,t,n,i){return t>i[e]?n:e}),0),o=s=dt(0,r-1,s),l=a({endPage:i,numPages:r,startPage:n}),c=l.startPage,d=l.endPage;switch(c=Math.max(c,0),d=Math.min(d,r-1),u){case t.wO.DualPageWithCover:s>0&&(o=s%2==1?s:s-1),c=0===c?0:c%2==1?c:c-1,r-(d=d%2==1?d-1:d)<=2&&(d=r-1);break;case t.wO.DualPage:o=s%2==0?s:s-1,c=c%2==0?c:c-1,d=d%2==1?d:d-1;break;case t.wO.SinglePage:default:o=s}return{startPage:c,endPage:d,maxVisbilityIndex:o}}),[T,P,A,u,E]),M=R.startPage,N=R.endPage,O=R.maxVisbilityIndex,D=o.useMemo((function(){for(var e=[],t=function(t){var n=T[t],i=h(h({},n),{visibility:void 0!==E[t]?E[t]:-1,measureRef:function(e){e&&(e.setAttribute(yt,"".concat(t)),I.observe(e))}});e.push(i)},n=M;n<=N;n++)t(n);return e}),[M,N,E,T]),L=o.useCallback((function(e,i){var s=S.current.measurements[dt(0,r-1,e)],a=v.current===t.Gd.Page?_t:i;return s?w({left:a.left+s.start.left,top:a.top+s.start.top},n):Promise.resolve()}),[w,n]),j=o.useCallback((function(e,n){var i=S.current.measurements,r=i[e].start,s=i.find((function(e){return e.start.top-r.top>1e-12}));if(!s)return Promise.resolve();var a=s.index;switch(_.current){case t.wO.DualPage:a=a%2==0?a:a+1;break;case t.wO.DualPageWithCover:a=a%2==1?a:a+1}return L(a,n)}),[]),G=o.useCallback((function(e,n){for(var i=S.current.measurements,s=i[e].start,a=e,o=!1,l=r-1;l>=0;l--)if(s.top-i[l].start.top>1e-12){o=!0,a=i[l].index;break}if(!o)return Promise.resolve();switch(_.current){case t.wO.DualPage:a=a%2==0?a:a-1;break;case t.wO.DualPageWithCover:a=a%2==0?a-1:a}return a===e&&(a=e-1),L(a,n)}),[]),U=o.useCallback((function(e,n){if(_.current===t.wO.DualPageWithCover||_.current===t.wO.DualPage)return j(e,n);switch(v.current){case t.Gd.Wrapped:return j(e,n);case t.Gd.Horizontal:case t.Gd.Vertical:default:return L(e+1,n)}}),[]),B=o.useCallback((function(e,n){if(_.current===t.wO.DualPageWithCover||_.current===t.wO.DualPage)return G(e,n);switch(v.current){case t.Gd.Wrapped:return G(e,n);case t.Gd.Horizontal:case t.Gd.Vertical:default:return L(e-1,n)}}),[]),W=o.useCallback((function(){return function(e,n){switch(n){case t.Gd.Horizontal:return{position:"relative",height:"100%",width:"".concat(e.width,"px")};case t.Gd.Vertical:default:return{position:"relative",height:"".concat(e.height,"px"),width:"100%"}}}(F,v.current)}),[F]),z=o.useCallback((function(e){return function(e,n,i){return i!==t.Gd.Page?{}:{height:"".concat(n.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}}(e,P,v.current)}),[P]),q=o.useCallback((function(e){return function(e,n,i,r,s){var a,o,l,c,u,d,h,p=n?"right":"left",f=n?-1:1,g=i.length,m=e.start.left*f,v=e.size,_=v.height,y=v.width;if(r===t.wO.DualPageWithCover){var b=s===t.Gd.Page?0:e.start.top;return 0===e.index||g%2==0&&e.index===g-1?((a={height:"".concat(_,"px"),minWidth:"".concat(ht(i,r),"px"),width:"100%"})[p]=0,a.position="absolute",a.top=0,a.transform="translate(".concat(m,"px, ").concat(b,"px)"),a):((o={height:"".concat(_,"px"),width:"".concat(y,"px")})[p]=0,o.position="absolute",o.top=0,o.transform="translate(".concat(m,"px, ").concat(b,"px)"),o)}if(r===t.wO.DualPage)return(l={height:"".concat(_,"px"),width:"".concat(y,"px")})[p]=0,l.position="absolute",l.top=0,l.transform="translate(".concat(m,"px, ").concat(s===t.Gd.Page?0:e.start.top,"px)"),l;switch(s){case t.Gd.Horizontal:return(c={height:"100%",width:"".concat(y,"px")})[p]=0,c.position="absolute",c.top=0,c.transform="translateX(".concat(m,"px)"),c;case t.Gd.Page:return(u={height:"".concat(_,"px"),width:"".concat(y,"px")})[p]=0,u.position="absolute",u.top=0,u;case t.Gd.Wrapped:return(d={height:"".concat(_,"px"),width:"".concat(y,"px")})[p]=0,d.position="absolute",d.top=0,d.transform="translate(".concat(m,"px, ").concat(e.start.top,"px)"),d;case t.Gd.Vertical:default:return(h={height:"".concat(_,"px"),width:"100%"})[p]=0,h.position="absolute",h.top=0,h.transform="translateY(".concat(e.start.top,"px)"),h}}(e,i,l,_.current,v.current)}),[i,l]),H=o.useCallback((function(e,n){var i=S.current,s=i.measurements,a=i.scrollOffset,o=s[dt(0,r-1,n)];if(o){var l=v.current===t.Gd.Page?{left:o.start.left,top:o.start.top}:{left:a.left*e,top:a.top*e};return w(l,!1)}return Promise.resolve()}),[]);return o.useEffect((function(){return function(){I.disconnect()}}),[]),{boundingClientRect:P,isSmoothScrolling:p,startPage:M,endPage:N,maxVisbilityIndex:O,virtualItems:D,getContainerStyles:W,getItemContainerStyles:z,getItemStyles:q,scrollToItem:L,scrollToNextItem:U,scrollToPreviousItem:B,zoom:H}},wt=function(e,n,i,r,s,a){var o=i;switch(!0){case s===t.wO.DualPageWithCover&&a>=3:case s===t.wO.DualPage&&a>=3:o=2*i;break;default:o=i}switch(r){case t.Tq.ActualSize:return 1;case t.Tq.PageFit:return Math.min((e.clientWidth-17)/o,(e.clientHeight-16)/n);case t.Tq.PageWidth:return(e.clientWidth-17)/o}},Pt=function(e){var t=[];return e.map((function(e){t=t.concat(e).concat(function(e){var t=[];return e.items&&e.items.length>0&&(t=t.concat(Pt(e.items))),t}(e))})),t},St={capture:!1,passive:!0},kt={height:0,width:0},Ct={height:0,width:0},Et=function(e){var n=e.getCurrentPage,i=e.getCurrentScrollMode,r=e.jumpToPage,s=e.targetRef,a=o.useState(t.Fi.Normal),l=a[0],c=a[1],u=function(){var e=o.useState(kt),t=e[0],n=e[1],i=R((function(){n({height:window.innerHeight,width:window.innerWidth})}),100);return m((function(){return window.addEventListener("resize",i,St),function(){window.removeEventListener("resize",i,St)}}),[]),t}(),d=o.useState(Ct),h=d[0],p=d[1],f=o.useRef(Ct),g=o.useRef(n()),v=o.useRef(Ct),_=o.useState(s.current),y=_[0],b=_[1],A=o.useRef();m((function(){s.current!==y&&b(s.current)}),[]),m((function(){if(y){var e=new ResizeObserver((function(e){e.forEach((function(e){var t=e.target.getBoundingClientRect(),n=t.height,i=t.width;p({height:n,width:i})}))}));return e.observe(y),function(){e.unobserve(y),e.disconnect()}}}),[y]);var w=o.useCallback((function(e){var n=F();return n&&n!==e?(c(t.Fi.Normal),T(n)):Promise.resolve()}),[]),P=o.useCallback((function(e){e&&I()&&(b(e),w(e).then((function(){A.current=e,c(t.Fi.Entering),function(e){E&&e[x.RequestFullScreen]()}(e)})))}),[]),S=o.useCallback((function(){F()&&(c(t.Fi.Exitting),T(document))}),[]),k=o.useCallback((function(){y&&F()!==y&&c(t.Fi.Exitting)}),[y]);return o.useEffect((function(){switch(l){case t.Fi.Entering:A.current&&(A.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),g.current=n(),f.current={height:window.innerHeight,width:window.innerWidth};break;case t.Fi.Entered:i()===t.Gd.Page?r(g.current).then((function(){c(t.Fi.EnteredCompletely)})):c(t.Fi.EnteredCompletely);break;case t.Fi.Exitting:A.current&&(A.current.style.backgroundColor="",A.current=null),g.current=n();break;case t.Fi.Exited:c(t.Fi.Normal),i()===t.Gd.Page&&r(g.current)}}),[l]),o.useEffect((function(){if(l!==t.Fi.Normal)return l===t.Fi.Entering&&u.height===h.height&&u.width===h.width&&u.height>0&&u.width>0&&(0===v.current.height||u.height==v.current.height)?(v.current={height:window.innerHeight,width:window.innerWidth},void c(t.Fi.Entered)):void(l===t.Fi.Exitting&&f.current.height===u.height&&f.current.width===u.width&&u.height>0&&u.width>0&&c(t.Fi.Exited))}),[l,u,h]),o.useEffect((function(){var e;return e=k,E&&document.addEventListener(x.FullScreenChange,e),function(){!function(e){E&&document.removeEventListener(x.FullScreenChange,e)}(k)}}),[y]),{enterFullScreenMode:P,exitFullScreenMode:S,fullScreenMode:l}},xt={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},It={left:0,top:0},Tt=function(e){var n=e.currentFile,i=e.defaultScale,r=e.doc,s=e.enableSmoothScroll,a=e.initialPage,l=e.initialRotation,c=e.initialScale,u=e.pageLayout,d=e.pageSizes,p=e.plugins,v=e.renderPage,_=e.scrollMode,y=e.setRenderRange,b=e.viewMode,A=e.viewerState,w=e.onDocumentLoad,P=e.onOpenFile,S=e.onPageChange,k=e.onRotate,C=e.onRotatePage,E=e.onZoom,x=r.numPages,I=r.loadingTask.docId,T=o.useContext(G).l10n,F=o.useContext(f),O=F.direction===t.m5.RightToLeft,D=o.useRef(),j=o.useRef(),U=o.useState(a),B=U[0],W=U[1],z=o.useRef(null),q=function(e){var t,n=e.getCurrentPage,i=(t=o.useRef([]),o.useEffect((function(){return function(){t.current=[]}}),[]),{push:function(e){var n=t.current;n.length+1>50&&n.shift(),n.push(e),t.current=n},map:function(e){return t.current.map((function(t){return e(t)}))},pop:function(){var e=t.current;if(0===e.length)return null;var n=e.pop();return t.current=e,n}}),r=function(e){var t=o.useRef([]);return o.useEffect((function(){return function(){t.current=[]}}),[]),{dequeue:function(){var e=t.current;if(0===e.length)return null;var n=e.shift();return t.current=e,n||null},enqueue:function(e){var n=t.current;n.length+1>50&&n.pop(),t.current=[e].concat(n)},map:function(e){return t.current.map((function(t){return e(t)}))}}}(),s=function(){var e=r.dequeue();return e&&i.push(e),e&&e.pageIndex===n()?s():e},a=function(){var e=i.pop();return e&&r.enqueue(e),e&&e.pageIndex===n()?a():e},l=o.useCallback((function(e){i.push(e)}),[]);return{getNextDestination:s,getPreviousDestination:a,markVisitedDestination:l}}({getCurrentPage:function(){return _e.current.pageIndex}}),H=o.useState(l),V=H[0],Q=H[1],K=N(V),Y=o.useState(!1),J=Y[0],X=Y[1],Z=o.useState(new Map),$=Z[0],ee=Z[1],te=o.useState(_),ne=te[0],ie=te[1],re=N(ne),se=o.useState(b),ae=se[0],oe=se[1],le=N(ae),ue=function(e){var t=M(),n=o.useState([]),i=n[0],r=n[1];return o.useEffect((function(){e.getOutline().then((function(e){if(t.current&&null!==e){var n=Pt(e);r(n)}}))}),[]),i}(r),pe=o.useState(c),fe=pe[0],me=pe[1],ve=N(fe),_e=o.useRef(A),ye=o.useRef("string"==typeof i?i:null),be=o.useRef(-1),Ae=o.useRef(-1),we=o.useRef(a),Pe=Et({getCurrentPage:function(){return _e.current.pageIndex},getCurrentScrollMode:function(){return _e.current.scrollMode},jumpToPage:function(e){return qe(e)},targetRef:j}),Se=o.useState(-1),ke=Se[0],Ce=Se[1],Ee=o.useState(0),xe=Ee[0],Ie=Ee[1],Te=L({doc:r});o.useEffect((function(){return function(){de.clear(),he.clear()}}),[I]);var Fe=o.useMemo((function(){return Object.assign({},xt,u)}),[]),Re=o.useMemo((function(){return Array(x).fill(0).map((function(e,t){var n=[d[t].pageHeight,d[t].pageWidth],i=Math.abs(V)%180==0?{height:n[0],width:n[1]}:{height:n[1],width:n[0]},r={height:i.height*fe,width:i.width*fe};return Fe.transformSize({numPages:x,pageIndex:t,size:r})}))}),[V,fe]),Me=At({enableSmoothScroll:s,isRtl:O,numberOfItems:x,parentRef:j,scrollMode:ne,setRenderRange:y,sizes:Re,viewMode:ae}),Ne=R((function(){!ye.current||_e.current.fullScreenMode!==t.Fi.Normal||a>0&&we.current===a||Xe(ye.current)}),200);!function(e){var t=e.targetRef,n=e.onResize;m((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){n(e.target)}))})),i=t.current;if(i)return e.observe(i),function(){e.unobserve(i)}}),[])}({targetRef:j,onResize:Ne});var Oe=function(e){var t=e;p.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),_e.current=t},De=function(){return j.current},Le=function(){return _e.current},je=o.useCallback((function(e){q.markVisitedDestination(e)}),[]),Ge=o.useCallback((function(e){var n=e.pageIndex,i=e.bottomOffset,s=e.leftOffset,a=e.scaleTo,o=j.current,l=_e.current;return o&&l?new Promise((function(e,c){ge(r,n).then((function(r){var c=r.getViewport({scale:1}),u=0,h=("function"==typeof i?i(c.width,c.height):i)||0,p=("function"==typeof s?s(c.width,c.height):s)||0,f=l.scale;switch(a){case t.Tq.PageFit:u=0,p=0,Xe(t.Tq.PageFit);break;case t.Tq.PageWidth:f=wt(o,d[n].pageHeight,d[n].pageWidth,t.Tq.PageWidth,b,x),u=(c.height-h)*f,p*=f,Xe(f);break;default:u=(c.height-h)*f,p*=f}switch(l.scrollMode){case t.Gd.Horizontal:Me.scrollToItem(n,{left:p,top:0}).then((function(){e()}));break;case t.Gd.Vertical:default:Me.scrollToItem(n,{left:0,top:u}).then((function(){e()}))}}))})):Promise.resolve()}),[]),Ue=o.useCallback((function(e){return q.markVisitedDestination(e),Ge(e)}),[]),Be=o.useCallback((function(){var e=q.getNextDestination();return e?Ge(e):Promise.resolve()}),[]),We=o.useCallback((function(){var e=q.getPreviousDestination();return e?Ge(e):Promise.resolve()}),[]),ze=o.useCallback((function(){return Me.scrollToNextItem(_e.current.pageIndex,It)}),[]),qe=o.useCallback((function(e){return 0<=e&&e<x?Me.scrollToItem(e,It):Promise.resolve()}),[]),He=o.useCallback((function(){return Me.scrollToPreviousItem(_e.current.pageIndex,It)}),[]),Ve=o.useCallback((function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){P(e.name,t)}))}),[P]),Qe=o.useCallback((function(e){var n=e===t.Rn.Backward?-90:90,i=_e.current.rotation,s=360===i||-360===i?n:i+n;Te.markNotRendered(),Q(s),Oe(h(h({},_e.current),{rotation:s})),k({direction:e,doc:r,rotation:s})}),[]),Ke=o.useCallback((function(e,n){var i=n===t.Rn.Backward?-90:90,s=_e.current.pagesRotation,a=(s.has(e)?s.get(e):l)+i,o=s.set(e,a);ee(o),X((function(e){return!e})),Oe(h(h({},_e.current),{pagesRotation:o,rotatedPage:e})),C({direction:n,doc:r,pageIndex:e,rotation:a}),Te.markRendering(e),Ce(e)}),[]),Ye=o.useCallback((function(e){Oe(h(h({},_e.current),{scrollMode:e})),ie(e)}),[]),Je=o.useCallback((function(e){Oe(h(h({},_e.current),{viewMode:e})),oe(e)}),[]),Xe=o.useCallback((function(e){var t=j.current,n=_e.current.pageIndex;if(!(n<0||n>=x)){var i=d[n].pageHeight,s=d[n].pageWidth,a=t?"string"==typeof e?wt(t,i,s,e,_e.current.viewMode,x):e:1;ye.current="string"==typeof e?e:null,a!==_e.current.scale&&(Ie((function(e){return e+1})),Te.markNotRendered(),me(a),E({doc:r,scale:a}),Oe(h(h({},_e.current),{scale:a})))}}),[]),Ze=o.useCallback((function(e){Pe.enterFullScreenMode(e)}),[]),$e=o.useCallback((function(){Pe.exitFullScreenMode()}),[]);o.useEffect((function(){Oe(h(h({},_e.current),{fullScreenMode:Pe.fullScreenMode}))}),[Pe.fullScreenMode]),o.useEffect((function(){var e={enterFullScreenMode:Ze,exitFullScreenMode:$e,getPagesContainer:De,getViewerState:Le,jumpToDestination:Ue,jumpToNextDestination:Be,jumpToPreviousDestination:We,jumpToNextPage:ze,jumpToPreviousPage:He,jumpToPage:qe,openFile:Ve,rotate:Qe,rotatePage:Ke,setViewerState:Oe,switchScrollMode:Ye,switchViewMode:Je,zoom:Xe};return p.forEach((function(t){t.install&&t.install(e)})),function(){p.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[I]),o.useEffect((function(){w({doc:r,file:n}),p.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:r,file:n})}))}),[I]);var et,tt,nt,it=Me.boundingClientRect;et=function(){a&&qe(a)},tt=it.height>0&&it.width>0,nt=o.useRef(!1),m((function(){tt&&!nt.current&&(nt.current=!0,et())}),[et,tt]),m((function(){var e=_e.current.pageIndex;e>-1&&re!==ne&&Me.scrollToItem(e,It).then((function(){Pe.fullScreenMode===t.Fi.EnteredCompletely&&(s||Te.markNotRendered(),be.current=-1)}))}),[ne]),m((function(){var e=_e.current.pageIndex;e>-1&&K!==V&&Me.scrollToItem(e,It)}),[V]),m((function(){0!=ve&&ve!=_e.current.scale&&Me.zoom(_e.current.scale/ve,_e.current.pageIndex).then((function(){Pe.fullScreenMode===t.Fi.EnteredCompletely&&(Ae.current=-1)}))}),[fe]),m((function(){if(le!==_e.current.viewMode){var e=Me.startPage,t=Me.endPage,n=Me.virtualItems;Te.markNotRendered(),Te.setRange(e,t);for(var i=function(e){var t=n.find((function(t){return t.index===e}));t&&Te.setVisibility(e,t.visibility)},r=e;r<=t;r++)i(r);at()}}),[ae]),m((function(){var e=_e.current.pageIndex;e>-1&&le!==ae&&Me.scrollToItem(e,It)}),[ae]),m((function(){var e=_e.current.pageIndex;e>0&&e===a&&we.current===a&&ye.current&&(we.current=-1,Xe(ye.current))}),[B]),o.useEffect((function(){Me.isSmoothScrolling||null!==z.current&&z.current===B||(z.current=B,S({currentPage:B,doc:r}))}),[B,Me.isSmoothScrolling]),o.useEffect((function(){Pe.fullScreenMode===t.Fi.Entering&&_e.current.scrollMode===t.Gd.Page&&(be.current=_e.current.pageIndex),Pe.fullScreenMode===t.Fi.EnteredCompletely&&_e.current.scrollMode===t.Gd.Page&&s&&(be.current=-1),Pe.fullScreenMode===t.Fi.EnteredCompletely&&ye.current&&(Ae.current=_e.current.pageIndex,Xe(ye.current))}),[Pe.fullScreenMode]),o.useEffect((function(){if(Pe.fullScreenMode!==t.Fi.Entering&&Pe.fullScreenMode!==t.Fi.Exitting&&!Me.isSmoothScrolling){var e=Me.startPage,n=Me.endPage,i=Me.maxVisbilityIndex,r=Me.virtualItems,s=i,a=Pe.fullScreenMode===t.Fi.Entered||Pe.fullScreenMode===t.Fi.EnteredCompletely;if(!(a&&s!==be.current&&be.current>-1||a&&s!==Ae.current&&Ae.current>-1)){W(s),Oe(h(h({},_e.current),{pageIndex:s})),Te.setRange(e,n);for(var o=function(e){var t=r.find((function(t){return t.index===e}));t&&Te.setVisibility(e,t.visibility)},l=e;l<=n;l++)o(l);at()}}}),[Me.startPage,Me.endPage,Me.isSmoothScrolling,Me.maxVisbilityIndex,Pe.fullScreenMode,J,V,fe]);var rt=o.useCallback((function(e){Te.markRendered(e),at()}),[xe]),at=function(){var e=Te.getHighestPriorityPage();e>-1&&Te.isInRange(e)&&(Te.markRendering(e),Ce(e))},ot=function(e){var t=B-1,n=B+1;switch(e){case"FirstPage":qe(0);break;case"LastPage":qe(x-1);break;case"NextPage":n<x&&qe(n);break;case"PrevPage":t>=0&&qe(t)}},lt=o.useCallback((function(){var e=Me.virtualItems,n=[];switch(ae){case t.wO.DualPage:n=ce(e,2);break;case t.wO.DualPageWithCover:e.length&&(n=0===e[0].index?[[e[0]]].concat(ce(e.slice(1),2)):ce(e,2));break;case t.wO.SinglePage:default:n=ce(e,1)}var i=T&&T.core?T.core.pageLabel:"Page {{pageIndex}}",s={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:D,style:{height:"100%"}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:g({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ne===t.Gd.Horizontal,"rpv-core__inner-pages--rtl":O,"rpv-core__inner-pages--single":ne===t.Gd.Page,"rpv-core__inner-pages--vertical":ne===t.Gd.Vertical,"rpv-core__inner-pages--wrapped":ne===t.Gd.Wrapped}),ref:j,style:{height:"100%",position:"relative"}},children:o.createElement("div",{"data-testid":"core__inner-current-page-".concat(B),style:Object.assign({"--scale-factor":fe},Me.getContainerStyles())},n.map((function(e){return o.createElement("div",{className:g({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ne===t.Gd.Page}),style:Me.getItemContainerStyles(e[0]),key:"".concat(e[0].index,"-").concat(ae)},e.map((function(e){var n=ae===t.wO.DualPageWithCover&&(0===e.index||x%2==0&&e.index===x-1);return o.createElement("div",{"aria-label":i.replace("{{pageIndex}}","".concat(e.index+1)),className:g({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ae===t.wO.DualPage&&e.index%2==0,"rpv-core__inner-page--dual-odd":ae===t.wO.DualPage&&e.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":ae===t.wO.DualPageWithCover&&!n&&e.index%2==0,"rpv-core__inner-page--dual-cover-odd":ae===t.wO.DualPageWithCover&&!n&&e.index%2==1,"rpv-core__inner-page--single":ae===t.wO.SinglePage&&ne===t.Gd.Page}),role:"region",key:"".concat(e.index,"-").concat(ae),style:Object.assign({},Me.getItemStyles(e),Fe.buildPageStyles({numPages:x,pageIndex:e.index,scrollMode:ne,viewMode:ae}))},o.createElement(st,{doc:r,measureRef:e.measureRef,outlines:ue,pageIndex:e.index,pageRotation:$.has(e.index)?$.get(e.index):0,pageSize:d[e.index],plugins:p,renderPage:v,renderQueueKey:xe,rotation:V,scale:fe,shouldRender:ke===e.index,viewMode:ae,onExecuteNamedAction:ot,onJumpFromLinkAnnotation:je,onJumpToDest:Ue,onRenderCompleted:rt,onRotatePage:Ke}))})))})))}};return p.forEach((function(e){e.renderViewer&&(s=e.renderViewer({containerRef:D,doc:r,pagesContainerRef:j,pagesRotation:$,pageSizes:d,rotation:V,slot:s,themeContext:F,jumpToPage:qe,openFile:Ve,rotate:Qe,rotatePage:Ke,switchScrollMode:Ye,switchViewMode:Je,zoom:Xe}))})),s}),[p,Me]),ct=o.useCallback((function(e){return o.createElement("div",h({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&ct(e.subSlot))}),[]);return ct(lt())},Ft=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Rt=function(e){var n=e.defaultScale,i=e.doc,r=e.render,s=e.scrollMode,a=e.viewMode,l=o.useRef(),c=o.useState({pageSizes:[],scale:0}),u=c[0],d=c[1];return o.useLayoutEffect((function(){var e=Array(i.numPages).fill(0).map((function(e,t){return new Promise((function(e,n){ge(i,t).then((function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})}))}))}));Promise.all(e).then((function(e){var r=l.current;if(r&&0!==e.length){var o=e[0].pageWidth,c=e[0].pageHeight,u=r.parentElement,h=(u.clientWidth-45)/o,p=(u.clientHeight-45)/c,f=h;switch(s){case t.Gd.Horizontal:f=Math.min(h,p);break;case t.Gd.Vertical:default:f=h}var g,m,v=n?"string"==typeof n?wt(u,c,o,n,a,i.numPages):n:(g=f,-1===(m=Ft.findIndex((function(e){return e>=g})))||0===m?g:Ft[m-1]);d({pageSizes:e,scale:v})}}))}),[i.loadingTask.docId]),0===u.pageSizes.length||0===u.scale?o.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:l},o.createElement(A,null)):r(u.pageSizes,u.scale)},Mt=function(){},Nt=function(e){function t(t,n){var i=e.call(this)||this;return i.verifyPassword=t,i.passwordStatus=n,i}return u(t,e),t}(Mt),Ot=function(e){var n=e.passwordStatus,i=e.renderProtectedView,r=e.verifyPassword,s=e.onDocumentAskPassword,a=o.useContext(G).l10n,l=o.useState(""),c=l[0],u=l[1],d=o.useContext(f).direction===t.m5.RightToLeft,h=function(){return r(c)};return o.useEffect((function(){s&&s({verifyPassword:r})}),[]),i?i({passwordStatus:n,verifyPassword:r}):o.createElement("div",{className:"rpv-core__asking-password-wrapper"},o.createElement("div",{className:g({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":d})},o.createElement("div",{className:"rpv-core__asking-password-message"},n===t.Fn.RequiredPassword&&a.core.askingPassword.requirePasswordToOpen,n===t.Fn.WrongPassword&&a.core.wrongPassword.tryAgain),o.createElement("div",{className:"rpv-core__asking-password-body"},o.createElement("div",{className:g({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!d,"rpv-core__asking-password-input--rtl":d})},o.createElement(w,{testId:"core__asking-password-input",type:"password",value:c,onChange:u,onKeyDown:function(e){"Enter"===e.key&&h()}})),o.createElement(b,{onClick:h},a.core.askingPassword.submit))))},Dt=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return u(t,e),t}(Mt),Lt=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return u(t,e),t}(Mt),jt=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return u(t,e),t}(Mt),Gt=function(e){var n=e.characterMap,i=e.file,r=e.httpHeaders,s=e.render,a=e.renderError,c=e.renderLoader,u=e.renderProtectedView,d=e.transformGetDocumentParams,h=e.withCredentials,p=e.onDocumentAskPassword,m=o.useContext(f).direction===t.m5.RightToLeft,v=o.useState(new jt(0)),_=v[0],y=v[1],b=o.useRef(""),w=M();return o.useEffect((function(){b.current="",y(new jt(0));var e=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),s=Object.assign({httpHeaders:r,withCredentials:h,worker:e},"string"==typeof i?{url:i}:{data:i},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),a=d?d(s):s,o=l.getDocument(a);return o.onPassword=function(e,n){switch(n){case l.PasswordResponses.NEED_PASSWORD:w.current&&y(new Nt(e,t.Fn.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:w.current&&y(new Nt(e,t.Fn.WrongPassword))}},o.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;w.current&&""===b.current&&y(new jt(t))},o.promise.then((function(e){b.current=e.loadingTask.docId,w.current&&y(new Dt(e))}),(function(t){return w.current&&!e.destroyed&&y(new Lt({message:t.message||"Cannot load document",name:t.name}))})),function(){o.destroy(),e.destroy()}}),[i]),_ instanceof Nt?o.createElement(Ot,{passwordStatus:_.passwordStatus,renderProtectedView:u,verifyPassword:_.verifyPassword,onDocumentAskPassword:p}):_ instanceof Dt?s(_.doc):_ instanceof Lt?a?a(_.error):o.createElement("div",{className:g({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":m})},o.createElement("div",{className:"rpv-core__doc-error-text"},_.error.message)):o.createElement("div",{"data-testid":"core__doc-loading",className:g({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":m})},c?c(_.percentages):o.createElement(A,null))},Ut=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}}},9853:(e,t,n)=>{"use strict";n(9598)},1725:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var s,a,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(o[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)i.call(s,a[u])&&(o[a[u]]=s[a[u]])}}return o}},3661:(module,__unused_webpack_exports,__webpack_require__)=>{var _defineProperty=__webpack_require__(8416).default,_classStaticPrivateMethodGet=__webpack_require__(5764).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldGet=__webpack_require__(468).default,_classPrivateFieldSet=__webpack_require__(5661).default,root,factory;root=globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||a(t)},t.bytesToString=c,t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=p(e)}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getUuid=function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let i=0;i<32;i++)n[i]=Math.floor(255*Math.random());return c(n)},t.getVerbosityLevel=function(){return r},t.info=function(e){r>=i.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.byteLength)},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},t.isNodeJS=void 0,t.normalizeUnicode=function(e){return g||(g=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m=new Map([["\ufb05","\u017ft"]])),e.replaceAll(g,((e,t,n)=>t?t.normalize("NFKC"):m.get(n)))},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(r=e)},t.shadow=o,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),i=u(e);return n.decode(i)}catch(n){s('stringToPDFString: "'.concat(n,'".'))}}const t=[];for(let i=0,r=e.length;i<r;i++){const n=h[e.charCodeAt(i)];t.push(n?String.fromCharCode(n):e.charAt(i))}return t.join("")},t.stringToUTF8String=p,t.unreachable=a,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.BASELINE_FACTOR=.25925925925925924,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},t.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const i={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=i,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=i.WARNINGS;function s(e){r>=i.WARNINGS&&console.log("Warning: ".concat(e))}function a(e){throw new Error(e)}function o(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&a("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||a("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const s=Math.min(r+n,t),a=e.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function u(e){"string"!==typeof e&&a("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return o(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return o(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return o(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?o(this,"platform",{isWin:!1,isMac:!1}):o(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var e,t;return o(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}};const d=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));t.Util=class{static makeHexColor(e,t,n){return"#".concat(d[e]).concat(d[t]).concat(d[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],s[0]),Math.min(n[1],i[1],r[1],s[1]),Math.max(n[0],i[0],r[0],s[0]),Math.max(n[1],i[1],r[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-r*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,i,s]}static bezierBoundingBox(e,t,n,i,r,s,a,o){const l=[],c=[[],[]];let u,d,h,p,f,g,m,v;for(let A=0;A<2;++A)if(0===A?(d=6*e-12*n+6*r,u=-3*e+9*n-9*r+3*a,h=3*n-3*e):(d=6*t-12*i+6*s,u=-3*t+9*i-9*s+3*o,h=3*i-3*t),Math.abs(u)<1e-12){if(Math.abs(d)<1e-12)continue;p=-h/d,0<p&&p<1&&l.push(p)}else m=d*d-4*h*u,v=Math.sqrt(m),m<0||(f=(-d+v)/(2*u),0<f&&f<1&&l.push(f),g=(-d-v)/(2*u),0<g&&g<1&&l.push(g));let _,y=l.length;const b=y;for(;y--;)p=l[y],_=1-p,c[0][y]=_*_*_*e+3*_*_*p*n+3*_*p*p*r+p*p*p*a,c[1][y]=_*_*_*t+3*_*_*p*i+3*_*p*p*s+p*p*p*o;return c[0][b]=e,c[1][b]=t,c[0][b+1]=a,c[1][b+1]=o,c[0].length=c[1].length=b+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}};const h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(e){return decodeURIComponent(escape(e))}var f=new WeakMap;t.PromiseCapability=class{constructor(){_classPrivateFieldInitSpec(this,f,{writable:!0,value:!1}),this.promise=new Promise(((e,t)=>{this.resolve=t=>{_classPrivateFieldSet(this,f,!0),e(t)},this.reject=e=>{_classPrivateFieldSet(this,f,!0),t(e)}}))}get settled(){return _classPrivateFieldGet(this,f)}};let g=null,m=null;t.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(e){var t,n;if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const i=new PDFDocumentLoadingTask,{docId:r}=i,s=e.url?getUrlProp(e.url):null,a=e.data?getDataProp(e.data):null,o=e.httpHeaders||null,l=!0===e.withCredentials,c=null!==(t=e.password)&&void 0!==t?t:null,u=e.range instanceof PDFDataRangeTransport?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let h=e.worker instanceof PDFWorker?e.worker:null;const p=e.verbosity,f="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,g="string"===typeof e.cMapUrl?e.cMapUrl:null,m=!1!==e.cMapPacked,v=e.CMapReaderFactory||DefaultCMapReaderFactory,_="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||DefaultStandardFontDataFactory,b=!0!==e.stopAtErrors,A=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,P="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_util.isNodeJS,S=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,k="boolean"===typeof e.disableFontFace?e.disableFontFace:_util.isNodeJS,C=!0===e.fontExtraProperties,E=!0===e.enableXfa,x=e.ownerDocument||globalThis.document,I=!0===e.disableRange,T=!0===e.disableStream,F=!0===e.disableAutoFetch,R=!0===e.pdfBug,M=u?u.length:null!==(n=e.length)&&void 0!==n?n:NaN,N="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_util.isNodeJS&&!k,O="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&g&&_&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(_,document.baseURI),D=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:x}),L=e.filterFactory||new DefaultFilterFactory({docId:r,ownerDocument:x});(0,_util.setVerbosityLevel)(p);const j={canvasFactory:D,filterFactory:L};if(O||(j.cMapReaderFactory=new v({baseUrl:g,isCompressed:m}),j.standardFontDataFactory=new y({baseUrl:_})),!h){const e={verbosity:p,port:_worker_options.GlobalWorkerOptions.workerPort};h=e.port?PDFWorker.fromPort(e):new PDFWorker(e),i._worker=h}const G={docId:r,apiVersion:"3.11.174",data:a,password:c,disableAutoFetch:F,rangeChunkSize:d,length:M,docBaseUrl:f,enableXfa:E,evaluatorOptions:{maxImageSize:A,disableFontFace:k,ignoreErrors:b,isEvalSupported:w,isOffscreenCanvasSupported:P,canvasMaxAreaInBytes:S,fontExtraProperties:C,useSystemFonts:N,cMapUrl:O?g:null,standardFontDataUrl:O?_:null}},U={ignoreErrors:b,isEvalSupported:w,disableFontFace:k,fontExtraProperties:C,enableXfa:E,ownerDocument:x,disableAutoFetch:F,pdfBug:R,styleElement:null};return h.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(h,G),t=new Promise((function(e){let t;var n;u?t=new _transport_stream.PDFDataTransportStream({length:M,initialData:u.initialData,progressiveDone:u.progressiveDone,contentDispositionFilename:u.contentDispositionFilename,disableRange:I,disableStream:T},u):a||(n={url:s,length:M,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:I,disableStream:T},t=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(n):(0,_display_utils.isValidFetchUrl)(n.url)?new _displayFetch_stream.PDFFetchStream(n):new _displayNetwork.PDFNetworkStream(n)),e(t)}));return Promise.all([e,t]).then((function(e){let[t,n]=e;if(i.destroyed)throw new Error("Loading aborted");const s=new _message_handler.MessageHandler(r,t,h.port),a=new WorkerTransport(s,i,n,U,j);i._transport=a,s.send("Ready",null)}))})).catch(i._capability.reject),i}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{constructor(){var e,t;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(e=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),t=e++,e)),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(i){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then((e=>{if(!e)return e;const t=[];for(const n in e)t.push(...e[n]);return t})))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_tryCleanup=new WeakSet,_abortDelayedCleanup=new WeakSet;class PDFPageProxy{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classPrivateMethodInitSpec(this,_abortDelayedCleanup),_classPrivateMethodInitSpec(this,_tryCleanup),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:i,viewport:r,intent:s="display",annotationMode:a=_util.AnnotationMode.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const p=this._transport.getRenderingIntent(s,a,h);_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),c||(c=this._transport.getOptionalContentConfig());let f=this._intentStates.get(p.cacheKey);f||(f=Object.create(null),this._intentStates.set(p.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const g=!!(p.renderingIntent&_util.RenderingIntentFlag.PRINT);var m;f.displayReadyCapability||(f.displayReadyCapability=new _util.PromiseCapability,f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(m=this._stats)||void 0===m||m.time("Page Request"),this._pumpOperatorList(p));const v=e=>{var t,n;f.renderTasks.delete(_),(this._maybeCleanupAfterRender||g)&&_classPrivateFieldSet(this,_pendingCleanup,!0),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!g),e?(_.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):_.capability.resolve(),null===(t=this._stats)||void 0===t||t.timeEnd("Rendering"),null===(n=this._stats)||void 0===n||n.timeEnd("Overall")},_=new InternalRenderTask({callback:v,params:{canvasContext:i,viewport:r,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:d});((n=f).renderTasks||(n.renderTasks=new Set)).add(_);const y=_.task;return Promise.all([f.displayReadyCapability.promise,c]).then((e=>{var t;let[n,i]=e;this.destroyed?v():(null===(t=this._stats)||void 0===t||t.time("Rendering"),_.initializeGraphics({transparency:n,optionalContentConfig:i}),_.operatorListChanged())})).catch(v),y}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,!0);let r,s=this._intentStates.get(i.cacheKey);var a,o;return s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=new _util.PromiseCapability,((a=s).renderTasks||(a.renderTasks=new Set)).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(o=this._stats)||void 0===o||o.time("Page Request"),this._pumpOperatorList(i)),s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null)};!function t(){i.read().then((function(n){let{value:i,done:s}=n;s?e(r):(Object.assign(r.styles,i.styles),r.items.push(...i.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldSet(this,_pendingCleanup,!0);const t=_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1);return e&&t&&this._stats&&(this._stats=new _display_utils.StatTimer),t}_startRenderPage(e,t){var n,i;const r=this._intentStates.get(t);r&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=r.displayReadyCapability)||void 0===i||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i}=e;const{map:r,transfers:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup2(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),!_classPrivateFieldGet(this,_pendingCleanup)||this.destroyed)return!1;if(e)return _classPrivateFieldSet(this,_delayedCleanupTimeout,setTimeout((()=>{_classPrivateFieldSet(this,_delayedCleanupTimeout,null),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1)}),DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),!0}function _abortDelayedCleanup2(){_classPrivateFieldGet(this,_delayedCleanupTimeout)&&(clearTimeout(_classPrivateFieldGet(this,_delayedCleanupTimeout)),_classPrivateFieldSet(this,_delayedCleanupTimeout,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};_classPrivateFieldGet(this,_deferred).then((()=>{for(const e of _classPrivateFieldGet(this,_listeners))e.call(this,n)}))}addEventListener(e,t){_classPrivateFieldGet(this,_listeners).add(t)}removeEventListener(e,t){_classPrivateFieldGet(this,_listeners).delete(t)}terminate(){_classPrivateFieldGet(this,_listeners).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document;const e=null===(_document=document)||void 0===_document||null===(_document=_document.currentScript)||void 0===_document?void 0:_document.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};class PDFWorker{constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){var i;if(null!==(i=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts))&&void 0!==i&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts)||_classStaticPrivateFieldSpecSet(PDFWorker,PDFWorker,_workerPorts,new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),i=()=>{t.removeEventListener("error",r),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};t.addEventListener("error",r),n.on("test",(e=>{t.removeEventListener("error",r),this.destroyed?i():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",r),this.destroyed)i();else try{s()}catch{this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(i,t);const r=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts))||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts))||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:void 0};exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_passwordCapability=new WeakMap,_cacheSimpleMethod=new WeakSet;class WorkerTransport{constructor(e,t,n,i,r){_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_passwordCapability,{writable:!0,value:null}),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=_util.RenderingIntentFlag.DISPLAY,s=_annotation_storage.SerializableEmpty;switch(e){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(r&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return i&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(s.hash),annotationStorageSerializable:s}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,null===(e=_classPrivateFieldGet(this,_passwordCapability))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())t.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:i}=e;i?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=new _util.PromiseCapability,i=this._fullReader;return i.headersReady.then((()=>{var e;i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&(null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress)),i.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})});n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:i}=e;i?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(_classPrivateFieldSet(this,_passwordCapability,new _util.PromiseCapability),t.onPassword){const i=e=>{e instanceof Error?_classPrivateFieldGet(this,_passwordCapability).reject(e):_classPrivateFieldGet(this,_passwordCapability).resolve({password:e})};try{t.onPassword(i,e.code)}catch(n){_classPrivateFieldGet(this,_passwordCapability).reject(n)}}else _classPrivateFieldGet(this,_passwordCapability).reject(new _util.PasswordException(e.message,e.code));return _classPrivateFieldGet(this,_passwordCapability).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[i,r,s]=t;if(!this.destroyed&&!this.commonObjs.has(i))switch(r){case"Font":const t=this._params;if("error"in s){const e=s.error;(0,_util.warn)("Error during font loading: ".concat(e)),this.commonObjs.resolve(i,e);break}const a=t.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new _font_loader.FontFaceObject(s,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:a});this.fontLoader.bind(o).catch((t=>e.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!t.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(i,o)}));break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(r))}})),e.on("obj",(e=>{let[t,n,i,r]=e;if(this.destroyed)return;const s=_classPrivateFieldGet(this,_pageCache).get(n);if(!s.objs.has(t))switch(i){case"Image":if(s.objs.resolve(t,r),r){let e;if(r.bitmap){const{width:t,height:n}=r;e=t*n*4}else{var a;e=(null===(a=r.data)||void 0===a?void 0:a.length)||0}e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(s._maybeCleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(t,r);break;default:throw new Error("Got unknown object type ".concat(i))}})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfers:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=_classPrivateFieldGet(this,_pagePromises).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(t,n),n}));return _classPrivateFieldGet(this,_pagePromises).set(t,i),i}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}hasJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_classPrivateFieldGet(this,_methodPromises).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,i,r;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(i=null===(r=this._fullReader)||void 0===r?void 0:r.contentLength)&&void 0!==i?i:null}}));return _classPrivateFieldGet(this,_methodPromises).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of _classPrivateFieldGet(this,_pageCache).values())if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."));this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}function _cacheSimpleMethod2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_classPrivateFieldGet(this,_methodPromises).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return _classPrivateFieldGet(this,_methodPromises).set(e,i),i}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return n.capability.promise.then((()=>t(n.data))),null}const n=_classPrivateFieldGet(this,_objs)[e];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=_classPrivateFieldGet(this,_objs)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);n.data=t,n.capability.resolve()}clear(){for(const t in _classPrivateFieldGet(this,_objs)){var e;const{data:n}=_classPrivateFieldGet(this,_objs)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(e){var t;return(t=_classPrivateFieldGet(this,_objs))[e]||(t[e]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(e){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,e),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldGet(this,_internalRenderTask).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_classPrivateFieldGet(this,_internalRenderTask);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(e){let{callback:t,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:i=!1,optionalContentConfig:r}=e;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:l}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:i,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var i=n(1),r=n(4),s=n(8);const a=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=a;var o=new WeakMap,l=new WeakMap,c=new WeakSet;class u{constructor(){_classPrivateMethodInitSpec(this,c),_classPrivateFieldInitSpec(this,o,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=_classPrivateFieldGet(this,l).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return _classPrivateFieldGet(this,l).get(e)}remove(e){if(_classPrivateFieldGet(this,l).delete(e),0===_classPrivateFieldGet(this,l).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of _classPrivateFieldGet(this,l).values())if(e instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=_classPrivateFieldGet(this,l).get(e);let i=!1;if(void 0!==n)for(const[r,s]of Object.entries(t))n[r]!==s&&(i=!0,n[r]=s);else i=!0,_classPrivateFieldGet(this,l).set(e,t);i&&_classPrivateMethodGet(this,c,d).call(this),t instanceof r.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return _classPrivateFieldGet(this,l).has(e)}getAll(){return _classPrivateFieldGet(this,l).size>0?(0,i.objectFromMap)(_classPrivateFieldGet(this,l)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return _classPrivateFieldGet(this,l).size}resetModified(){_classPrivateFieldGet(this,o)&&(_classPrivateFieldSet(this,o,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(0===_classPrivateFieldGet(this,l).size)return a;const e=new Map,t=new s.MurmurHash3_64,n=[],i=Object.create(null);let o=!1;for(const[s,a]of _classPrivateFieldGet(this,l)){const n=a instanceof r.AnnotationEditor?a.serialize(!1,i):a;n&&(e.set(s,n),t.update("".concat(s,":").concat(JSON.stringify(n))),o||(o=!!n.bitmap))}if(o)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:n}:a}}function d(){_classPrivateFieldGet(this,o)||(_classPrivateFieldSet(this,o,!0),"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=u;var h=new WeakMap;class p extends u{constructor(e){super(),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0});const{map:t,hash:n,transfers:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);_classPrivateFieldSet(this,h,{map:r,hash:n,transfers:i})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,h)}}t.PrintAnnotationStorage=p},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),s=n(1),a=n(6),o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,y=new WeakMap,b=new WeakMap,A=new WeakSet,w=new WeakSet,P=new WeakSet,S=new WeakSet,k=new WeakSet,C=new WeakSet,E=new WeakSet,x=new WeakSet;class I{constructor(e){_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,A),_classPrivateFieldInitSpec(this,o,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:!1}),_defineProperty(this,"_initialOptions",Object.create(null)),_defineProperty(this,"_uiManager",null),_defineProperty(this,"_focusEventsAllowed",!0),_defineProperty(this,"_l10nPromise",null),_classPrivateFieldInitSpec(this,y,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:I._zIndex++}),this.constructor===I&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[T,F]=this.parentDimensions;this.x=e.x/T,this.y=e.y/F,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new G({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(I._l10nPromise||(I._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map((t=>[t,e.get(t)])))),null!==t&&void 0!==t&&t.strings)for(const i of t.strings)I._l10nPromise.set(i,e.get(i));if(-1!==I._borderLineWidth)return;const n=getComputedStyle(document.documentElement);I._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _classPrivateFieldGet(this,y)}set _isDraggable(e){var t;_classPrivateFieldSet(this,y,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,b)}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this._focusEventsAllowed&&(_classPrivateFieldGet(this,m)?_classPrivateFieldSet(this,m,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/s,this.fixAndSetPosition()}translate(e,t){_classPrivateMethodGet(this,A,T).call(this,this.parentDimensions,e,t)}translateInPage(e,t){_classPrivateMethodGet(this,A,T).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this;const[a,o]=_classPrivateMethodGet(this,w,F).call(this);r+=a,s+=o,this.div.style.left="".concat((100*r).toFixed(2),"%"),this.div.style.top="".concat((100*s).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[e,t]=this.pageDimensions;let{x:n,y:i,width:r,height:s}=this;switch(r*=e,s*=t,n*=e,i*=t,this.rotation){case 0:n=Math.max(0,Math.min(e-r,n)),i=Math.max(0,Math.min(t-s,i));break;case 90:n=Math.max(0,Math.min(e-s,n)),i=Math.min(t,Math.max(r,i));break;case 180:n=Math.min(e,Math.max(r,n)),i=Math.min(t,Math.max(s,i));break;case 270:n=Math.min(e,Math.max(s,n)),i=Math.max(0,Math.min(t-r,i))}this.x=n/=e,this.y=i/=t;const[a,o]=_classPrivateMethodGet(this,w,F).call(this);n+=a,i+=o;const{style:l}=this.div;l.left="".concat((100*n).toFixed(2),"%"),l.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return _classStaticPrivateMethodGet(I,I,R).call(I,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return _classStaticPrivateMethodGet(I,I,R).call(I,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,r=n*e;return s.FeatureTest.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(e,t){var n;const[i,r]=this.parentDimensions;this.div.style.width="".concat((100*e/i).toFixed(2),"%"),_classPrivateFieldGet(this,h)||(this.div.style.height="".concat((100*t/r).toFixed(2),"%")),null===(n=_classPrivateFieldGet(this,c))||void 0===n||n.classList.toggle("small",e<I.SMALL_EDITOR_SIZE||t<I.SMALL_EDITOR_SIZE)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!_classPrivateFieldGet(this,h)&&t.endsWith("%");if(i&&r)return;const[s,a]=this.parentDimensions;i||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),_classPrivateFieldGet(this,h)||r||(e.height="".concat((100*parseFloat(t)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_classPrivateFieldGet(this,c))return;const e=_classPrivateFieldSet(this,c,document.createElement("button"));e.className="altText";const t=await I._l10nPromise.get("editor_alt_text_button_label");if(e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",a.noContextMenu),e.addEventListener("pointerdown",(e=>e.stopPropagation())),e.addEventListener("click",(e=>{e.preventDefault(),this._uiManager.editAltText(this)}),{capture:!0}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))})),_classPrivateMethodGet(this,E,L).call(this),this.div.append(e),!I.SMALL_EDITOR_SIZE){const t=40;I.SMALL_EDITOR_SIZE=Math.min(128,Math.round(e.getBoundingClientRect().width*(1+t/100)))}}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_classPrivateFieldGet(this,o),decorative:_classPrivateFieldGet(this,l)}}set altTextData(e){let{altText:t,decorative:n}=e;_classPrivateFieldGet(this,o)===t&&_classPrivateFieldGet(this,l)===n||(_classPrivateFieldSet(this,o,t),_classPrivateFieldSet(this,l,n),_classPrivateMethodGet(this,E,L).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,f)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,g));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,i]=this.getInitialTranslation();return this.translate(n,i),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=s.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,x,j).call(this,e))}moveInDOM(){var e;null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){const n=this.parentScale,[i,r]=this.pageDimensions,[s,a]=this.pageTranslation,o=e/n,l=t/n,c=this.x*i,u=this.y*r,d=this.width*i,h=this.height*r;switch(this.rotation){case 0:return[c+o+s,r-u-l-h+a,c+o+d+s,r-u-l+a];case 90:return[c+l+s,r-u+o+a,c+l+h+s,r-u+o+d+a];case 180:return[c-o-d+s,r-u+l+a,c-o+s,r-u+l+h+a];case 270:return[c-l-h+s,r-u-o-d+a,c-l+s,r-u-o+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,s]=e,a=r-n,o=s-i;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-i,o,a];case 180:return[r,t-i,a,o];case 270:return[r,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,_,!0)}disableEditMode(){_classPrivateFieldSet(this,_,!1)}isInEditMode(){return _classPrivateFieldGet(this,_)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;null===(e=this.div)||void 0===e||e.addEventListener("focusin",_classPrivateFieldGet(this,f)),null===(t=this.div)||void 0===t||t.addEventListener("focusout",_classPrivateFieldGet(this,g))}serialize(){(0,s.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation;const[r,s]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/r,i.y=o/s,i.width=l/r,i.height=c/s,i}remove(){var e;this.div.removeEventListener("focusin",_classPrivateFieldGet(this,f)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,g)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),null===(e=_classPrivateFieldGet(this,c))||void 0===e||e.remove(),_classPrivateFieldSet(this,c,null),_classPrivateFieldSet(this,u,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_classPrivateMethodGet(this,S,N).call(this),_classPrivateFieldGet(this,p).classList.remove("hidden"))}select(){var e;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}unselect(){var e,t,n;null===(e=_classPrivateFieldGet(this,p))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(e,t){}disableEditing(){_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).hidden=!0)}enableEditing(){_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,v)}set isEditing(e){_classPrivateFieldSet(this,v,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){_classPrivateFieldSet(this,h,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}}function T(e,t,n){let[i,r]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/r,this.fixAndSetPosition()}function F(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=i,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}function R(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function M(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function N(){if(_classPrivateFieldGet(this,p))return;_classPrivateFieldSet(this,p,document.createElement("div")),_classPrivateFieldGet(this,p).classList.add("resizers");const e=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||e.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const t of e){const e=document.createElement("div");_classPrivateFieldGet(this,p).append(e),e.classList.add("resizer",t),e.addEventListener("pointerdown",_classPrivateMethodGet(this,k,O).bind(this,t)),e.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(_classPrivateFieldGet(this,p))}function O(e,t){t.preventDefault();const{isMac:n}=s.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&n)return;const i=_classPrivateMethodGet(this,C,D).bind(this,e),r=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};window.addEventListener("pointermove",i,a);const o=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this._isDraggable=r,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,a),this.parent.div.style.cursor=d,this.div.style.cursor=h;const e=this.x,t=this.y,n=this.width,s=this.height;e===o&&t===l&&n===c&&s===u||this.addCommands({cmd:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[i,r]=this.parentDimensions;this.setDims(i*n,r*s),this.fixAndSetPosition()},undo:()=>{this.width=c,this.height=u,this.x=o,this.y=l;const[e,t]=this.parentDimensions;this.setDims(e*c,t*u),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}function D(e,t){const[n,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=i.MIN_SIZE/n,u=i.MIN_SIZE/r,d=e=>Math.round(1e4*e)/1e4,h=_classPrivateMethodGet(this,P,M).call(this,this.rotation),p=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],f=_classPrivateMethodGet(this,P,M).call(this,360-this.rotation);let g,m,v=!1,_=!1;switch(e){case"topLeft":v=!0,g=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":g=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":v=!0,g=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":_=!0,g=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":v=!0,g=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":g=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":v=!0,g=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":_=!0,g=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const y=g(o,l),b=m(o,l);let A=p(...b);const w=d(s+A[0]),S=d(a+A[1]);let k=1,C=1,[E,x]=this.screenToPageTranslation(t.movementX,t.movementY);var I,T;if([E,x]=(I=E/n,T=x/r,[f[0]*I+f[2]*T,f[1]*I+f[3]*T]),v){const e=Math.hypot(o,l);k=C=Math.max(Math.min(Math.hypot(b[0]-y[0]-E,b[1]-y[1]-x)/e,1/o,1/l),c/o,u/l)}else _?k=Math.max(c,Math.min(1,Math.abs(b[0]-y[0]-E)))/o:C=Math.max(u,Math.min(1,Math.abs(b[1]-y[1]-x)))/l;const F=d(o*k),R=d(l*C);A=p(...m(F,R));const N=w-A[0],O=S-A[1];this.width=F,this.height=R,this.x=N,this.y=O,this.setDims(n*F,r*R),this.fixAndSetPosition()}async function L(){const e=_classPrivateFieldGet(this,c);if(!e)return;var t;if(!_classPrivateFieldGet(this,o)&&!_classPrivateFieldGet(this,l))return e.classList.remove("done"),void(null===(t=_classPrivateFieldGet(this,u))||void 0===t||t.remove());i._l10nPromise.get("editor_alt_text_edit_button_label").then((t=>{e.setAttribute("aria-label",t)}));let n=_classPrivateFieldGet(this,u);if(!n){_classPrivateFieldSet(this,u,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const t=n.id="alt-text-tooltip-".concat(this.id);e.setAttribute("aria-describedby",t);const i=100;e.addEventListener("mouseenter",(()=>{_classPrivateFieldSet(this,d,setTimeout((()=>{_classPrivateFieldSet(this,d,null),_classPrivateFieldGet(this,u).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})}),i))})),e.addEventListener("mouseleave",(()=>{var e;clearTimeout(_classPrivateFieldGet(this,d)),_classPrivateFieldSet(this,d,null),null===(e=_classPrivateFieldGet(this,u))||void 0===e||e.classList.remove("show")}))}e.classList.add("done"),n.innerText=_classPrivateFieldGet(this,l)?await i._l10nPromise.get("editor_alt_text_decorative_tooltip"):_classPrivateFieldGet(this,o),n.parentNode||e.append(n)}function j(e){if(!this._isDraggable)return;const t=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession(),t&&(n={passive:!0,capture:!0},i=e=>{const[t,n]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,n)},window.addEventListener("pointermove",i,n));const r=()=>{if(window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),t&&window.removeEventListener("pointermove",i,n),_classPrivateFieldSet(this,m,!1),!this._uiManager.endDragSession()){const{isMac:t}=s.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",r),window.addEventListener("blur",r)}i=I,_defineProperty(I,"_borderLineWidth",-1),_defineProperty(I,"_colorManager",new r.ColorManager),_defineProperty(I,"_zIndex",1),_defineProperty(I,"SMALL_EDITOR_SIZE",0),t.AnnotationEditor=I;class G extends I{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),s=n(6),a=new WeakMap;class o{constructor(){_classPrivateFieldInitSpec(this,a,{writable:!0,value:0})}getId(){var e,t;return"".concat(r.AnnotationEditorPrefix).concat((_classPrivateFieldSet(this,a,(e=_classPrivateFieldGet(this,a),t=e++,e)),t))}}var l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakSet;class h{constructor(){_classPrivateMethodInitSpec(this,d),_classPrivateFieldInitSpec(this,l,{writable:!0,value:(0,r.getUuid)()}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null})}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])));return(0,r.shadow)(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return _classPrivateMethodGet(this,d,p).call(this,"".concat(t,"_").concat(n,"_").concat(i,"_").concat(r),e)}async getFromUrl(e){return _classPrivateMethodGet(this,d,p).call(this,e,e)}async getFromId(e){_classPrivateFieldGet(this,u)||_classPrivateFieldSet(this,u,new Map);const t=_classPrivateFieldGet(this,u).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=_classPrivateFieldGet(this,u).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){_classPrivateFieldGet(this,u)||_classPrivateFieldSet(this,u,new Map);const t=_classPrivateFieldGet(this,u).get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith("image_".concat(_classPrivateFieldGet(this,l),"_"))}}async function p(e,t){var n;_classPrivateFieldGet(this,u)||_classPrivateFieldSet(this,u,new Map);let r=_classPrivateFieldGet(this,u).get(e);if(null===r)return null;if(null!==(n=r)&&void 0!==n&&n.bitmap)return r.refCounter+=1,r;try{var s,a;let e;if(r||(r={bitmap:null,id:"image_".concat(_classPrivateFieldGet(this,l),"_").concat((_classPrivateFieldSet(this,c,(s=_classPrivateFieldGet(this,c),a=s++,s)),a)),refCounter:0,isSvg:!1}),"string"===typeof t){r.url=t;const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);e=await n.blob()}else e=r.file=t;if("image/svg+xml"===e.type){const t=i._isSVGFittingCanvas,n=new FileReader,s=new Image,a=new Promise(((e,i)=>{s.onload=()=>{r.bitmap=s,r.isSvg=!0,e()},n.onload=async()=>{const e=r.svgUrl=n.result;s.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},s.onerror=n.onerror=i}));n.readAsDataURL(e),await a}else r.bitmap=await createImageBitmap(e);r.refCounter=1}catch(o){console.error(o),r=null}return _classPrivateFieldGet(this,u).set(e,r),r&&_classPrivateFieldGet(this,u).set(r.id,r),r}i=h;var f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classPrivateFieldInitSpec(this,f,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:-1}),_classPrivateFieldSet(this,m,e)}add(e){let{cmd:t,undo:n,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}=e;if(i&&t(),_classPrivateFieldGet(this,g))return;const o={cmd:t,undo:n,type:r};if(-1===_classPrivateFieldGet(this,v))return _classPrivateFieldGet(this,f).length>0&&(_classPrivateFieldGet(this,f).length=0),_classPrivateFieldSet(this,v,0),void _classPrivateFieldGet(this,f).push(o);if(s&&_classPrivateFieldGet(this,f)[_classPrivateFieldGet(this,v)].type===r)return a&&(o.undo=_classPrivateFieldGet(this,f)[_classPrivateFieldGet(this,v)].undo),void(_classPrivateFieldGet(this,f)[_classPrivateFieldGet(this,v)]=o);const l=_classPrivateFieldGet(this,v)+1;l===_classPrivateFieldGet(this,m)?_classPrivateFieldGet(this,f).splice(0,1):(_classPrivateFieldSet(this,v,l),l<_classPrivateFieldGet(this,f).length&&_classPrivateFieldGet(this,f).splice(l)),_classPrivateFieldGet(this,f).push(o)}undo(){-1!==_classPrivateFieldGet(this,v)&&(_classPrivateFieldSet(this,g,!0),_classPrivateFieldGet(this,f)[_classPrivateFieldGet(this,v)].undo(),_classPrivateFieldSet(this,g,!1),_classPrivateFieldSet(this,v,_classPrivateFieldGet(this,v)-1))}redo(){_classPrivateFieldGet(this,v)<_classPrivateFieldGet(this,f).length-1&&(_classPrivateFieldSet(this,v,_classPrivateFieldGet(this,v)+1),_classPrivateFieldSet(this,g,!0),_classPrivateFieldGet(this,f)[_classPrivateFieldGet(this,v)].cmd(),_classPrivateFieldSet(this,g,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,v)}hasSomethingToRedo(){return _classPrivateFieldGet(this,v)<_classPrivateFieldGet(this,f).length-1}destroy(){_classPrivateFieldSet(this,f,null)}}t.CommandManager=_;var y=new WeakSet;class b{constructor(e){_classPrivateMethodInitSpec(this,y),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=r.FeatureTest.platform;for(const[n,i,r={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(_classPrivateMethodGet(this,y,A).call(this,t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...s)(),r||(t.stopPropagation(),t.preventDefault()))}}function A(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=b;class w{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,s.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every(((e,n)=>e===t[n])))return w._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}_defineProperty(w,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=w;var P=new WeakMap,S=new WeakMap,k=new WeakMap,C=new WeakMap,E=new WeakMap,x=new WeakMap,I=new WeakMap,T=new WeakMap,F=new WeakMap,R=new WeakMap,M=new WeakMap,N=new WeakMap,O=new WeakMap,D=new WeakMap,L=new WeakMap,j=new WeakMap,G=new WeakMap,U=new WeakMap,B=new WeakMap,W=new WeakMap,z=new WeakMap,q=new WeakMap,H=new WeakMap,V=new WeakMap,Q=new WeakMap,K=new WeakMap,Y=new WeakMap,J=new WeakMap,X=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,ie=new WeakSet,re=new WeakSet,se=new WeakSet,ae=new WeakSet,oe=new WeakSet,le=new WeakSet,ce=new WeakSet,ue=new WeakSet,de=new WeakSet,he=new WeakSet,pe=new WeakSet,fe=new WeakSet,ge=new WeakSet;class me{static get _keyboardManager(){const e=me.prototype,t=e=>{const{activeElement:t}=document;return t&&_classPrivateFieldGet(e,te).contains(t)&&e.hasSomethingToControl()},n=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,i,a,l){_classPrivateMethodInitSpec(this,ge),_classPrivateMethodInitSpec(this,fe),_classPrivateMethodInitSpec(this,pe),_classPrivateMethodInitSpec(this,he),_classPrivateMethodInitSpec(this,de),_classPrivateMethodInitSpec(this,ue),_classPrivateMethodInitSpec(this,ce),_classPrivateMethodInitSpec(this,le),_classPrivateMethodInitSpec(this,oe),_classPrivateMethodInitSpec(this,ae),_classPrivateMethodInitSpec(this,se),_classPrivateMethodInitSpec(this,re),_classPrivateMethodInitSpec(this,ie),_classPrivateFieldInitSpec(this,P,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,S,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:new _}),_classPrivateFieldInitSpec(this,I,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:new o}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:r.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.blur.bind(this)}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:this.focus.bind(this)}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,K,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:[0,0]}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:null}),_classPrivateFieldSet(this,te,e),_classPrivateFieldSet(this,ne,t),_classPrivateFieldSet(this,C,n),this._eventBus=i,this._eventBus._on("editingaction",_classPrivateFieldGet(this,K)),this._eventBus._on("pagechanging",_classPrivateFieldGet(this,Y)),this._eventBus._on("scalechanging",_classPrivateFieldGet(this,J)),this._eventBus._on("rotationchanging",_classPrivateFieldGet(this,X)),_classPrivateFieldSet(this,E,a.annotationStorage),_classPrivateFieldSet(this,N,a.filterFactory),_classPrivateFieldSet(this,B,l),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateMethodGet(this,ae,be).call(this),_classPrivateMethodGet(this,re,_e).call(this),this._eventBus._off("editingaction",_classPrivateFieldGet(this,K)),this._eventBus._off("pagechanging",_classPrivateFieldGet(this,Y)),this._eventBus._off("scalechanging",_classPrivateFieldGet(this,J)),this._eventBus._off("rotationchanging",_classPrivateFieldGet(this,X));for(const e of _classPrivateFieldGet(this,k).values())e.destroy();_classPrivateFieldGet(this,k).clear(),_classPrivateFieldGet(this,S).clear(),_classPrivateFieldGet(this,M).clear(),_classPrivateFieldSet(this,P,null),_classPrivateFieldGet(this,U).clear(),_classPrivateFieldGet(this,x).destroy(),_classPrivateFieldGet(this,C).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",_classPrivateFieldGet(this,B)?_classPrivateFieldGet(this,N).addHCMFilter(_classPrivateFieldGet(this,B).foreground,_classPrivateFieldGet(this,B).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(_classPrivateFieldGet(this,te)).direction)}editAltText(e){var t;null===(t=_classPrivateFieldGet(this,C))||void 0===t||t.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;_classPrivateFieldSet(this,I,t-1)}focusMainContainer(){_classPrivateFieldGet(this,te).focus()}findParent(e,t){for(const n of _classPrivateFieldGet(this,k).values()){const{x:i,y:r,width:s,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=r&&t<=r+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldGet(this,ne).classList.toggle("noUserSelect",e)}addShouldRescale(e){_classPrivateFieldGet(this,M).add(e)}removeShouldRescale(e){_classPrivateFieldGet(this,M).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of _classPrivateFieldGet(this,M))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!_classPrivateFieldGet(this,E)||_classPrivateFieldGet(this,E).has(e.id)||_classPrivateFieldGet(this,E).setValue(e.id,e)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of _classPrivateFieldGet(this,U))if(t.div.contains(e)){_classPrivateFieldSet(this,j,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!_classPrivateFieldGet(this,j))return;const[e,t]=_classPrivateFieldGet(this,j);_classPrivateFieldSet(this,j,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus()}addEditListeners(){_classPrivateMethodGet(this,se,ye).call(this),_classPrivateMethodGet(this,oe,Ae).call(this)}removeEditListeners(){_classPrivateMethodGet(this,ae,be).call(this),_classPrivateMethodGet(this,le,we).call(this)}copy(e){var t;if(e.preventDefault(),null===(t=_classPrivateFieldGet(this,P))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of _classPrivateFieldGet(this,U)){const e=i.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of _classPrivateFieldGet(this,R))if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void(0,r.warn)('paste: "'.concat(s.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const s of n){const t=i.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)_classPrivateMethodGet(this,pe,Ee).call(this,t);_classPrivateMethodGet(this,ge,Ie).call(this,e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(s){(0,r.warn)('paste: "'.concat(s.message,'".'))}}keydown(e){var t;null!==(t=this.getActive())&&void 0!==t&&t.shouldGetKeyboardEvents()||me._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?(_classPrivateMethodGet(this,ie,ve).call(this),_classPrivateMethodGet(this,se,ye).call(this),_classPrivateMethodGet(this,oe,Ae).call(this),_classPrivateMethodGet(this,ce,Pe).call(this,{isEditing:_classPrivateFieldGet(this,G)!==r.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,fe,xe).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,x).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,x).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,re,_e).call(this),_classPrivateMethodGet(this,ae,be).call(this),_classPrivateMethodGet(this,le,we).call(this),_classPrivateMethodGet(this,ce,Pe).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_classPrivateFieldGet(this,R)){_classPrivateFieldSet(this,R,e);for(const e of _classPrivateFieldGet(this,R))_classPrivateMethodGet(this,ue,Se).call(this,e.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(this,O).getId()}get currentLayer(){return _classPrivateFieldGet(this,k).get(_classPrivateFieldGet(this,I))}getLayer(e){return _classPrivateFieldGet(this,k).get(e)}get currentPageIndex(){return _classPrivateFieldGet(this,I)}addLayer(e){_classPrivateFieldGet(this,k).set(e.pageIndex,e),_classPrivateFieldGet(this,D)?e.enable():e.disable()}removeLayer(e){_classPrivateFieldGet(this,k).delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_classPrivateFieldGet(this,G)!==e){if(_classPrivateFieldSet(this,G,e),e===r.AnnotationEditorType.NONE)return this.setEditingState(!1),void _classPrivateMethodGet(this,he,Ce).call(this);this.setEditingState(!0),_classPrivateMethodGet(this,de,ke).call(this),this.unselectAll();for(const t of _classPrivateFieldGet(this,k).values())t.updateMode(e);if(t)for(const e of _classPrivateFieldGet(this,S).values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}}updateToolbar(e){e!==_classPrivateFieldGet(this,G)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(_classPrivateFieldGet(this,R))if(e!==r.AnnotationEditorParamsType.CREATE){for(const n of _classPrivateFieldGet(this,U))n.updateParams(e,t);for(const n of _classPrivateFieldGet(this,R))n.updateDefaultParams(e,t)}else this.currentLayer.addNewEditor(e)}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateFieldGet(this,L)!==e){_classPrivateFieldSet(this,L,e);for(const t of _classPrivateFieldGet(this,k).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of _classPrivateFieldGet(this,S).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return _classPrivateFieldGet(this,S).get(e)}addEditor(e){_classPrivateFieldGet(this,S).set(e.id,e)}removeEditor(e){var t;_classPrivateFieldGet(this,S).delete(e.id),this.unselect(e),e.annotationElementId&&_classPrivateFieldGet(this,T).has(e.annotationElementId)||null===(t=_classPrivateFieldGet(this,E))||void 0===t||t.remove(e.id)}addDeletedAnnotationElement(e){_classPrivateFieldGet(this,T).add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return _classPrivateFieldGet(this,T).has(e)}removeDeletedAnnotationElement(e){_classPrivateFieldGet(this,T).delete(e.annotationElementId),e.deleted=!1}setActiveEditor(e){_classPrivateFieldGet(this,P)!==e&&(_classPrivateFieldSet(this,P,e),e&&_classPrivateMethodGet(this,ue,Se).call(this,e.propertiesToUpdate))}toggleSelected(e){if(_classPrivateFieldGet(this,U).has(e))return _classPrivateFieldGet(this,U).delete(e),e.unselect(),void _classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,U).add(e),e.select(),_classPrivateMethodGet(this,ue,Se).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of _classPrivateFieldGet(this,U))t!==e&&t.unselect();_classPrivateFieldGet(this,U).clear(),_classPrivateFieldGet(this,U).add(e),e.select(),_classPrivateMethodGet(this,ue,Se).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:!0})}isSelected(e){return _classPrivateFieldGet(this,U).has(e)}unselect(e){e.unselect(),_classPrivateFieldGet(this,U).delete(e),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,U).size}undo(){_classPrivateFieldGet(this,x).undo(),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,x).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,fe,xe).call(this)})}redo(){_classPrivateFieldGet(this,x).redo(),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,x).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,fe,xe).call(this)})}addCommands(e){_classPrivateFieldGet(this,x).add(e),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,fe,xe).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[..._classPrivateFieldGet(this,U)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)_classPrivateMethodGet(this,pe,Ee).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=_classPrivateFieldGet(this,P))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return _classPrivateFieldGet(this,P)||this.hasSelection}selectAll(){for(const e of _classPrivateFieldGet(this,U))e.commit();_classPrivateMethodGet(this,ge,Ie).call(this,_classPrivateFieldGet(this,S).values())}unselectAll(){if(_classPrivateFieldGet(this,P))_classPrivateFieldGet(this,P).commitOrRemove();else if(this.hasSelection){for(const e of _classPrivateFieldGet(this,U))e.unselect();_classPrivateFieldGet(this,U).clear(),_classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;_classPrivateFieldGet(this,$)[0]+=e,_classPrivateFieldGet(this,$)[1]+=t;const[n,i]=_classPrivateFieldGet(this,$),r=[..._classPrivateFieldGet(this,U)];_classPrivateFieldGet(this,ee)&&clearTimeout(_classPrivateFieldGet(this,ee)),_classPrivateFieldSet(this,ee,setTimeout((()=>{_classPrivateFieldSet(this,ee,null),_classPrivateFieldGet(this,$)[0]=_classPrivateFieldGet(this,$)[1]=0,this.addCommands({cmd:()=>{for(const e of r)_classPrivateFieldGet(this,S).has(e.id)&&e.translateInPage(n,i)},undo:()=>{for(const e of r)_classPrivateFieldGet(this,S).has(e.id)&&e.translateInPage(-n,-i)},mustExec:!1})}),1e3));for(const s of r)s.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_classPrivateFieldSet(this,F,new Map);for(const e of _classPrivateFieldGet(this,U))_classPrivateFieldGet(this,F).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_classPrivateFieldGet(this,F))return!1;this.disableUserSelect(!1);const e=_classPrivateFieldGet(this,F);_classPrivateFieldSet(this,F,null);let t=!1;for(const[{x:i,y:r,pageIndex:s},a]of e)a.newX=i,a.newY=r,a.newPageIndex=s,t||(t=i!==a.savedX||r!==a.savedY||s!==a.savedPageIndex);if(!t)return!1;const n=(e,t,n,i)=>{if(_classPrivateFieldGet(this,S).has(e.id)){const r=_classPrivateFieldGet(this,k).get(i);r?e._setParentAndPosition(r,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:r,newPageIndex:s}]of e)n(t,i,r,s)},undo:()=>{for(const[t,{savedX:i,savedY:r,savedPageIndex:s}]of e)n(t,i,r,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(_classPrivateFieldGet(this,F))for(const n of _classPrivateFieldGet(this,F).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return _classPrivateFieldGet(this,P)===e}getActive(){return _classPrivateFieldGet(this,P)}getMode(){return _classPrivateFieldGet(this,G)}get imageManager(){return(0,r.shadow)(this,"imageManager",new h)}}function ve(){window.addEventListener("focus",_classPrivateFieldGet(this,z)),window.addEventListener("blur",_classPrivateFieldGet(this,W))}function _e(){window.removeEventListener("focus",_classPrivateFieldGet(this,z)),window.removeEventListener("blur",_classPrivateFieldGet(this,W))}function ye(){window.addEventListener("keydown",_classPrivateFieldGet(this,Q),{capture:!0})}function be(){window.removeEventListener("keydown",_classPrivateFieldGet(this,Q),{capture:!0})}function Ae(){document.addEventListener("copy",_classPrivateFieldGet(this,q)),document.addEventListener("cut",_classPrivateFieldGet(this,H)),document.addEventListener("paste",_classPrivateFieldGet(this,V))}function we(){document.removeEventListener("copy",_classPrivateFieldGet(this,q)),document.removeEventListener("cut",_classPrivateFieldGet(this,H)),document.removeEventListener("paste",_classPrivateFieldGet(this,V))}function Pe(e){Object.entries(e).some((e=>{let[t,n]=e;return _classPrivateFieldGet(this,Z)[t]!==n}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,Z),e)})}function Se(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}function ke(){if(!_classPrivateFieldGet(this,D)){_classPrivateFieldSet(this,D,!0);for(const e of _classPrivateFieldGet(this,k).values())e.enable()}}function Ce(){if(this.unselectAll(),_classPrivateFieldGet(this,D)){_classPrivateFieldSet(this,D,!1);for(const e of _classPrivateFieldGet(this,k).values())e.disable()}}function Ee(e){const t=_classPrivateFieldGet(this,k).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function xe(){if(0===_classPrivateFieldGet(this,S).size)return!0;if(1===_classPrivateFieldGet(this,S).size)for(const e of _classPrivateFieldGet(this,S).values())return e.isEmpty();return!1}function Ie(e){_classPrivateFieldGet(this,U).clear();for(const t of e)t.isEmpty()||(_classPrivateFieldGet(this,U).add(t),t.select());_classPrivateMethodGet(this,ce,Pe).call(this,{hasSelectedEditor:!0})}_defineProperty(me,"TRANSLATE_SMALL",1),_defineProperty(me,"TRANSLATE_BIG",10),t.AnnotationEditorUIManager=me},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,q(i))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:i,d:r,e:s,f:a}=e.getTransform();return[t,n,i,r,s,a]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:i,d:r,e:s,f:a}=e.getTransform().invertSelf();return[t,n,i,r,s,a]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(B(e))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t},t.getRGB=q,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:i=0}=t;const{width:r,height:s}=e.attributes.style,a=[0,0,parseInt(r),parseInt(s)];return new G({viewBox:a,scale:n,rotation:i})},t.isDataScheme=B,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=W,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,i)=>{const r=document.createElement("script");r.src=e,r.onload=function(e){t&&r.remove(),n(e)},r.onerror=function(){i(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).append(r)}))},t.noContextMenu=function(e){e.preventDefault()},t.setLayerDimensions=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof G){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:a}=e,o=s.FeatureTest.isCSSRoundSupported,l="var(--scale-factor) * ".concat(i,"px"),c="var(--scale-factor) * ".concat(r,"px"),u=o?"round(".concat(l,", 1px)"):"calc(".concat(l,")"),d=o?"round(".concat(c,", 1px)"):"calc(".concat(c,")");n&&t.rotation%180!==0?(a.width=d,a.height=u):(a.width=u,a.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)};var r=n(7),s=n(1);const a="http://www.w3.org/2000/svg";class o{}i=o,_defineProperty(o,"CSS",96),_defineProperty(o,"PDF",72),_defineProperty(o,"PDF_TO_CSS_UNITS",i.CSS/i.PDF),t.PixelsPerInch=o;var l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,y=new WeakMap,b=new WeakMap,A=new WeakSet,w=new WeakSet,P=new WeakSet,S=new WeakSet,k=new WeakSet;class C extends r.BaseFilterFactory{constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,A),_classPrivateFieldInitSpec(this,b,{get:x,set:void 0}),_classPrivateFieldInitSpec(this,y,{get:E,set:void 0}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:0}),_classPrivateFieldSet(this,u,e),_classPrivateFieldSet(this,d,t)}addFilter(e){var t,n;if(!e)return"none";let i,r,s,a,o=_classPrivateFieldGet(this,y).get(e);if(o)return o;if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;a=i=r=s=n.join(",")}else{const[t,n,o]=e,l=new Array(256),c=new Array(256),u=new Array(256);for(let e=0;e<256;e++)l[e]=t[e]/255,c[e]=n[e]/255,u[e]=o[e]/255;i=l.join(","),r=c.join(","),s=u.join(","),a="".concat(i).concat(r).concat(s)}if(o=_classPrivateFieldGet(this,y).get(a),o)return _classPrivateFieldGet(this,y).set(e,o),o;const l="g_".concat(_classPrivateFieldGet(this,u),"_transfer_map_").concat((_classPrivateFieldSet(this,_,(t=_classPrivateFieldGet(this,_),n=t++,t)),n)),c="url(#".concat(l,")");_classPrivateFieldGet(this,y).set(e,c),_classPrivateFieldGet(this,y).set(a,c);const d=_classPrivateMethodGet(this,w,T).call(this,l);return _classPrivateMethodGet(this,S,R).call(this,i,r,s,d),c}addHCMFilter(e,t){var n;const i="".concat(e,"-").concat(t);if(_classPrivateFieldGet(this,p)===i)return _classPrivateFieldGet(this,f);if(_classPrivateFieldSet(this,p,i),_classPrivateFieldSet(this,f,"none"),null===(n=_classPrivateFieldGet(this,h))||void 0===n||n.remove(),!e||!t)return _classPrivateFieldGet(this,f);const r=_classPrivateMethodGet(this,k,M).call(this,e);e=s.Util.makeHexColor(...r);const a=_classPrivateMethodGet(this,k,M).call(this,t);if(t=s.Util.makeHexColor(...a),_classPrivateFieldGet(this,b).style.color="","#000000"===e&&"#ffffff"===t||e===t)return _classPrivateFieldGet(this,f);const o=new Array(256);for(let s=0;s<=255;s++){const e=s/255;o[s]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c="g_".concat(_classPrivateFieldGet(this,u),"_hcm_filter"),d=_classPrivateFieldSet(this,g,_classPrivateMethodGet(this,w,T).call(this,c));_classPrivateMethodGet(this,S,R).call(this,l,l,l,d),_classPrivateMethodGet(this,A,I).call(this,d);const m=(e,t)=>{const n=r[e]/255,i=a[e]/255,s=new Array(t+1);for(let r=0;r<=t;r++)s[r]=n+r/t*(i-n);return s.join(",")};return _classPrivateMethodGet(this,S,R).call(this,m(0,5),m(1,5),m(2,5),d),_classPrivateFieldSet(this,f,"url(#".concat(c,")")),_classPrivateFieldGet(this,f)}addHighlightHCMFilter(e,t,n,i){var r;const s="".concat(e,"-").concat(t,"-").concat(n,"-").concat(i);if(_classPrivateFieldGet(this,m)===s)return _classPrivateFieldGet(this,v);if(_classPrivateFieldSet(this,m,s),_classPrivateFieldSet(this,v,"none"),null===(r=_classPrivateFieldGet(this,g))||void 0===r||r.remove(),!e||!t)return _classPrivateFieldGet(this,v);const[a,o]=[e,t].map(_classPrivateMethodGet(this,k,M).bind(this));let l=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),[d,h]=[n,i].map(_classPrivateMethodGet(this,k,M).bind(this));c<l&&([l,c,d,h]=[c,l,h,d]),_classPrivateFieldGet(this,b).style.color="";const p=(e,t,n)=>{const i=new Array(256),r=(c-l)/n,s=e/255,a=(t-e)/(255*n);let o=0;for(let c=0;c<=n;c++){const e=Math.round(l+c*r),t=s+c*a;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},f="g_".concat(_classPrivateFieldGet(this,u),"_hcm_highlight_filter"),_=_classPrivateFieldSet(this,g,_classPrivateMethodGet(this,w,T).call(this,f));return _classPrivateMethodGet(this,A,I).call(this,_),_classPrivateMethodGet(this,S,R).call(this,p(d[0],h[0],5),p(d[1],h[1],5),p(d[2],h[2],5),_),_classPrivateFieldSet(this,v,"url(#".concat(f,")")),_classPrivateFieldGet(this,v)}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(_classPrivateFieldGet(this,f)||_classPrivateFieldGet(this,v))||(_classPrivateFieldGet(this,c)&&(_classPrivateFieldGet(this,c).parentNode.parentNode.remove(),_classPrivateFieldSet(this,c,null)),_classPrivateFieldGet(this,l)&&(_classPrivateFieldGet(this,l).clear(),_classPrivateFieldSet(this,l,null)),_classPrivateFieldSet(this,_,0))}}function E(){return _classPrivateFieldGet(this,l)||_classPrivateFieldSet(this,l,new Map)}function x(){if(!_classPrivateFieldGet(this,c)){const e=_classPrivateFieldGet(this,d).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=_classPrivateFieldGet(this,d).createElementNS(a,"svg");n.setAttribute("width",0),n.setAttribute("height",0),_classPrivateFieldSet(this,c,_classPrivateFieldGet(this,d).createElementNS(a,"defs")),e.append(n),n.append(_classPrivateFieldGet(this,c)),_classPrivateFieldGet(this,d).body.append(e)}return _classPrivateFieldGet(this,c)}function I(e){const t=_classPrivateFieldGet(this,d).createElementNS(a,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function T(e){const t=_classPrivateFieldGet(this,d).createElementNS(a,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),_classPrivateFieldGet(this,b).append(t),t}function F(e,t,n){const i=_classPrivateFieldGet(this,d).createElementNS(a,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}function R(e,t,n,i){const r=_classPrivateFieldGet(this,d).createElementNS(a,"feComponentTransfer");i.append(r),_classPrivateMethodGet(this,P,F).call(this,r,"feFuncR",e),_classPrivateMethodGet(this,P,F).call(this,r,"feFuncG",t),_classPrivateMethodGet(this,P,F).call(this,r,"feFuncB",n)}function M(e){return _classPrivateFieldGet(this,b).style.color=e,q(getComputedStyle(_classPrivateFieldGet(this,b)).getPropertyValue("color"))}t.DOMFilterFactory=C;class N extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(W(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,s.stringToBytes)(await n.text())}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),t&&(r.responseType="arraybuffer"),r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(200===r.status||0===r.status){let e;if(t&&r.response?e=new Uint8Array(r.response):!t&&r.responseText&&(e=(0,s.stringToBytes)(r.responseText)),e)return void n(e)}i(new Error(r.statusText))}},r.send(null)}))}t.DOMCanvasFactory=N;class D extends r.BaseCMapReaderFactory{_fetchData(e,t){return O(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=D;class L extends r.BaseStandardFontDataFactory{_fetchData(e){return O(e,!0)}}t.DOMStandardFontDataFactory=L;class j extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS(a,e)}}t.DOMSVGFactory=j;class G{constructor(e){let{viewBox:t,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,h,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h),0===c?(p=Math.abs(l-t[1])*n+r,f=Math.abs(o-t[0])*n+s,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+r,f=Math.abs(l-t[1])*n+s,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,u*n,d*n,h*n,p-c*n*o-d*n*l,f-u*n*o-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new G({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return s.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=s.Util.applyTransform([e[0],e[1]],this.transform),n=s.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return s.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=G;class U extends s.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function B(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function W(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}let z;function q(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,s.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}t.RenderingCancelledException=U,t.StatTimer=class{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(e){e in this.started&&(0,s.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,s.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push("".concat(n.padEnd(t)," ").concat(r-i,"ms\n"));return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;z||(z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=z.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,i,r,s,a,o))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=n(1);class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,i){return"none"}destroy(){}}t.BaseFilterFactory=r;class s{constructor(){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=s;class a{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(n,r).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}_fetchData(e,t){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=a;class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetchData(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}_fetchData(e){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(e,"px")),i.setAttribute("height","".concat(t,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=n(1);const r=3285377520,s=4294901760,a=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:r,this.h2=e?4294967295&e:r}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,r=e.length;i<r;i++){const r=e.charCodeAt(i);r<=255?t[n++]=r:(t[n++]=r>>>8,t[n++]=255&r)}}else{if(!(0,i.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const r=n>>2,o=n-4*r,l=new Uint32Array(t.buffer,0,r);let c=0,u=0,d=this.h1,h=this.h2;const p=3432918353,f=461845907,g=11601,m=13715;for(let i=0;i<r;i++)1&i?(c=l[i],c=c*p&s|c*g&a,c=c<<15|c>>>17,c=c*f&s|c*m&a,d^=c,d=d<<13|d>>>19,d=5*d+3864292196):(u=l[i],u=u*p&s|u*g&a,u=u<<15|u>>>17,u=u*f&s|u*m&a,h^=u,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*r+2]<<16;case 2:c^=t[4*r+1]<<8;case 1:c^=t[4*r],c=c*p&s|c*g&a,c=c<<15|c>>>17,c=c*f&s|c*m&a,1&r?d^=c:h^=c}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&s|36045*e&a,t=4283543511*t&s|(2950163797*(t<<16|e>>>16)&s)>>>16,e^=t>>>1,e=444984403*e&s|60499*e&a,t=3301882366*t&s|(3120437893*(t<<16|e>>>16)&s)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=n(1),r=new WeakMap;t.FontLoader=class{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;_classPrivateFieldInitSpec(this,r,{writable:!0,value:new Set}),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_classPrivateFieldGet(this,r).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){if(e&&!_classPrivateFieldGet(this,r).has(e.loadedName))if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:s}=e,a=new FontFace(t,n,s);this.addNativeFontFace(a);try{await a.load(),_classPrivateFieldGet(this,r).add(t)}catch{(0,i.warn)("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}}else(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e.systemFontInfo);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,i.warn)("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let e=!1;return(i.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,i.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const u="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=r(d,976,u.length,u);const h=1482184792;let p=n(d,16);for(s=0,a=u.length-3;s<a;s+=4)p=p-h+n(u,s)|0;s<u.length&&(p=p-h+n(u+"XXX",s)|0),d=r(d,16,4,(0,i.string32)(p));const f="url(data:font/opentype;base64,".concat(btoa(d),");"),g='@font-face {font-family:"'.concat(u,'";src:').concat(f,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const i of[e.loadedName,u]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=i,m.append(e)}this._document.body.append(m),function e(t,n){if(++c>30)return(0,i.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,(()=>{m.remove(),t.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:i=!1,ignoreErrors:r=!1,inspectFont:s=null}=t;this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.isEvalSupported=!1!==n,this.disableFontFace=!0===i,this.ignoreErrors=!0===r,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=(0,i.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");let r;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),r='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(n,"}")}else r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,n),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){if(!this.ignoreErrors)throw r;return(0,i.warn)('getPathGenerator - ignoring character: "'.concat(r,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const i of n)"scale"===i.cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=n(7);n(1);const r=function(e){return new Promise(((t,n)=>{__webpack_require__(172).readFile(e,((e,i)=>{!e&&i?t(new Uint8Array(i)):n(new Error(e))}))}))};class s extends i.BaseFilterFactory{}t.NodeFilterFactory=s;class a extends i.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(3414).createCanvas(e,t)}}t.NodeCanvasFactory=a;class o extends i.BaseCMapReaderFactory{_fetchData(e,t){return r(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=o;class l extends i.BaseStandardFontDataFactory{_fetchData(e){return r(e)}}t.NodeStandardFontDataFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(1),r=n(6),s=n(12),a=n(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function u(e,t,n,i,s,a,o,l,c,u){const[d,h,p,f,g,m]=(0,r.getCurrentTransform)(e);if(0===h&&0===p){const r=o*d+g,v=Math.round(r),_=l*f+m,y=Math.round(_),b=(o+c)*d+g,A=Math.abs(Math.round(b)-v)||1,w=(l+u)*f+m,P=Math.abs(Math.round(w)-y)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(f),v,y),e.drawImage(t,n,i,s,a,0,0,A,P),e.setTransform(d,h,p,f,g,m),[A,P]}if(0===d&&0===f){const r=l*p+g,v=Math.round(r),_=o*h+m,y=Math.round(_),b=(l+u)*p+g,A=Math.abs(Math.round(b)-v)||1,w=(o+c)*h+m,P=Math.abs(Math.round(w)-y)||1;return e.setTransform(0,Math.sign(h),Math.sign(p),0,v,y),e.drawImage(t,n,i,s,a,0,0,P,A),e.setTransform(d,h,p,f,g,m),[P,A]}return e.drawImage(t,n,i,s,a,o,l,c,u),[Math.hypot(d,h)*c,Math.hypot(p,f)*u]}class d{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=i.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=i.Util.applyTransform(t,e),r=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,a,o,l,c,u){const d=i.Util.bezierBoundingBox(t,n,r,s,a,o,l,c);if(u)return u[0]=Math.min(u[0],d[0],d[2]),u[1]=Math.max(u[1],d[0],d[2]),u[2]=Math.min(u[2],d[1],d[3]),void(u[3]=Math.max(u[3],d[1],d[3]));this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===s.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");const e=i.Util.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,s=n%l,a=(n-s)/l,o=0===s?a:a+1,c=e.createImageData(r,l);let u,d=0;const h=t.data,p=c.data;let f,g,m,v;if(t.kind===i.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),v=n.length,_=r+7>>3,y=4294967295,b=i.FeatureTest.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<a?l:s,u=0,g=0;g<m;g++){const e=t-d;let i=0;const s=e>_?r:8*e-7,a=-8&s;let o=0,l=0;for(;i<a;i+=8)l=h[d++],n[u++]=128&l?y:b,n[u++]=64&l?y:b,n[u++]=32&l?y:b,n[u++]=16&l?y:b,n[u++]=8&l?y:b,n[u++]=4&l?y:b,n[u++]=2&l?y:b,n[u++]=1&l?y:b;for(;i<s;i++)0===o&&(l=h[d++],o=128),n[u++]=l&o?y:b,o>>=1}for(;u<v;)n[u++]=0;e.putImageData(c,0,f*l)}}else if(t.kind===i.ImageKind.RGBA_32BPP){for(g=0,v=r*l*4,f=0;f<a;f++)p.set(h.subarray(d,d+v)),d+=v,e.putImageData(c,0,g),g+=l;f<o&&(v=r*s*4,p.set(h.subarray(d,d+v)),e.putImageData(c,0,g))}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=l,v=r*m,f=0;f<o;f++){for(f>=a&&(m=s,v=r*m),u=0,g=v;g--;)p[u++]=h[d++],p[u++]=h[d++],p[u++]=h[d++],p[u++]=255;e.putImageData(c,0,f*l)}}}function p(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,r=n%l,s=(n-r)/l,o=0===r?s:s+1,c=e.createImageData(i,l);let u=0;const d=t.data,h=c.data;for(let p=0;p<o;p++){const t=p<s?l:r;({srcPos:u}=(0,a.convertBlackAndWhiteToRGBA)({src:d,srcPos:u,dest:h,width:i,height:t,nonBlackColor:0})),e.putImageData(c,0,p*l)}}function f(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function g(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!i.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function m(e,t,n,i){const r=e.length;for(let s=3;s<r;s+=4){const r=e[s];if(0===r)e[s-3]=t,e[s-2]=n,e[s-1]=i;else if(r<255){const a=255-r;e[s-3]=e[s-3]*r+t*a>>8,e[s-2]=e[s-2]*r+n*a>>8,e[s-1]=e[s-1]*r+i*a>>8}}}function v(e,t,n){const i=e.length;for(let r=3;r<i;r+=4){const i=n?n[e[r]]:e[r];t[r]=t[r]*i*.00392156862745098|0}}function _(e,t,n){const i=e.length;for(let r=3;r<i;r+=4){const i=77*e[r-3]+152*e[r-2]+28*e[r-1];t[r]=n?t[r]*n[i>>8]>>8:t[r]*i>>16}}function y(e,t,n,i){const r=i[0],s=i[1],a=i[2]-r,o=i[3]-s;0!==a&&0!==o&&(function(e,t,n,i,r,s,a,o,l,c,u){const d=!!s,h=d?s[0]:0,p=d?s[1]:0,f=d?s[2]:0,g="Luminosity"===r?_:v,y=Math.min(i,Math.ceil(1048576/n));for(let v=0;v<i;v+=y){const r=Math.min(y,i-v),s=e.getImageData(o-c,v+(l-u),n,r),_=t.getImageData(o,v+l,n,r);d&&m(s.data,h,p,f),g(s.data,_.data,a),t.putImageData(_,o,v+l)}}(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function b(e,t){const n=i.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=s||n[1]<=s}const A=["butt","round","square"],w=["miter","round","bevel"],P={},S={};var k=new WeakSet,C=new WeakSet;class E{constructor(e,t,n,i,r,s,a,o){let{optionalContentConfig:l,markedContentStack:u=null}=s;_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,k),this.ctx=e,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,i){const e=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),g(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,u=c?Date.now()+15:0;let d=0;const h=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==r&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if(f=a[o],f!==i.OPS.dependency)this[f].apply(this,s[o]);else for(const e of s[o]){const t=e.startsWith("g_")?h:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++d>10){if(Date.now()>u)return n(),o;d=0}}}endDrawing(){_classPrivateMethodGet(this,k,x).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_classPrivateMethodGet(this,C,I).call(this)}_scaleImage(e,t){const n=e.width,i=e.height;let r,s,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),r=this.cachedCanvases.getCanvas(u,t,n),s=r.context,s.clearRect(0,0,t,n),s.drawImage(e,0,0,l,c,0,0,t,n),e=r.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:a}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,r.getCurrentTransform)(t);let d,h,f,g;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(t),d||(d=new Map,this._cachedBitmapsMap.set(t,d));const n=d.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};f=n}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,a),p(g.context,e));let m=i.Util.transform(c,[1/n,0,0,-1/a,0,0]);m=i.Util.transform(m,[1,0,0,1,0,-a]);const v=i.Util.applyTransform([0,0],m),_=i.Util.applyTransform([n,a],m),y=i.Util.normalizeRect([v[0],v[1],_[0],_[1]]),A=Math.round(y[2]-y[0])||1,w=Math.round(y[3]-y[1])||1,P=this.cachedCanvases.getCanvas("fillCanvas",A,w),S=P.context,k=Math.min(v[0],_[0]),C=Math.min(v[1],_[1]);S.translate(-k,-C),S.transform(...m),f||(f=this._scaleImage(g.canvas,(0,r.getCurrentTransformInverse)(S)),f=f.img,d&&l&&d.set(h,f)),S.imageSmoothingEnabled=b((0,r.getCurrentTransform)(S),e.interpolate),u(S,f,0,0,f.width,f.height,0,0,n,a),S.globalCompositeOperation="source-in";const E=i.Util.transform((0,r.getCurrentTransformInverse)(S),[1,0,0,1,-k,-C]);return S.fillStyle=l?o.getPattern(t,this,E,s.PathType.FILL):o,S.fillRect(0,0,n,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,P.canvas)),{canvas:P.canvas,offsetX:Math.round(k),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=A[e]}setLineJoin(e){this.ctx.lineJoin=w[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,r,s,a){t.transform(e,n,i,r,s,a),this.__originalTransform(e,n,i,r,s,a)},e.setTransform=function(e,n,i,r,s,a){t.setTransform(e,n,i,r,s,a),this.__originalSetTransform(e,n,i,r,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,r,s,a){t.bezierCurveTo(e,n,i,r,s,a),this.__originalBezierCurveTo(e,n,i,r,s,a)},e.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;y(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,s){this.ctx.transform(e,t,n,i,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,a=this.current;let o,l,c=a.x,u=a.y;const d=(0,r.getCurrentTransform)(s),h=0===d[0]&&0===d[3]||0===d[1]&&0===d[2],p=h?n.slice(0):null;for(let r=0,f=0,g=e.length;r<g;r++)switch(0|e[r]){case i.OPS.rectangle:c=t[f++],u=t[f++];const e=t[f++],n=t[f++],r=c+e,g=u+n;s.moveTo(c,u),0===e||0===n?s.lineTo(r,g):(s.lineTo(r,u),s.lineTo(r,g),s.lineTo(c,g)),h||a.updateRectMinMax(d,[c,u,r,g]),s.closePath();break;case i.OPS.moveTo:c=t[f++],u=t[f++],s.moveTo(c,u),h||a.updatePathMinMax(d,c,u);break;case i.OPS.lineTo:c=t[f++],u=t[f++],s.lineTo(c,u),h||a.updatePathMinMax(d,c,u);break;case i.OPS.curveTo:o=c,l=u,c=t[f+4],u=t[f+5],s.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],c,u),a.updateCurvePathMinMax(d,o,l,t[f],t[f+1],t[f+2],t[f+3],c,u,p),f+=6;break;case i.OPS.curveTo2:o=c,l=u,s.bezierCurveTo(c,u,t[f],t[f+1],t[f+2],t[f+3]),a.updateCurvePathMinMax(d,o,l,c,u,t[f],t[f+1],t[f+2],t[f+3],p),c=t[f+2],u=t[f+3],f+=4;break;case i.OPS.curveTo3:o=c,l=u,c=t[f+2],u=t[f+3],s.bezierCurveTo(t[f],t[f+1],c,u,c,u),a.updateCurvePathMinMax(d,o,l,t[f],t[f+1],c,u,c,u,p),f+=4;break;case i.OPS.closePath:s.closePath()}h&&a.updateScalingPathMinMax(d,p),a.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.FILL),i=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P}eoClip(){this.pendingClip=S}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(s.fontMatrix=r.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(r.fallbackName);let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(c," ").concat(l," ").concat(u,"px ").concat(o)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,s){this.current.textMatrix=[e,t,n,i,r,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=c&i.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&i.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;(l.disableFontFace||h||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(a.save(),a.translate(t,n),a.beginPath(),f(a,u),s&&a.setTransform(...s),d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||a.fill(),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(d!==i.TextRenderingMode.FILL&&d!==i.TextRenderingMode.FILL_STROKE||a.fillText(e,t,n),d!==i.TextRenderingMode.STROKE&&d!==i.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(a),x:t,y:n,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,v=a*t.fontMatrix[0],_=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let y;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),d>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,r.getCurrentTransformInverse)(o),s.PathType.FILL);y=(0,r.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let b=t.lineWidth;const A=t.textMatrixScale;if(0===A||0===b){const e=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;e!==i.TextRenderingMode.STROKE&&e!==i.TextRenderingMode.FILL_STROKE||(b=this.getSinglePixelWidth())}else b/=A;if(1!==l&&(o.scale(l,l),b/=l),o.lineWidth=b,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return o.fillText(n.join(""),0,0),t.x+=i*v*h,o.restore(),void this.compose()}let w,P=0;for(w=0;w<p;++w){const t=e[w];if("number"===typeof t){P+=g*t*a/1e3;continue}let i=!1;const r=(t.isSpace?u:0)+c,s=t.fontChar,h=t.accent;let p,b,A=t.width;if(f){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*A)*v,i=e[2]*v;A=e?-e[0]:A,p=n/l,b=(P+i)/l}else p=P/l,b=0;if(n.remeasure&&A>0){const e=1e3*o.measureText(s).width/a*l;if(A<e&&this.isFontSubpixelAAEnabled){const t=A/e;i=!0,o.save(),o.scale(t,1),p/=t}else A!==e&&(p+=(A-e)/2e3*a/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(_&&!h)o.fillText(s,p,b);else if(this.paintChar(s,p,b,y),h){const e=p+a*h.offset.x/l,t=b-a*h.offset.y/l;this.paintChar(h.fontChar,e,t,y)}P+=f?A*v-r*d:A*v+r*d,i&&o.restore()}f?t.y-=P:t.x+=P*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,a=n.fontDirection,o=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*a,d=n.fontMatrix||i.FONT_IDENTITY_MATRIX,h=e.length;let p,f,g,m;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,a),p=0;p<h;++p){if(f=e[p],"number"===typeof f){m=o*f*s/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const a=(f.isSpace?c:0)+l,h=r.charProcOperatorList[f.operatorListId];h?(this.contentVisible&&(this.processingType3=f,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(h),this.restore()),g=i.Util.applyTransform([f.width,0],d)[0]*s+a,t.translate(g,0),n.x+=g*u):(0,i.warn)('Type3 character "'.concat(f.operatorListId,'" is not available.'))}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,s){this.ctx.rect(n,i,r-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),a={createCanvasGraphics:e=>new E(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new s.TilingPattern(e,n,this.ctx,a,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=i.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=i.Util.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,s.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.SHADING);const a=(0,r.getCurrentTransformInverse)(t);if(a){const{width:e,height:n}=t.canvas,[r,s,o,l]=i.Util.getAxialAlignedBoundingBox([0,0,e,n],a);this.ctx.fillRect(r,s,o-r,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,r.getCurrentTransform)(t));const a=[0,0,t.canvas.width,t.canvas.height];s=i.Util.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]);let u=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1),h=1,p=1;u>o&&(h=u/o,u=o),d>o&&(p=d/o,d=o),this.current.startNewPathAndClipBox([0,0,u,d]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(g,u,d),v=m.context;v.scale(1/h,1/p),v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:l,offsetY:c,scaleX:h,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,p),t.save()),f(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,a){if(_classPrivateMethodGet(this,k,x).call(this),g(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const s=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=o;const[a,l]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),d=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,o*l),g(this.ctx)}else g(this.ctx),this.ctx.rect(t[0],t[1],s,o),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateMethodGet(this,C,I).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let s,a,o,l=new Uint8Array(r*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const g of e.data){let e=128;for(;e>0;)u[d++]=g&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[a]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[a]=2,++h),s=1;s<n;s++){d=s*c,o=s*r,u[d-c]!==u[d]&&(l[o]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),i[e]&&(l[o+a]=i[e],++h),d++;if(u[d-c]!==u[d]&&(l[o+a]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),o=s*r,0!==u[d]&&(l[o]=8,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[o+a]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[o+a]=4,++h),h>1e3)return null;const p=new Int32Array([0,r,-1,0,-r,0,0,0,1]),f=new Path2D;for(s=0;h&&s<=n;s++){let e=s*r;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%r,s);const i=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),f.lineTo(e%r,e/r|0),l[e]||--h}while(i!==e);--s}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const r=this._createMaskCanvas(e),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,r.getCurrentTransform)(l);l.transform(t,n,s,a,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let r=0,d=o.length;r<d;r+=2){const e=i.Util.transform(c,[t,n,s,a,o[r],o[r+1]]),[d,h]=i.Util.applyTransform([0,0],e);l.drawImage(u.canvas,d,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:e,width:o,height:l,transform:c}=a,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save(),p(h,this.getObject(e,a)),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,(0,r.getCurrentTransformInverse)(t),s.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),u(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void(0,i.warn)("Dependent image isn't ready yet");const a=s.width,o=s.height,l=[];for(let i=0,c=r.length;i<c;i+=2)l.push({transform:[t,0,0,n,r[i],r[i+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!i.isNodeJS){const{filter:e}=s;"none"!==e&&""!==e&&(s.filter="none")}let a;if(s.scale(1/t,-1/n),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(i,e),a=this.applyTransferMapsToCanvas(i)}const o=this._scaleImage(a,(0,r.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=b((0,r.getCurrentTransform)(s),e.interpolate),u(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(r,e),i=this.applyTransferMapsToCanvas(r)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),u(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===S?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,r.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let s,a;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(r);if(n===i)if(0===e)s=a=1/n;else{const t=n*e;s=a=t<1?1/t:1}else if(0===e)s=1/n,a=1/i;else{const t=n*e,r=i*e;s=t<1?1/t:1,a=r<1?1/r:1}}else{const o=Math.abs(t*r-n*i),l=Math.hypot(t,n),c=Math.hypot(i,r);if(0===e)s=c/o,a=l/o;else{const t=e*o;s=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===r)return void t.stroke();const s=t.getLineDash();if(e&&t.save(),t.scale(i,r),s.length>0){const e=Math.max(i,r);t.setLineDash(s.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function x(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function I(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}t.CanvasGraphics=E;for(const T in i.OPS)void 0!==E.prototype[T]&&(E.prototype[i.OPS[T]]=E.prototype[T])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new d(e);case"Dummy":return new h}throw new Error("Unknown IR type: ".concat(e[0]))};var i=n(1),r=n(6);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}t.PathType=s;class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let l;if(o===s.STROKE||o===s.FILL){const s=t.current.getClippedPathBoundingBox(o,(0,r.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,d=t.cachedCanvases.getCanvas("pattern",c,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),n=i.Util.transform(n,[1,0,0,1,s[0],s[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),a(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);l.setTransform(p)}else a(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,i,r,s,a,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=a,a=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=a,a=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=a,a=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,_=(l[r+1]+t.offsetY)*t.scaleY;if(f>=_)return;const y=c[s],b=c[s+1],A=c[s+2],w=c[a],P=c[a+1],S=c[a+2],k=c[o],C=c[o+1],E=c[o+2],x=Math.round(f),I=Math.round(_);let T,F,R,M,N,O,D,L;for(let j=x;j<=I;j++){if(j<m){const e=j<f?0:(f-j)/(f-m);T=p-(p-g)*e,F=y-(y-w)*e,R=b-(b-P)*e,M=A-(A-S)*e}else{let e;e=j>_?1:m===_?0:(m-j)/(m-_),T=g-(g-v)*e,F=w-(w-k)*e,R=P-(P-C)*e,M=S-(S-E)*e}let e;e=j<f?0:j>_?1:(f-j)/(f-_),N=p-(p-v)*e,O=y-(y-k)*e,D=b-(b-C)*e,L=A-(A-E)*e;const t=Math.round(Math.min(T,N)),n=Math.round(Math.max(T,N));let i=d*j+4*t;for(let r=t;r<=n;r++)e=(T-r)/(T-N),e<0?e=0:e>1&&(e=1),u[i++]=F-(F-O)*e|0,u[i++]=R-(R-D)*e|0,u[i++]=M-(M-L)*e|0,u[i++]=255}}function u(e,t,n){const i=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<u;s++,t++)c(e,n,i[t],i[t+1],i[t+o],r[t],r[t+1],r[t+o]),c(e,n,i[t+o+1],i[t+1],i[t+o],r[t+o+1],r[t+1],r[t+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)c(e,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class d extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/d},p=o+4,f=l+4,g=n.getCanvas("mesh",p,f,!1),m=g.context,v=m.createImageData(o,l);if(t){const e=v.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const _ of this._figures)u(v,_,h);return m.putImageData(v,2,2),{canvas:g.canvas,offsetX:i-2*c,offsetY:r-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,o){let l;if(a(e,this._bbox),o===s.SHADING)l=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(e));else if(l=i.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=i.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===s.SHADING?null:this._background,t.cachedCanvases);return o!==s.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const p=1,f=2;class g{constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+l);const d=n[0],h=n[1],p=n[2],f=n[3],g=i.Util.singularValueDecompose2dScale(this.matrix),m=i.Util.singularValueDecompose2dScale(this.baseTransform),v=[g[0]*m[0],g[1]*m[1]],_=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),b=e.cachedCanvases.getCanvas("pattern",_.size,y.size,!0),A=b.context,w=u.createCanvasGraphics(A);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,o,c);let P=d,S=h,k=p,C=f;return d<0&&(P=0,k+=Math.abs(d)),h<0&&(S=0,C+=Math.abs(h)),A.translate(-_.scale*P,-y.scale*S),w.transform(_.scale,0,0,y.scale,0,0),A.save(),this.clipBbox(w,P,S,k,C),w.baseTransform=(0,r.getCurrentTransform)(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:b.canvas,scaleX:_.scale,scaleY:y.scale,offsetX:P,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(g.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax((0,r.getCurrentTransform)(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case p:const e=this.ctx;r.fillStyle=e.fillStyle,r.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case f:const a=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new i.FormatError("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,r){let a=n;r!==s.SHADING&&(a=i.Util.transform(a,t.baseTransform),this.matrix&&(a=i.Util.transform(a,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}_defineProperty(g,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=g},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=r,t.convertToRGBA=function(e){switch(e.kind){case i.ImageKind.GRAYSCALE_1BPP:return r(e);case i.ImageKind.RGB_24BPP:return function(e){let{src:t,srcPos:n=0,dest:r,destPos:s=0,width:a,height:o}=e,l=0;const c=t.length>>2,u=new Uint32Array(t.buffer,n,c);if(i.FeatureTest.isLittleEndian){for(;l<c-2;l+=3,s+=4){const e=u[l],t=u[l+1],n=u[l+2];r[s]=4278190080|e,r[s+1]=e>>>24|t<<8|4278190080,r[s+2]=t>>>16|n<<16|4278190080,r[s+3]=n>>>8|4278190080}for(let e=4*l,n=t.length;e<n;e+=3)r[s++]=t[e]|t[e+1]<<8|t[e+2]<<16|4278190080}else{for(;l<c-2;l+=3,s+=4){const e=u[l],t=u[l+1],n=u[l+2];r[s]=255|e,r[s+1]=e<<24|t>>>8|255,r[s+2]=t<<16|n>>>16|255,r[s+3]=n<<8|255}for(let e=4*l,n=t.length;e<n;e+=3)r[s++]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|255}return{srcPos:n,destPos:s}}(e)}return null},t.grayToRGBA=function(e,t){if(i.FeatureTest.isLittleEndian)for(let n=0,i=e.length;n<i;n++)t[n]=65793*e[n]|4278190080;else for(let n=0,i=e.length;n<i;n++)t[n]=16843008*e[n]|255};var i=n(1);function r(e){let{src:t,srcPos:n=0,dest:r,width:s,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}=e;const c=i.FeatureTest.isLittleEndian?4278190080:255,[u,d]=l?[o,c]:[c,o],h=s>>3,p=7&s,f=t.length;r=new Uint32Array(r.buffer);let g=0;for(let i=0;i<a;i++){for(const i=n+h;n<i;n++){const e=n<f?t[n]:255;r[g++]=128&e?d:u,r[g++]=64&e?d:u,r[g++]=32&e?d:u,r[g++]=16&e?d:u,r[g++]=8&e?d:u,r[g++]=4&e?d:u,r[g++]=2&e?d:u,r[g++]=1&e?d:u}if(0===p)continue;const e=n<f?t[n++]:255;for(let t=0;t<p;t++)r[g++]=e&1<<7-t?d:u}return{srcPos:n,destPos:g}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=n(1);const r=1,s=2,a=1,o=2,l=3,c=4,u=5,d=6,h=7,p=8;function f(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new i.AbortException(e.message);case"MissingPDFException":return new i.MissingPDFException(e.message);case"PasswordException":return new i.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new i.UnknownErrorException(e.message,e.details);default:return new i.UnknownErrorException(e.message,e.toString())}}var g=new WeakSet,m=new WeakSet,v=new WeakSet;function _(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],d={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=a,l>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:l,streamId:t}),delete a.streamSinks[t])},error(e){(0,i.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:u,streamId:t,reason:f(e)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise((function(t){t(o(e.data,d))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,reason:f(e)})}))}function y(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,g=this.streamControllers[t],m=this.streamSinks[t];switch(e.stream){case p:e.success?g.startCall.resolve():g.startCall.reject(f(e.reason));break;case h:e.success?g.pullCall.resolve():g.pullCall.reject(f(e.reason));break;case d:if(!m){s.postMessage({sourceName:n,targetName:r,stream:h,streamId:t,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=m.onPull)||void 0===t?void 0:t.call(m))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:h,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:h,streamId:t,reason:f(e)})}));break;case c:if((0,i.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case l:if((0,i.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),_classPrivateMethodGet(this,v,b).call(this,g,t);break;case u:(0,i.assert)(g,"error should have stream controller"),g.controller.error(f(e.reason)),_classPrivateMethodGet(this,v,b).call(this,g,t);break;case o:e.success?g.cancelCall.resolve():g.cancelCall.reject(f(e.reason)),_classPrivateMethodGet(this,v,b).call(this,g,t);break;case a:if(!m)break;new Promise((function(t){var n;t(null===(n=m.onCancel)||void 0===n?void 0:n.call(m,f(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,reason:f(e)})})),m.sinkCapability.reject(f(e.reason)),m.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function b(e,t){var n,i,r;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(i=e.pullCall)||void 0===i?void 0:i.promise,null===(r=e.cancelCall)||void 0===r?void 0:r.promise]),delete this.streamControllers[t]}t.MessageHandler=class{constructor(e,t,n){_classPrivateMethodInitSpec(this,v),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,g),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void _classPrivateMethodGet(this,m,y).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===r)n.resolve(t.data);else{if(t.callback!==s)throw new Error("Unexpected callback case");n.reject(f(t.reason))}return}const i=this.actionHandler[t.action];if(!i)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,a=t.sourceName;new Promise((function(e){e(i(t.data))})).then((function(i){n.postMessage({sourceName:e,targetName:a,callback:r,callbackId:t.callbackId,data:i})}),(function(i){n.postMessage({sourceName:e,targetName:a,callback:s,callbackId:t.callbackId,reason:f(i)})}))}else t.streamId?_classPrivateMethodGet(this,g,_).call(this,t):i(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=new i.PromiseCapability;this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const a=new i.PromiseCapability;return this.streamControllers[s]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},r),a.promise},pull:e=>{const t=new i.PromiseCapability;return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:d,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,i.assert)(e instanceof Error,"cancel must have a valid reason");const t=new i.PromiseCapability;return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:s,reason:f(e)}),t.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(1),r=new WeakMap,s=new WeakMap;t.Metadata=class{constructor(e){let{parsedData:t,rawData:n}=e;_classPrivateFieldInitSpec(this,r,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,s,{writable:!0,value:void 0}),_classPrivateFieldSet(this,r,t),_classPrivateFieldSet(this,s,n)}getRaw(){return _classPrivateFieldGet(this,s)}get(e){var t;return null!==(t=_classPrivateFieldGet(this,r).get(e))&&void 0!==t?t:null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,r))}has(e){return _classPrivateFieldGet(this,r).has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=n(1),r=n(8);const s=Symbol("INTERNAL");var a=new WeakMap;class o{constructor(e,t){_classPrivateFieldInitSpec(this,a,{writable:!0,value:!0}),this.name=e,this.intent=t}get visible(){return _classPrivateFieldGet(this,a)}_setVisible(e,t){e!==s&&(0,i.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,a,t)}}var l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakSet;function p(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let s;if(Array.isArray(t))s=_classPrivateMethodGet(this,h,p).call(this,t);else{if(!_classPrivateFieldGet(this,c).has(t))return(0,i.warn)("Optional content group not found: ".concat(t)),!0;s=_classPrivateFieldGet(this,c).get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}t.OptionalContentConfig=class{constructor(e){if(_classPrivateMethodInitSpec(this,h),_classPrivateFieldInitSpec(this,l,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,_classPrivateFieldSet(this,d,e.order);for(const t of e.groups)_classPrivateFieldGet(this,c).set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of _classPrivateFieldGet(this,c).values())e._setVisible(s,!1);for(const t of e.on)_classPrivateFieldGet(this,c).get(t)._setVisible(s,!0);for(const t of e.off)_classPrivateFieldGet(this,c).get(t)._setVisible(s,!1);_classPrivateFieldSet(this,u,this.getHash())}}isVisible(e){if(0===_classPrivateFieldGet(this,c).size)return!0;if(!e)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldGet(this,c).has(e.id)?_classPrivateFieldGet(this,c).get(e.id).visible:((0,i.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return _classPrivateMethodGet(this,h,p).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,i.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(this,c).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,i.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(this,c).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,i.warn)("Optional content group not found: ".concat(t)),!0;if(!_classPrivateFieldGet(this,c).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!_classPrivateFieldGet(this,c).has(t))return(0,i.warn)("Optional content group not found: ".concat(t)),!0;if(_classPrivateFieldGet(this,c).get(t).visible)return!1}return!0}return(0,i.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,i.warn)("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(this,c).has(e)?(_classPrivateFieldGet(this,c).get(e)._setVisible(s,!!t),_classPrivateFieldSet(this,l,null)):(0,i.warn)("Optional content group not found: ".concat(e))}get hasInitialVisibility(){return null===_classPrivateFieldGet(this,u)||this.getHash()===_classPrivateFieldGet(this,u)}getOrder(){return _classPrivateFieldGet(this,c).size?_classPrivateFieldGet(this,d)?_classPrivateFieldGet(this,d).slice():[..._classPrivateFieldGet(this,c).keys()]:null}getGroups(){return _classPrivateFieldGet(this,c).size>0?(0,i.objectFromMap)(_classPrivateFieldGet(this,c)):null}getGroup(e){return _classPrivateFieldGet(this,c).get(e)||null}getHash(){if(null!==_classPrivateFieldGet(this,l))return _classPrivateFieldGet(this,l);const e=new r.MurmurHash3_64;for(const[t,n]of _classPrivateFieldGet(this,c))e.update("".concat(t,":").concat(n.visible));return _classPrivateFieldSet(this,l,e.hexdigest())}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(1),r=n(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:n,initialData:r,progressiveDone:s=!1,contentDispositionFilename:a=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,i.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(null===r||void 0===r?void 0:r.length)>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)}));(0,i.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,i,r;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(r=i.onProgress)||void 0===r||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new s(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new a(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}};class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,r.isPdfFile)(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new i.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new i.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=n(1),r=n(20);function s(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const n in e){const i=e[n];void 0!==i&&t.append(n,i)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,i.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new i.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const n=t.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(n-1));const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:o(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+t+'".'):new i.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,r.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,s.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:i,disableRange:r}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*i||r||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var i=n(1),r=n(21),s=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const s=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=o(n),e&&(n=unescape(n),0===r&&(n=l(n))),s.push(n)}return s.join("")}(e),n)return a(c(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),a(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),s=(0,i.stringToBytes)(n);n=r.decode(s),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return s(t,i)}))}return""};var i=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(1),r=n(20);class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const e=this.httpHeaders[r];void 0!==e&&t.setRequestHeader(r,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const i=this.pendingRequests[e];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;var s;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void(null===(s=n.onError)||void 0===s||s.call(n,r.status));const a=r.status||200;var o;if((200!==a||206!==n.expectedStatus)&&a!==n.expectedStatus)return void(null===(o=n.onError)||void 0===o||o.call(n,r.status));const l=function(e){const t=e.response;return"string"!==typeof t?t:(0,i.stringToBytes)(t).buffer}(r);if(206===a){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:l})}else if(l)n.onDone({begin:0,chunk:l});else{var c;null===(c=n.onError)||void 0===c||c.call(n,r.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class a{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:i,suggestedLength:s}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,r.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new i.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,r.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new i.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=n(1),r=n(20);const s=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=__webpack_require__(6558),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse("file:///".concat(e)):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new d(this):new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new h(this,e,t):new u(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}};class a{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class c extends a{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(n)};if(this._request=null,"http:"===this._url.protocol){const n=__webpack_require__(2001);this._request=n.request(l(this._url,e.httpHeaders),t)}else{const n=__webpack_require__(3779);this._request=n.request(l(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class u extends o{constructor(e,t,n){super(e),this._httpHeaders={};for(const i in e.httpHeaders){const t=e.httpHeaders[i];void 0!==t&&(this._httpHeaders[i]=t)}this._httpHeaders.Range="bytes=".concat(t,"-").concat(n-1);const r=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new i.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=__webpack_require__(2001);this._request=e.request(l(this._url,this._httpHeaders),r)}else{const e=__webpack_require__(3779);this._request=e.request(l(this._url,this._httpHeaders),r)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class d extends a{constructor(e){super(e);let t=decodeURIComponent(this._url.path);s.test(this._url.href)&&(t=t.replace(/^\//,""));const n=__webpack_require__(172);n.lstat(t,((e,r)=>{if(e)return"ENOENT"===e.code&&(e=new i.MissingPDFException('Missing PDF "'.concat(t,'".'))),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=r.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}))}}class h extends o{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);s.test(this._url.href)&&(i=i.replace(/^\//,""));const r=__webpack_require__(172);this._setReadableStream(r.createReadStream(i,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(6),r=n(1);const s="normal",a="normal",o="#000000",l=["butt","round","square"],c=["miter","round","bevel"],u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="data:".concat(t,";base64,");for(let s=0,a=e.length;s<a;s+=3){const t=255&e[s],n=255&e[s+1],o=255&e[s+2];r+=i[t>>2]+i[(3&t)<<4|n>>4]+i[s+1<a?(15&n)<<2|o>>6:64]+i[s+2<a?63&o:64]}return r},d=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[r]=e}function n(e,n,i,r){let s=r;const a=n.length;i[s]=a>>24&255,i[s+1]=a>>16&255,i[s+2]=a>>8&255,i[s+3]=255&a,s+=4,i[s]=255&e.charCodeAt(0),i[s+1]=255&e.charCodeAt(1),i[s+2]=255&e.charCodeAt(2),i[s+3]=255&e.charCodeAt(3),s+=4,i.set(n,s),s+=n.length;const o=function(e,n,i){let r=-1;for(let s=n;s<i;s++){const n=255&(r^e[s]);r=r>>>8^t[n]}return-1^r}(i,r+4,s);i[s]=o>>24&255,i[s+1]=o>>16&255,i[s+2]=o>>8&255,i[s+3]=255&o}function i(e){let t=e.length;const n=65535,i=Math.ceil(t/n),r=new Uint8Array(2+t+5*i+4);let s=0;r[s++]=120,r[s++]=156;let a=0;for(;t>n;)r[s++]=0,r[s++]=255,r[s++]=255,r[s++]=0,r[s++]=0,r.set(e.subarray(a,a+n),s),s+=n,a+=n,t-=n;r[s++]=1,r[s++]=255&t,r[s++]=t>>8&255,r[s++]=255&~t,r[s++]=(65535&~t)>>8&255,r.set(e.subarray(a),s),s+=e.length-a;const o=function(e,t,n){let i=1,r=0;for(let s=t;s<n;++s)i=(i+(255&e[s]))%65521,r=(r+i)%65521;return r<<16|i}(e,0,e.length);return r[s++]=o>>24&255,r[s++]=o>>16&255,r[s++]=o>>8&255,r[s++]=255&o,r}function s(t,s,a,o){const l=t.width,c=t.height;let d,h,p;const f=t.data;switch(s){case r.ImageKind.GRAYSCALE_1BPP:h=0,d=1,p=l+7>>3;break;case r.ImageKind.RGB_24BPP:h=2,d=8,p=3*l;break;case r.ImageKind.RGBA_32BPP:h=6,d=8,p=4*l;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+p)*c);let m=0,v=0;for(let e=0;e<c;++e)g[m++]=0,g.set(f.subarray(v,v+p),m),v+=p,m+=p;if(s===r.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(let e=0;e<c;e++){m++;for(let e=0;e<p;e++)g[m++]^=255}}const _=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,d,h,0,0,0]),y=function(e){if(!r.isNodeJS)return i(e);try{const t=parseInt(process.versions.node)>=8?e:Buffer.from(e),n=__webpack_require__(2258).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return i(e)}(g),b=e.length+36+_.length+y.length,A=new Uint8Array(b);let w=0;return A.set(e,w),w+=e.length,n("IHDR",_,A,w),w+=12+_.length,n("IDATA",y,A,w),w+=12+y.length,n("IEND",new Uint8Array(0),A,w),u(A,"image/png",a)}return function(e,t,n){return s(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=a,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function p(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function f(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(p(e[0])," ").concat(p(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){const t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(p(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(p(e[4])," ").concat(p(e[5]),")");return"matrix(".concat(p(e[0])," ").concat(p(e[1])," ").concat(p(e[2])," ").concat(p(e[3])," ").concat(p(e[4])," ")+"".concat(p(e[5]),")")}let g=0,m=0,v=0;t.SVGGraphics=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new h,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const i in r.OPS)this._operatorIdMapping[r.OPS[i]]=i}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let i=0,s=t.length;i<s;i++)if(t[i]===r.OPS.dependency)for(const e of n[i]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,i,s,a){const o=[e,t,n,i,s,a];this.transformMatrix=r.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,i=e.fnArray,r=[];for(let s=0,a=i.length;s<a;s++){const e=i[s];r.push({fnId:e,fn:t[e],args:n[s]})}return function(e){let t=[];const n=[];for(const i of e)"save"!==i.fn?"restore"===i.fn?t=n.pop():t.push(i):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}(r)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,i=t.args;switch(0|n){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(i);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(i[0],i[1]);break;case r.OPS.setFont:this.setFont(i);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(i[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(i[0],i[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(i[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(i[0]);break;case r.OPS.setHScale:this.setHScale(i[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(i[0],i[1],i[2],i[3],i[4],i[5]);break;case r.OPS.setTextRise:this.setTextRise(i[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(i[0]);break;case r.OPS.setLineWidth:this.setLineWidth(i[0]);break;case r.OPS.setLineJoin:this.setLineJoin(i[0]);break;case r.OPS.setLineCap:this.setLineCap(i[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(i[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(i[0],i[1],i[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(i[0],i[1],i[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(i);break;case r.OPS.setFillColorN:this.setFillColorN(i);break;case r.OPS.shadingFill:this.shadingFill(i[0]);break;case r.OPS.setDash:this.setDash(i[0],i[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(i[0]);break;case r.OPS.setFlatness:this.setFlatness(i[0]);break;case r.OPS.setGState:this.setGState(i[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(i[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(i[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(i[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(i[0],i[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(i[0],i[1],i[2],i[3],i[4],i[5]);break;case r.OPS.constructPath:this.constructPath(i[0],i[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,r.warn)("Unimplemented operator ".concat(e))}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,i,r,s){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,n,i,r,s],a.textMatrixScale=Math.hypot(e,t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(p(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",p(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(p(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",p(-n.y))}showText(e){const t=this.current,n=t.font,i=t.fontSize;if(0===i)return;const l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,g=n.vertical,m=g?1:-1,v=n.defaultVMetrics,_=i*t.fontMatrix[0];let y=0;for(const r of e){if(null===r){y+=d*u;continue}if("number"===typeof r){y+=m*r*i/1e3;continue}const e=(r.isSpace?u:0)+c,s=r.fontChar;let a,o,h=r.width;if(g){let e;const t=r.vmetric||v;e=r.vmetric?t[1]:.5*h,e=-e*_;const n=t[2]*_;h=t?-t[0]:h,a=e/l,o=(y+n)/l}else a=y/l,o=0;(r.isInFont||n.missingFile)&&(t.xcoords.push(t.x+a),g&&t.ycoords.push(-t.y+o),t.tspan.textContent+=s),y+=g?h*_-e*d:h*_+e*d}t.tspan.setAttributeNS(null,"x",t.xcoords.map(p).join(" ")),g?t.tspan.setAttributeNS(null,"y",t.ycoords.map(p).join(" ")):t.tspan.setAttributeNS(null,"y",p(-t.y)),g?t.y-=y:t.x+=y*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(p(t.fontSize),"px")),t.fontStyle!==s&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==a&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const b=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(b===r.TextRenderingMode.FILL||b===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==o&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),b===r.TextRenderingMode.STROKE||b===r.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let A=t.textMatrix;0!==t.textRise&&(A=A.slice(),A[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(f(A)," scale(").concat(p(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=u(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=s,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",p(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){var e;const t=this.current;t.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=l[e]}setLineJoin(e){this.current.lineJoin=c[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=r.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=r.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const{width:t,height:n}=this.viewport,i=r.Util.inverseTransform(this.transformMatrix),[s,a,o,l]=r.Util.getAxialAlignedBoundingBox([0,0,t,n],i),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",s),c.setAttributeNS(null,"y",a),c.setAttributeNS(null,"width",o-s),c.setAttributeNS(null,"height",l-a),c.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&c.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(c)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,[s,a,o,l]=e[4],c=e[5],u=e[6],d=e[7],h="shading".concat(v++),[p,f,g,m]=r.Util.normalizeRect([...r.Util.applyTransform([s,a],i),...r.Util.applyTransform([o,l],i)]),[_,y]=r.Util.singularValueDecompose2dScale(i),b=c*_,A=u*y,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",h),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",b),w.setAttributeNS(null,"height",A),w.setAttributeNS(null,"x","".concat(p)),w.setAttributeNS(null,"y","".concat(f));const P=this.svg,S=this.transformMatrix,k=this.current.fillColor,C=this.current.strokeColor,E=this.svgFactory.create(g-p,m-f);if(this.svg=E,this.transformMatrix=i,2===d){const e=r.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=P,this.transformMatrix=S,this.current.fillColor=k,this.current.strokeColor=C,w.append(E.childNodes[0]),this.defs.append(w),"url(#".concat(h,")")}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading".concat(v++),n=e[3];let i;switch(e[1]){case"axial":const n=e[4],r=e[5];i=this.svgFactory.createElement("svg:linearGradient"),i.setAttributeNS(null,"id",t),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"x1",n[0]),i.setAttributeNS(null,"y1",n[1]),i.setAttributeNS(null,"x2",r[0]),i.setAttributeNS(null,"y2",r[1]);break;case"radial":const s=e[4],a=e[5],o=e[6],l=e[7];i=this.svgFactory.createElement("svg:radialGradient"),i.setAttributeNS(null,"id",t),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"cx",a[0]),i.setAttributeNS(null,"cy",a[1]),i.setAttributeNS(null,"r",l),i.setAttributeNS(null,"fx",s[0]),i.setAttributeNS(null,"fy",s[1]),i.setAttributeNS(null,"fr",o);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),i.append(t)}return this.defs.append(i),"url(#".concat(t,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let i=n.x,s=n.y,a=[],o=0;for(const l of e)switch(0|l){case r.OPS.rectangle:i=t[o++],s=t[o++];const e=i+t[o++],n=s+t[o++];a.push("M",p(i),p(s),"L",p(e),p(s),"L",p(e),p(n),"L",p(i),p(n),"Z");break;case r.OPS.moveTo:i=t[o++],s=t[o++],a.push("M",p(i),p(s));break;case r.OPS.lineTo:i=t[o++],s=t[o++],a.push("L",p(i),p(s));break;case r.OPS.curveTo:i=t[o+4],s=t[o+5],a.push("C",p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3]),p(i),p(s)),o+=6;break;case r.OPS.curveTo2:a.push("C",p(i),p(s),p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3])),i=t[o+2],s=t[o+3],o+=4;break;case r.OPS.curveTo3:i=t[o+2],s=t[o+3],a.push("C",p(t[o]),p(t[o+1]),p(i),p(s),p(i),p(s)),o+=4;break;case r.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(i,s)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath".concat(g++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",f(this.transformMatrix));const i=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(i),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(t))}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let i=n.dashArray;1!==t&&i.length>0&&(i=i.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",p(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",p(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",i.map(p).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",p(t*n.dashPhase)+"px")}eoFill(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}paintInlineImageXObject(e,t){const n=e.width,i=e.height,r=d(e,this.forceDataSchema,!!t),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",p(n)),s.setAttributeNS(null,"height",p(i)),this.current.element=s,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",p(-i)),a.setAttributeNS(null,"width",p(n)+"px"),a.setAttributeNS(null,"height",p(i)+"px"),a.setAttributeNS(null,"transform","scale(".concat(p(1/n)," ").concat(p(-1/i),")")),t?t.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,r.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,i=t.width,s=t.height,a=n.fillColor;n.maskId="mask".concat(m++);const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",p(i)),l.setAttributeNS(null,"height",p(s)),l.setAttributeNS(null,"fill",a),l.setAttributeNS(null,"mask","url(#".concat(n.maskId,")")),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",p(e)),i.setAttributeNS(null,"height",p(n)),this.current.element=i,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",f(e.transform)),t.append(i),this.svg=i,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};return function e(i){var r;if(!i)return;let s=null;const a=i.name;if("#text"===a)s=i.value;else{if(!n.shouldBuildText(a))return;null!==i&&void 0!==i&&null!==(r=i.attributes)&&void 0!==r&&r.textContent?s=i.attributes.textContent:i.value&&(s=i.value)}if(null!==s&&t.push({str:s}),i.children)for(const t of i.children)e(t)}(e),i}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,r.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:n}=e,i=getComputedStyle(t),s=i.getPropertyValue("visibility"),a=parseFloat(i.getPropertyValue("--scale-factor"));"visible"===s&&(!a||Math.abs(a-n.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const o=new d(e);return o._render(),o},t.updateTextLayer=function(e){let{container:t,viewport:n,textDivs:i,textDivProperties:s,isOffscreenCanvasSupported:a,mustRotate:o=!0,mustRescale:c=!0}=e;if(o&&(0,r.setLayerDimensions)(t,{rotation:n.rotation}),c){const e=l(0,a),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of i)t.properties=s.get(n),t.div=n,u(t)}};var i=n(1),r=n(6);const s=30,a=.8,o=new Map;function l(e,t){let n;if(t&&i.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function c(e,t,n){const r=document.createElement("span"),c={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(r);const u=i.Util.transform(e._transform,t.transform);let d=Math.atan2(u[1],u[0]);const h=n[t.fontName];h.vertical&&(d+=Math.PI/2);const p=Math.hypot(u[2],u[3]),f=p*function(e,t){const n=o.get(e);if(n)return n;const i=l(s,t);i.font="".concat(s,"px ").concat(e);const r=i.measureText("");let c=r.fontBoundingBoxAscent,u=Math.abs(r.fontBoundingBoxDescent);if(c){const t=c/(c+u);return o.set(e,t),i.canvas.width=i.canvas.height=0,t}i.strokeStyle="red",i.clearRect(0,0,s,s),i.strokeText("g",0,0);let d=i.getImageData(0,0,s,s).data;u=0;for(let a=d.length-1-3;a>=0;a-=4)if(d[a]>0){u=Math.ceil(a/4/s);break}i.clearRect(0,0,s,s),i.strokeText("A",0,s),d=i.getImageData(0,0,s,s).data,c=0;for(let a=0,o=d.length;a<o;a+=4)if(d[a]>0){c=s-Math.floor(a/4/s);break}if(i.canvas.width=i.canvas.height=0,c){const t=c/(c+u);return o.set(e,t),t}return o.set(e,a),a}(h.fontFamily,e._isOffscreenCanvasSupported);let g,m;0===d?(g=u[4],m=u[5]-f):(g=u[4]+f*Math.sin(d),m=u[5]-f*Math.cos(d));const v="calc(var(--scale-factor)*",_=r.style;e._container===e._rootContainer?(_.left="".concat((100*g/e._pageWidth).toFixed(2),"%"),_.top="".concat((100*m/e._pageHeight).toFixed(2),"%")):(_.left="".concat(v).concat(g.toFixed(2),"px)"),_.top="".concat(v).concat(m.toFixed(2),"px)")),_.fontSize="".concat(v).concat(p.toFixed(2),"px)"),_.fontFamily=h.fontFamily,c.fontSize=p,r.setAttribute("role","presentation"),r.textContent=t.str,r.dir=t.dir,e._fontInspectorEnabled&&(r.dataset.fontName=t.fontName),0!==d&&(c.angle=d*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}y&&(c.canvasWidth=h.vertical?t.height:t.width),e._textDivProperties.set(r,c),e._isReadableStream&&e._layoutText(r)}function u(e){const{div:t,scale:n,properties:i,ctx:r,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(0!==i.canvasWidth&&i.hasText){const{fontFamily:c}=o,{canvasWidth:u,fontSize:d}=i;s===d&&a===c||(r.font="".concat(d*n,"px ").concat(c),e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=r.measureText(t.textContent);h>0&&(l="scaleX(".concat(u*n/h,")"))}0!==i.angle&&(l="rotate(".concat(i.angle,"deg) ").concat(l)),l.length>0&&(o.transform=l)}class d{constructor(e){var t;let{textContentSource:n,container:s,viewport:a,textDivs:o,textDivProperties:c,textContentItemsStr:u,isOffscreenCanvasSupported:d}=e;this._textContentSource=n,this._isReadableStream=n instanceof ReadableStream,this._container=this._rootContainer=s,this._textDivs=o||[],this._textContentItemsStr=u||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._textDivProperties=c||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:a.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:l(0,d)};const{pageWidth:h,pageHeight:p,pageX:f,pageY:g}=a.rawDims;this._transform=[1,0,0,-1,-f,g+p],this._pageWidth=h,this._pageHeight=p,(0,r.setLayerDimensions)(s,a),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),c(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id","".concat(n.id)),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,u(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new i.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((i=>{let{value:r,done:s}=i;s?e.resolve():(Object.assign(t,r.styles),this._processItems(r.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}t.TextLayerRenderTask=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var i=n(1),r=n(4),s=n(28),a=n(33),o=n(6),l=n(34),c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,y=new WeakSet,b=new WeakSet,A=new WeakSet,w=new WeakSet;class P{constructor(e){let{uiManager:t,pageIndex:n,div:i,accessibilityManager:r,annotationLayer:o,viewport:S,l10n:k}=e;_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,y),_classPrivateFieldInitSpec(this,c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:void 0});const C=[s.FreeTextEditor,a.InkEditor,l.StampEditor];if(!P._initialized){P._initialized=!0;for(const e of C)e.initialize(k)}t.registerEditorTypes(C),_classPrivateFieldSet(this,_,t),this.pageIndex=n,this.div=i,_classPrivateFieldSet(this,c,r),_classPrivateFieldSet(this,d,o),this.viewport=S,_classPrivateFieldGet(this,_).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(this,f).size}updateToolbar(e){_classPrivateFieldGet(this,_).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(this,_).getMode();_classPrivateMethodGet(this,w,E).call(this),e===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),e!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",e===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||_classPrivateFieldGet(this,_).getMode()===i.AnnotationEditorType.INK){if(!e)for(const e of _classPrivateFieldGet(this,f).values())if(e.isEmpty())return void e.setInBackground();_classPrivateMethodGet(this,b,k).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){_classPrivateFieldGet(this,_).setEditingState(e)}addCommands(e){_classPrivateFieldGet(this,_).addCommands(e)}enable(){this.div.style.pointerEvents="auto";const e=new Set;for(const n of _classPrivateFieldGet(this,f).values())n.enableEditing(),n.annotationElementId&&e.add(n.annotationElementId);if(!_classPrivateFieldGet(this,d))return;const t=_classPrivateFieldGet(this,d).getEditableAnnotations();for(const n of t){if(n.hide(),_classPrivateFieldGet(this,_).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){_classPrivateFieldSet(this,v,!0),this.div.style.pointerEvents="none";const e=new Set;for(const n of _classPrivateFieldGet(this,f).values()){var t;n.disableEditing(),n.annotationElementId&&null===n.serialize()?(null===(t=this.getEditableAnnotation(n.annotationElementId))||void 0===t||t.show(),n.remove()):e.add(n.annotationElementId)}if(_classPrivateFieldGet(this,d)){const t=_classPrivateFieldGet(this,d).getEditableAnnotations();for(const n of t){const{id:t}=n.data;e.has(t)||_classPrivateFieldGet(this,_).isDeletedAnnotationElement(t)||n.show()}}_classPrivateMethodGet(this,w,E).call(this),this.isEmpty&&(this.div.hidden=!0),_classPrivateFieldSet(this,v,!1)}getEditableAnnotation(e){var t;return(null===(t=_classPrivateFieldGet(this,d))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){_classPrivateFieldGet(this,_).getActive()!==e&&_classPrivateFieldGet(this,_).setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,h))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,p)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,h))}attach(e){_classPrivateFieldGet(this,f).set(e.id,e);const{annotationElementId:t}=e;t&&_classPrivateFieldGet(this,_).isDeletedAnnotationElement(t)&&_classPrivateFieldGet(this,_).removeDeletedAnnotationElement(e)}detach(e){var t;_classPrivateFieldGet(this,f).delete(e.id),null===(t=_classPrivateFieldGet(this,c))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!_classPrivateFieldGet(this,v)&&e.annotationElementId&&_classPrivateFieldGet(this,_).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_classPrivateFieldGet(this,_).removeEditor(e),e.div.contains(document.activeElement)&&setTimeout((()=>{_classPrivateFieldGet(this,_).focusMainContainer()}),0),e.div.remove(),e.isAttachedToDOM=!1,_classPrivateFieldGet(this,m)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.annotationElementId&&(_classPrivateFieldGet(this,_).addDeletedAnnotationElement(e.annotationElementId),r.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),_classPrivateFieldGet(this,_).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),_classPrivateFieldGet(this,_).addToAnnotationStorage(e)}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&(e._focusEventsAllowed=!1,setTimeout((()=>{e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),n.focus())}),0)),e._structTreeParentId=null===(t=_classPrivateFieldGet(this,c))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,_).getId()}pasteEditor(e,t){_classPrivateFieldGet(this,_).updateToolbar(e),_classPrivateFieldGet(this,_).updateMode(e);const{offsetX:n,offsetY:i}=_classPrivateMethodGet(this,A,C).call(this),r=this.getNextId(),s=_classPrivateMethodGet(this,y,S).call(this,{parent:this,id:r,x:n,y:i,uiManager:_classPrivateFieldGet(this,_),isCentered:!0,...t});s&&this.add(s)}deserialize(e){var t;switch(null!==(t=e.annotationType)&&void 0!==t?t:e.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(e,this,_classPrivateFieldGet(this,_));case i.AnnotationEditorType.INK:return a.InkEditor.deserialize(e,this,_classPrivateFieldGet(this,_));case i.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(e,this,_classPrivateFieldGet(this,_))}return null}addNewEditor(){_classPrivateMethodGet(this,b,k).call(this,_classPrivateMethodGet(this,A,C).call(this),!0)}setSelected(e){_classPrivateFieldGet(this,_).setSelected(e)}toggleSelected(e){_classPrivateFieldGet(this,_).toggleSelected(e)}isSelected(e){return _classPrivateFieldGet(this,_).isSelected(e)}unselect(e){_classPrivateFieldGet(this,_).unselect(e)}pointerup(e){const{isMac:t}=i.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldGet(this,g)&&(_classPrivateFieldSet(this,g,!1),_classPrivateFieldGet(this,u)?_classPrivateFieldGet(this,_).getMode()!==i.AnnotationEditorType.STAMP?_classPrivateMethodGet(this,b,k).call(this,e,!1):_classPrivateFieldGet(this,_).unselectAll():_classPrivateFieldSet(this,u,!0))}pointerdown(e){if(_classPrivateFieldGet(this,g))return void _classPrivateFieldSet(this,g,!1);const{isMac:t}=i.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;_classPrivateFieldSet(this,g,!0);const n=_classPrivateFieldGet(this,_).getActive();_classPrivateFieldSet(this,u,!n||n.isEmpty())}findNewParent(e,t,n){const i=_classPrivateFieldGet(this,_).findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){var e;(null===(e=_classPrivateFieldGet(this,_).getActive())||void 0===e?void 0:e.parent)===this&&(_classPrivateFieldGet(this,_).commitOrRemove(),_classPrivateFieldGet(this,_).setActiveEditor(null));for(const n of _classPrivateFieldGet(this,f).values()){var t;null===(t=_classPrivateFieldGet(this,c))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,_classPrivateFieldGet(this,f).clear(),_classPrivateFieldGet(this,_).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t);for(const n of _classPrivateFieldGet(this,_).getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;_classPrivateFieldGet(this,_).commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}function S(e){switch(_classPrivateFieldGet(this,_).getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(e);case i.AnnotationEditorType.INK:return new a.InkEditor(e);case i.AnnotationEditorType.STAMP:return new l.StampEditor(e)}return null}function k(e,t){const n=this.getNextId(),i=_classPrivateMethodGet(this,y,S).call(this,{parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:_classPrivateFieldGet(this,_),isCentered:t});return i&&this.add(i),i}function C(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),s=Math.max(0,t),a=(r+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function E(){_classPrivateFieldSet(this,m,!0);for(const e of _classPrivateFieldGet(this,f).values())e.isEmpty()&&e.remove();_classPrivateFieldSet(this,m,!1)}_defineProperty(P,"_initialized",!1),t.AnnotationEditorLayer=P},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),s=n(5),a=n(4),o=n(29),l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakSet,_=new WeakSet,y=new WeakSet,b=new WeakSet,A=new WeakSet,w=new WeakSet,P=new WeakSet;class S extends a.AnnotationEditor{static get _keyboardManager(){const e=S.prototype,t=e=>e.isEmpty(),n=s.AnnotationEditorUIManager.TRANSLATE_SMALL,i=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}constructor(e){super({...e,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,v),_classPrivateFieldInitSpec(this,l,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:this.editorDivInput.bind(this)}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:"".concat(this.id,"-editor")}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:null}),_classPrivateFieldSet(this,h,e.color||S._defaultColor||a.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,g,e.fontSize||S._defaultFontSize)}static initialize(e){a.AnnotationEditor.initialize(e,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:S._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:S._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,v,k).call(this,t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,_,C).call(this,t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,S._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,S._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,g)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,h)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-S._internalPadding*e,-(S._internalPadding+_classPrivateFieldGet(this,g))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,d)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,c)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,l)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,u)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,f)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,d)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,c)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,l)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,u)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width?_classPrivateMethodGet(this,P,F).call(this):(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=_classPrivateFieldGet(this,p),t=_classPrivateFieldSet(this,p,_classPrivateMethodGet(this,y,E).call(this).trimEnd());if(e===t)return;const n=e=>{_classPrivateFieldSet(this,p,e),e?(_classPrivateMethodGet(this,A,I).call(this),this._uiManager.rebuild(this),_classPrivateMethodGet(this,b,x).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),_classPrivateMethodGet(this,b,x).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){S._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,f)),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)})),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(_classPrivateFieldGet(this,g),"px * var(--scale-factor))"),n.color=_classPrivateFieldGet(this,h),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=_classPrivateFieldGet(this,m);let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(r[0]-c)/o,h=t+this.height-(r[1]-u)/l;break;case 90:d=e+(r[0]-c)/o,h=t-(r[1]-u)/l,[s,a]=[a,-s];break;case 180:d=e-this.width+(r[0]-c)/o,h=t-(r[1]-u)/l,[s,a]=[-s,-a];break;case 270:d=e+(r[0]-c-this.height*l)/o,h=t+(r[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(d*n,h*i,s,a)}else this.setAt(e*n,t*i,this.width*n,this.height*i);_classPrivateMethodGet(this,A,I).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let i=null;if(e instanceof o.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:a,id:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;i=e={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:s,rotation:a,id:o,deleted:!1}}const s=super.deserialize(e,t,n);return _classPrivateFieldSet(s,g,e.fontSize),_classPrivateFieldSet(s,h,r.Util.makeHexColor(...e.color)),_classPrivateFieldSet(s,p,e.value),s.annotationElementId=e.id||null,_classPrivateFieldSet(s,m,i),s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=S._internalPadding*this.parentScale,n=this.getRect(t,t),i=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,h)),s={annotationType:r.AnnotationEditorType.FREETEXT,color:i,fontSize:_classPrivateFieldGet(this,g),value:_classPrivateFieldGet(this,p),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!_classPrivateMethodGet(this,w,T).call(this,s)?null:(s.id=this.annotationElementId,s)}}function k(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-_classPrivateFieldGet(this,g))*this.parentScale),_classPrivateFieldSet(this,g,e),_classPrivateMethodGet(this,b,x).call(this)},n=_classPrivateFieldGet(this,g);this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function C(e){const t=_classPrivateFieldGet(this,h);this.addCommands({cmd:()=>{_classPrivateFieldSet(this,h,this.editorDiv.style.color=e)},undo:()=>{_classPrivateFieldSet(this,h,this.editorDiv.style.color=t)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function E(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}function x(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function I(){if(this.editorDiv.replaceChildren(),_classPrivateFieldGet(this,p))for(const e of _classPrivateFieldGet(this,p).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function T(e){const{value:t,fontSize:n,color:i,rect:r,pageIndex:s}=_classPrivateFieldGet(this,m);return e.value!==t||e.fontSize!==n||e.rect.some(((e,t)=>Math.abs(e-r[t])>=1))||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==s}function F(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if(_classPrivateMethodGet(this,b,x).call(this),!e&&(0===this.width||0===this.height))return void setTimeout((()=>_classPrivateMethodGet(this,P,F).call(this,!0)),0);const t=i._internalPadding*this.parentScale;_classPrivateFieldGet(this,m).rect=this.getRect(t,t)}i=S,_defineProperty(S,"_freeTextDefaultContent",""),_defineProperty(S,"_internalPadding",0),_defineProperty(S,"_defaultColor",null),_defineProperty(S,"_defaultFontSize",10),_defineProperty(S,"_type","freetext"),t.FreeTextEditor=S},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var i=n(1),r=n(6),s=n(3),a=n(30),o=n(31),l=n(32);const c=1e3,u=new WeakSet;function d(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new v(e);case i.AnnotationType.TEXT:return new b(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new w(e);case"Btn":return e.data.radioButton?new k(e):e.data.checkBox?new S(e):new C(e);case"Ch":return new E(e);case"Sig":return new P(e)}return new A(e);case i.AnnotationType.POPUP:return new x(e);case i.AnnotationType.FREETEXT:return new te(e);case i.AnnotationType.LINE:return new ie(e);case i.AnnotationType.SQUARE:return new se(e);case i.AnnotationType.CIRCLE:return new oe(e);case i.AnnotationType.POLYLINE:return new ce(e);case i.AnnotationType.CARET:return new de(e);case i.AnnotationType.INK:return new pe(e);case i.AnnotationType.POLYGON:return new ue(e);case i.AnnotationType.HIGHLIGHT:return new fe(e);case i.AnnotationType.UNDERLINE:return new ge(e);case i.AnnotationType.SQUIGGLY:return new me(e);case i.AnnotationType.STRIKEOUT:return new ve(e);case i.AnnotationType.STAMP:return new _e(e);case i.AnnotationType.FILEATTACHMENT:return new Ae(e);default:return new f(e)}}}var p=new WeakMap;class f{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classPrivateFieldInitSpec(this,p,{writable:!0,value:!1}),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:i}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==i&&void 0!==i&&i.str)}get hasPopupData(){return f._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof A||(s.tabIndex=c),s.style.zIndex=this.parent.zIndex++,this.data.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.noRotate&&s.classList.add("norotate");const{pageWidth:a,pageHeight:o,pageX:l,pageY:u}=r.rawDims;if(!t.rect||this instanceof x){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:h,height:f}=d(t.rect),g=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){s.style.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");s.style.borderRadius=t}else if(this instanceof k){const e="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(f,"px * var(--scale-factor))");s.style.borderRadius=e}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}const r=t.borderColor||null;r?(_classPrivateFieldSet(this,p,!0),s.style.borderColor=i.Util.makeHexColor(0|r[0],0|r[1],0|r[2])):s.style.borderWidth=0}s.style.left="".concat(100*(g[0]-l)/a,"%"),s.style.top="".concat(100*(g[1]-u)/o,"%");const{rotation:m}=t;return t.hasOwnCanvas||0===m?(s.style.width="".concat(100*h/a,"%"),s.style.height="".concat(100*f/o,"%")):this.setRotation(m,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:s}=d(this.data.rect);let a,o;e%180===0?(a=100*r/n,o=100*s/i):(a=100*s/n,o=100*r/i),t.style.width="".concat(a,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],r=i[0],s=i.slice(1);n.target.style[t]=a.ColorConverters["".concat(r,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[t]:a.ColorConverters["".concat(r,"_rgb")](s)})};return(0,i.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];null===r||void 0===r||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const s=n[i];s&&(s({detail:{[i]:r},target:e}),delete t[i])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect;if(1===e.length){const[,{x:s,y:a},{x:o,y:l}]=e[0];if(i===s&&r===a&&t===o&&n===l)return}const{style:s}=this.container;let a;if(_classPrivateFieldGet(this,p)){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=i-t,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),f="clippath_".concat(this.data.id);h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(const[,{x:p,y:m},{x:v,y:_}]of e){var g;const e=c.createElement("rect"),n=(v-t)/o,i=(r-m)/l,s=(p-v)/o,u=(m-_)/l;e.setAttribute("x",n),e.setAttribute("y",i),e.setAttribute("width",s),e.setAttribute("height",u),h.append(e),null===(g=a)||void 0===g||g.push('<rect vector-effect="non-scaling-stroke" x="'.concat(n,'" y="').concat(i,'" width="').concat(s,'" height="').concat(u,'"/>'))}_classPrivateFieldGet(this,p)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new x({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:s,exportValues:a}of r){if(-1===e)continue;if(s===t)continue;const r="string"===typeof a?a:null,o=document.querySelector('[data-element-id="'.concat(s,'"]'));!o||u.has(o)?n.push({id:s,exportValue:r,domElement:o}):(0,i.warn)("_getElementsByName - element not allowed: ".concat(s))}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,r=i.getAttribute("data-element-id");r!==t&&u.has(i)&&n.push({id:r,exportValue:e,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}var g=new WeakSet,m=new WeakSet;class v extends f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,g),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this._bindAttachment(n,e.attachment),i=!0):e.setOCGState?(_classPrivateMethodGet(this,m,y).call(this,n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&_classPrivateMethodGet(this,g,_).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),_classPrivateMethodGet(this,g,_).call(this)}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,t.content,t.filename),!1},_classPrivateMethodGet(this,g,_).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1})}e.onclick||(e.onclick=()=>!1),_classPrivateMethodGet(this,g,_).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,g,_).call(this),!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:r,include:s}=t,a=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(u.has(n)?n.dispatchEvent(new Event("resetform")):(0,i.warn)("_bindResetFormAction - element not allowed: ".concat(e)))}var c;return this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}function _(){this.container.setAttribute("data-internal-link","")}function y(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),_classPrivateMethodGet(this,g,_).call(this)}class b extends f{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class A extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:n}=i.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}r&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e)}}))}))}_setEventListeners(e,t,n,i){for(const[o,l]of n){var r,s,a;("Action"===l||null!==(r=this.data.actions)&&void 0!==r&&r[l])&&("Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,i),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":i.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,s=e.style;let a;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(i.LINE_FACTOR*r))||1);a=Math.min(r,o(t/i.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(r,o(e/i.LINE_FACTOR))}s.fontSize="calc(".concat(a,"px * var(--scale-factor))"),s.color=i.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class w extends A{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&l.length>d&&(l=l.slice(0,d));let h=o.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const p={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};var r,s;this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==(r=h)&&void 0!==r?r:l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(s=h)&&void 0!==s?s:l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),u.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),p.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const i=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=p.userValue=i,p.formattedValue=null}));let f=e=>{const{formattedValue:t}=p;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",(e=>{if(p.focused)return;const{target:t}=e;p.userValue&&(t.value=p.userValue),p.lastCommittedValue=t.value,p.commitKey=1,p.focused=!0})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;p.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",e.setValue(t,{value:p.userValue.toString()}),n.target.value=p.userValue},formattedValue(n){const{formattedValue:i}=n.detail;p.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var i;const{charLimit:r}=n.detail,{target:s}=n;if(0===r)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",r);let a=p.userValue;!a||a.length<=r||(a=a.slice(0,r),s.value=p.userValue=a,e.setValue(t,{value:a}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{var n;p.commitKey=1;let i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(p.commitKey=3):i=2,-1===i)return;const{value:r}=e.target;p.lastCommittedValue!==r&&(p.lastCommittedValue=r,p.userValue=r,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=f;f=null,n.addEventListener("blur",(e=>{if(!p.focused||!e.relatedTarget)return;p.focused=!1;const{value:n}=e.target;var r;p.userValue=n,p.lastCommittedValue!==n&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:p.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),i(e)})),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;p.lastCommittedValue=null;const{data:i,target:r}=e,{value:s,selectionStart:a,selectionEnd:o}=r;let l=a,c=o;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(f&&n.addEventListener("blur",f),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class P extends A{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class S extends A{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return u.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=c,r.addEventListener("change",(i=>{const{name:r,checked:s}=i.target;for(const a of this._getElementsByName(r,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class k extends A{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i}));const r=document.createElement("input");if(u.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=c,r.addEventListener("change",(t=>{const{name:i,checked:r}=t.target;for(const s of this._getElementsByName(i,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:r})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;r.addEventListener("updatefromsandbox",(t=>{const r={value:t=>{const r=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=r&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class C extends v{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class E extends A{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");u.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=c;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),r=!1),i.append(e)}let s=null;if(r){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),s=()=>{e.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;null===(r=s)||void 0===r||r();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of i.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){i.multiple=!0},remove(n){const r=i.options,s=n.detail.remove;r[s].selected=!1,i.remove(s),r.length>0&&-1===Array.prototype.findIndex.call(r,(e=>e.selected))&&(r[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:r,displayValue:s,exportValue:c}=n.detail.insert,u=i.children[r],d=document.createElement("option");d.textContent=s,d.value=c,u?u.before(d):i.append(d),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of r){const{displayValue:t,exportValue:n}=e,r=document.createElement("option");r.textContent=t,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{var i;const r=a(!0);e.setValue(t,{value:r}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class x extends f{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:f._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new J({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(i.AnnotationPrefix).concat(e))).join(",")),this.container}}var I=new WeakMap,T=new WeakMap,F=new WeakMap,R=new WeakMap,M=new WeakMap,N=new WeakMap,O=new WeakMap,D=new WeakMap,L=new WeakMap,j=new WeakMap,G=new WeakMap,U=new WeakMap,B=new WeakMap,W=new WeakMap,z=new WeakMap,q=new WeakMap,H=new WeakMap,V=new WeakSet,Q=new WeakSet,K=new WeakSet,Y=new WeakSet;class J{constructor(e){let{container:t,color:n,elements:i,titleObj:s,modificationDate:a,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h}=e;_classPrivateMethodInitSpec(this,Y),_classPrivateMethodInitSpec(this,K),_classPrivateMethodInitSpec(this,Q),_classPrivateMethodInitSpec(this,V),_classPrivateFieldInitSpec(this,I,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:_classPrivateMethodGet(this,V,X).bind(this)}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:_classPrivateMethodGet(this,Y,ee).bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:_classPrivateMethodGet(this,K,$).bind(this)}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:_classPrivateMethodGet(this,Q,Z).bind(this)}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:!1}),_classPrivateFieldSet(this,O,t),_classPrivateFieldSet(this,q,s),_classPrivateFieldSet(this,D,o),_classPrivateFieldSet(this,z,l),_classPrivateFieldSet(this,j,c),_classPrivateFieldSet(this,N,n),_classPrivateFieldSet(this,W,u),_classPrivateFieldSet(this,G,d),_classPrivateFieldSet(this,L,i);const p=r.PDFDateString.toDateObject(a);p&&_classPrivateFieldSet(this,I,c.l10n.get("annotation_date_string",{date:p.toLocaleDateString(),time:p.toLocaleTimeString()})),this.trigger=i.flatMap((e=>e.getElementsToTriggerPopup()));for(const r of this.trigger)r.addEventListener("click",_classPrivateFieldGet(this,M)),r.addEventListener("mouseenter",_classPrivateFieldGet(this,R)),r.addEventListener("mouseleave",_classPrivateFieldGet(this,F)),r.classList.add("popupTriggerArea");for(const r of i){var f;null===(f=r.container)||void 0===f||f.addEventListener("keydown",_classPrivateFieldGet(this,T))}_classPrivateFieldGet(this,O).hidden=!0,h&&_classPrivateMethodGet(this,Q,Z).call(this)}render(){if(_classPrivateFieldGet(this,B))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=_classPrivateFieldGet(this,j),a=_classPrivateFieldSet(this,B,document.createElement("div"));if(a.className="popup",_classPrivateFieldGet(this,N)){const e=a.style.outlineColor=i.Util.makeHexColor(..._classPrivateFieldGet(this,N));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))a.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;a.style.backgroundColor=i.Util.makeHexColor(..._classPrivateFieldGet(this,N).map((t=>Math.floor(e*(255-t)+t))))}}const o=document.createElement("span");o.className="header";const c=document.createElement("h1");if(o.append(c),({dir:c.dir,str:c.textContent}=_classPrivateFieldGet(this,q)),a.append(o),_classPrivateFieldGet(this,I)){const e=document.createElement("span");e.classList.add("popupDate"),_classPrivateFieldGet(this,I).then((t=>{e.textContent=t})),o.append(e)}const u=_classPrivateFieldGet(this,D),d=_classPrivateFieldGet(this,z);if(null===d||void 0===d||!d.str||null!==u&&void 0!==u&&u.str&&u.str!==d.str){const e=this._formatContents(u);a.append(e)}else l.XfaLayer.render({xfaHtml:d.html,intent:"richText",div:a}),a.lastChild.classList.add("richText","popupContent");let h=!!_classPrivateFieldGet(this,G),p=_classPrivateFieldGet(this,h?G:W);for(const l of _classPrivateFieldGet(this,L))if(!p||null!==i.Util.intersect(l.data.rect,p)){p=l.data.rect,h=!0;break}const f=i.Util.normalizeRect([p[0],e[3]-p[1]+e[1],p[2],e[3]-p[3]+e[1]]),g=h?p[2]-p[0]+5:0,m=f[0]+g,v=f[1],{style:_}=_classPrivateFieldGet(this,O);_.left="".concat(100*(m-r)/t,"%"),_.top="".concat(100*(v-s)/n,"%"),_classPrivateFieldGet(this,O).append(a)}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const e=r[s];i.append(document.createTextNode(e)),s<a-1&&i.append(document.createElement("br"))}return i}forceHide(){_classPrivateFieldSet(this,H,this.isVisible),_classPrivateFieldGet(this,H)&&(_classPrivateFieldGet(this,O).hidden=!0)}maybeShow(){_classPrivateFieldGet(this,H)&&(_classPrivateFieldSet(this,H,!1),_classPrivateFieldGet(this,O).hidden=!1)}get isVisible(){return!1===_classPrivateFieldGet(this,O).hidden}}function X(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&_classPrivateFieldGet(this,U))&&_classPrivateMethodGet(this,Q,Z).call(this)}function Z(){_classPrivateFieldSet(this,U,!_classPrivateFieldGet(this,U)),_classPrivateFieldGet(this,U)?(_classPrivateMethodGet(this,K,$).call(this),_classPrivateFieldGet(this,O).addEventListener("click",_classPrivateFieldGet(this,M)),_classPrivateFieldGet(this,O).addEventListener("keydown",_classPrivateFieldGet(this,T))):(_classPrivateMethodGet(this,Y,ee).call(this),_classPrivateFieldGet(this,O).removeEventListener("click",_classPrivateFieldGet(this,M)),_classPrivateFieldGet(this,O).removeEventListener("keydown",_classPrivateFieldGet(this,T)))}function $(){_classPrivateFieldGet(this,B)||this.render(),this.isVisible?_classPrivateFieldGet(this,U)&&_classPrivateFieldGet(this,O).classList.add("focused"):(_classPrivateFieldGet(this,O).hidden=!1,_classPrivateFieldGet(this,O).style.zIndex=parseInt(_classPrivateFieldGet(this,O).style.zIndex)+1e3)}function ee(){_classPrivateFieldGet(this,O).classList.remove("focused"),!_classPrivateFieldGet(this,U)&&this.isVisible&&(_classPrivateFieldGet(this,O).hidden=!0,_classPrivateFieldGet(this,O).style.zIndex=parseInt(_classPrivateFieldGet(this,O).style.zIndex)-1e3)}class te extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=te;var ne=new WeakMap;class ie extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:null})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),i=this.svgFactory.create(t,n,!0),r=_classPrivateFieldSet(this,ne,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}var re=new WeakMap;class se extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,re,{writable:!0,value:null})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=_classPrivateFieldSet(this,re,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,re)}addHighlightArea(){this.container.classList.add("highlightArea")}}var ae=new WeakMap;class oe extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,ae,{writable:!0,value:null})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=d(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=_classPrivateFieldSet(this,ae,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}var le=new WeakMap;class ce extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,le,{writable:!0,value:null}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=d(e.rect),i=this.svgFactory.create(t,n,!0);let r=[];for(const a of e.vertices){const t=a.x-e.rect[0],n=e.rect[3]-a.y;r.push(t+","+n)}r=r.join(" ");const s=_classPrivateFieldSet(this,le,this.svgFactory.createElement(this.svgElementName));return s.setAttribute("points",r),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,le)}addHighlightArea(){this.container.classList.add("highlightArea")}}class ue extends ce{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class de extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var he=new WeakMap;class pe extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),_classPrivateFieldInitSpec(this,he,{writable:!0,value:[]}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=d(e.rect),i=this.svgFactory.create(t,n,!0);for(const r of e.inkLists){let t=[];for(const i of r){const n=i.x-e.rect[0],r=e.rect[3]-i.y;t.push("".concat(n,",").concat(r))}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(this,he).push(n),n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),i.append(n)}return this.container.append(i),this.container}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=pe;class fe extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ge extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class me extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ve extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _e extends f{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=_e;var ye=new WeakMap,be=new WeakSet;class Ae extends f{constructor(e){var t;super(e,{isRenderable:!0}),_classPrivateMethodInitSpec(this,be),_classPrivateFieldInitSpec(this,ye,{writable:!0,value:null});const{filename:n,content:i}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(n,!0),this.content=i,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:n,content:i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",_classPrivateMethodGet(this,be,we).bind(this)),_classPrivateFieldSet(this,ye,n);const{isMac:r}=i.FeatureTest.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&_classPrivateMethodGet(this,be,we).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}function we(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}var Pe=new WeakMap,Se=new WeakMap,ke=new WeakMap,Ce=new WeakSet,Ee=new WeakSet;function xe(e,t){var n;const r=e.firstChild||e;r.id="".concat(i.AnnotationPrefix).concat(t),this.div.append(e),null===(n=_classPrivateFieldGet(this,Pe))||void 0===n||n.moveElementInDOM(this.div,e,r,!1)}function Ie(){if(!_classPrivateFieldGet(this,Se))return;const e=this.div;for(const[t,n]of _classPrivateFieldGet(this,Se)){const i=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!i)continue;const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.before(n):i.append(n)}_classPrivateFieldGet(this,Se).clear()}t.AnnotationLayer=class{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,l10n:r,page:s,viewport:a}=e;_classPrivateMethodInitSpec(this,Ee),_classPrivateMethodInitSpec(this,Ce),_classPrivateFieldInitSpec(this,Pe,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,Se,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,ke,{writable:!0,value:new Map}),this.div=t,_classPrivateFieldSet(this,Pe,n),_classPrivateFieldSet(this,Se,i),this.l10n=r,this.page=s,this.viewport=a,this.zIndex=0,this.l10n||(this.l10n=o.NullL10n)}async render(e){const{annotations:t}=e,n=this.div;(0,r.setLayerDimensions)(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new r.DOMSVGFactory,annotationStorage:e.annotationStorage||new s.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===i.AnnotationType.POPUP;if(e){const e=a.get(r.id);if(!e)continue;o.elements=e}else{const{width:e,height:t}=d(r.rect);if(e<=0||t<=0)continue}o.data=r;const t=h.create(o);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=a.get(r.popupRef);e?e.push(t):a.set(r.popupRef,[t])}t.annotationEditorType>0&&_classPrivateFieldGet(this,ke).set(t.data.id,t);const n=t.render();r.hidden&&(n.style.visibility="hidden"),_classPrivateMethodGet(this,Ce,xe).call(this,n,r.id)}_classPrivateMethodGet(this,Ee,Ie).call(this),await this.l10n.translate(n)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,(0,r.setLayerDimensions)(n,{rotation:t.rotation}),_classPrivateMethodGet(this,Ee,Ie).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(_classPrivateFieldGet(this,ke).values())}getEditableAnnotation(e){return _classPrivateFieldGet(this,ke).get(e)}}},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function i(e){return Math.max(0,Math.min(255,255*e))}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,i,r]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+r)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=i(t),[t,t,t]}static G_HTML(e){let[t]=e;const i=n(t);return"#".concat(i).concat(i).concat(i)}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(i)}static RGB_HTML(e){return"#".concat(e.map(n).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,r]=e;return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb(e){let[t,n,r,s]=e;return[i(1-Math.min(1,t+s)),i(1-Math.min(1,r+s)),i(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const r=1-t,s=1-n,a=1-i;return["CMYK",r,s,a,Math.min(r,s,a)]}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=i;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function i(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return n[e]||""}n.print_progress_percent="{{progress}}%";const r={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>n in t?t[n]:"{{"+n+"}}")):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(e,t),t)},async translate(e){}};t.NullL10n=r},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=n(25);t.XfaLayer=class{static setupStorage(e,t,n,i,r){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===r)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:r})}))}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:r,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(r));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:n});const o=[[r,-1,a]],l=e.div;if(l.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=t}"richText"!==s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){var u;const[e,r,a]=o.at(-1);if(r+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:d}=l;if("#text"===d){const e=document.createTextNode(l.value);c.push(e),a.append(e);continue}const h=null!==l&&void 0!==l&&null!==(u=l.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(l.attributes.xmlns,d):document.createElement(d);if(a.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:t,intent:s,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,h]);else if(l.value){const e=document.createTextNode(l.value);i.XfaText.shouldBuildText(d)&&c.push(e),h.append(e)}}for(const i of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var r=n(1),s=n(4),a=n(29),o=n(6),l=n(5),c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,y=new WeakMap,b=new WeakMap,A=new WeakMap,w=new WeakMap,P=new WeakSet,S=new WeakSet,k=new WeakSet,C=new WeakSet,E=new WeakSet,x=new WeakSet,I=new WeakSet,T=new WeakSet,F=new WeakSet,R=new WeakSet,M=new WeakSet,N=new WeakSet,O=new WeakSet,D=new WeakSet,L=new WeakSet,j=new WeakSet,G=new WeakSet,U=new WeakSet,B=new WeakSet,W=new WeakSet,z=new WeakSet,q=new WeakSet,H=new WeakSet;class V extends s.AnnotationEditor{constructor(e){super({...e,name:"inkEditor"}),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,q),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,W),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,j),_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,D),_classPrivateMethodInitSpec(this,O),_classPrivateMethodInitSpec(this,N),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,R),_classPrivateMethodInitSpec(this,F),_classPrivateMethodInitSpec(this,T),_classPrivateMethodInitSpec(this,I),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,P),_classPrivateFieldInitSpec(this,c,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:new Path2D}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:null}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){s.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:V._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:V._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:V._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,P,Q).call(this,t);break;case r.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,S,K).call(this,t);break;case r.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,k,Y).call(this,t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,V._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,V._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*V._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||V._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||V._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:V._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,L,oe).call(this),_classPrivateMethodGet(this,j,le).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,G,ce).call(this)),_classPrivateMethodGet(this,H,_e).call(this)))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,y).disconnect(),_classPrivateFieldSet(this,y,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){_classPrivateFieldGet(this,m)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,f)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,f)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,m)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,m,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,H,_e).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldGet(this,m)&&(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),_classPrivateMethodGet(this,x,Z).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),_classPrivateMethodGet(this,I,$).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),_classPrivateMethodGet(this,D,ae).call(this,e)}canvasPointerleave(e){_classPrivateMethodGet(this,D,ae).call(this,e)}get isResizable(){return!this.isEmpty()&&_classPrivateFieldGet(this,m)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then((e=>{var t;return null===(t=this.div)||void 0===t?void 0:t.setAttribute("aria-label",e)}));const[n,i,r,a]=_classPrivateMethodGet(this,C,J).call(this);if(this.setAt(n,i,0,0),this.setDims(r,a),_classPrivateMethodGet(this,L,oe).call(this),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),_classPrivateFieldSet(this,_,!0),_classPrivateMethodGet(this,G,ce).call(this),this.setDims(this.width*n,this.height*i),_classPrivateMethodGet(this,O,se).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,j,le).call(this),this.div}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(_classPrivateFieldGet(this,b)===n&&_classPrivateFieldGet(this,A)===i)return;_classPrivateFieldSet(this,b,n),_classPrivateFieldSet(this,A,i),this.canvas.style.visibility="hidden";const[r,s]=this.parentDimensions;this.width=e/r,this.height=t/s,this.fixAndSetPosition(),_classPrivateFieldGet(this,m)&&_classPrivateMethodGet(this,U,ue).call(this,e,t),_classPrivateMethodGet(this,G,ce).call(this),_classPrivateMethodGet(this,O,se).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,n){if(e instanceof a.InkAnnotationElement)return null;const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=r.Util.makeHexColor(...e.color),i.opacity=e.opacity;const[o,l]=i.pageDimensions,d=i.width*o,h=i.height*l,p=i.parentScale,f=e.thickness/2;_classPrivateFieldSet(i,m,!0),_classPrivateFieldSet(i,b,Math.round(d)),_classPrivateFieldSet(i,A,Math.round(h));const{paths:g,rect:v,rotation:_}=e;for(let{bezier:r}of g){r=_classStaticPrivateMethodGet(V,V,fe).call(V,r,v,_);const e=[];i.paths.push(e);let t=p*(r[0]-f),n=p*(r[1]-f);for(let i=2,a=r.length;i<a;i+=6){const s=p*(r[i]-f),a=p*(r[i+1]-f),o=p*(r[i+2]-f),l=p*(r[i+3]-f),c=p*(r[i+4]-f),u=p*(r[i+5]-f);e.push([[t,n],[s,a],[o,l],[c,u]]),t=c,n=u}const s=_classStaticPrivateMethodGet(this,V,he).call(this,e);i.bezierPath2D.push(s)}const y=_classPrivateMethodGet(i,z,me).call(i);return _classPrivateFieldSet(i,u,Math.max(s.AnnotationEditor.MIN_SIZE,y[2]-y[0])),_classPrivateFieldSet(i,c,Math.max(s.AnnotationEditor.MIN_SIZE,y[3]-y[1])),_classPrivateMethodGet(i,U,ue).call(i,d,h),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,W,ge).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Q(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,_classPrivateMethodGet(this,H,_e).call(this)},undo:()=>{this.thickness=t,_classPrivateMethodGet(this,H,_e).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function K(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,_classPrivateMethodGet(this,O,se).call(this)},undo:()=>{this.color=t,_classPrivateMethodGet(this,O,se).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Y(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,_classPrivateMethodGet(this,O,se).call(this)},undo:()=>{this.opacity=t,_classPrivateMethodGet(this,O,se).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function J(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function X(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:r,scaleFactor:s}=this;e.lineWidth=i*r/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,l.opacityToHex)(n))}function Z(e,t){var n;this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,d)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,p)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,f)),this.isEditing=!0,_classPrivateFieldGet(this,_)||(_classPrivateFieldSet(this,_,!0),_classPrivateMethodGet(this,G,ce).call(this),this.thickness||(this.thickness=i._defaultThickness),this.color||(this.color=i._defaultColor||s.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=i._defaultOpacity)),this.currentPath.push([e,t]),_classPrivateFieldSet(this,v,!1),_classPrivateMethodGet(this,E,X).call(this),_classPrivateFieldSet(this,w,(()=>{_classPrivateMethodGet(this,R,ne).call(this),_classPrivateFieldGet(this,w)&&window.requestAnimationFrame(_classPrivateFieldGet(this,w))})),window.requestAnimationFrame(_classPrivateFieldGet(this,w))}function $(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const r=this.currentPath;let s=_classPrivateFieldGet(this,g);if(r.push([e,t]),_classPrivateFieldSet(this,v,!0),r.length<=2)return s.moveTo(...r[0]),void s.lineTo(e,t);3===r.length&&(_classPrivateFieldSet(this,g,s=new Path2D),s.moveTo(...r[0])),_classPrivateMethodGet(this,M,ie).call(this,s,...r.at(-3),...r.at(-2),e,t)}function ee(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);_classPrivateFieldGet(this,g).lineTo(...e)}function te(e,t){let n;if(_classPrivateFieldSet(this,w,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),_classPrivateMethodGet(this,I,$).call(this,e,t),_classPrivateMethodGet(this,T,ee).call(this),1!==this.currentPath.length)n=_classPrivateMethodGet(this,N,re).call(this);else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=_classPrivateFieldGet(this,g),r=this.currentPath;this.currentPath=[],_classPrivateFieldSet(this,g,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(i),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,L,oe).call(this),_classPrivateMethodGet(this,j,le).call(this)),_classPrivateMethodGet(this,H,_e).call(this))},mustExec:!0})}function ne(){if(!_classPrivateFieldGet(this,v))return;_classPrivateFieldSet(this,v,!1);Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map((e=>e[0])),n=e.map((e=>e[1])),{ctx:i}=(Math.min(...t),Math.max(...t),Math.min(...n),Math.max(...n),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)i.stroke(r);i.stroke(_classPrivateFieldGet(this,g)),i.restore()}function ie(e,t,n,i,r,s,a){const o=(t+i)/2,l=(n+r)/2,c=(i+s)/2,u=(r+a)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(r-l)/3,c+2*(i-c)/3,u+2*(r-u)/3,c,u)}function re(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,r]=e[0];for(n=1;n<e.length-2;n++){const[s,a]=e[n],[o,l]=e[n+1],c=(s+o)/2,u=(a+l)/2,d=[i+2*(s-i)/3,r+2*(a-r)/3],h=[c+2*(s-c)/3,u+2*(a-u)/3];t.push([[i,r],d,h,[c,u]]),[i,r]=[c,u]}const[s,a]=e[n],[o,l]=e[n+1],c=[i+2*(s-i)/3,r+2*(a-r)/3],u=[o+2*(s-o)/3,l+2*(a-l)/3];return t.push([[i,r],c,u,[o,l]]),t}function se(){if(this.isEmpty())return void _classPrivateMethodGet(this,B,de).call(this);_classPrivateMethodGet(this,E,X).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_classPrivateMethodGet(this,B,de).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function ae(e){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,h)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,d)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,p)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,f)),setTimeout((()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)}),10),_classPrivateMethodGet(this,F,te).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function oe(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>{var t;return null===(t=this.canvas)||void 0===t?void 0:t.setAttribute("aria-label",e)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function le(){_classPrivateFieldSet(this,y,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),_classPrivateFieldGet(this,y).observe(this.div)}function ce(){if(!_classPrivateFieldGet(this,_))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),_classPrivateMethodGet(this,B,de).call(this)}function ue(e,t){const n=_classPrivateMethodGet(this,q,ve).call(this),i=(e-n)/_classPrivateFieldGet(this,u),r=(t-n)/_classPrivateFieldGet(this,c);this.scaleFactor=Math.min(i,r)}function de(){const e=_classPrivateMethodGet(this,q,ve).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function he(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,r,s,a]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(r[0],r[1],s[0],s[1],a[0],a[1])}return t}function pe(e,t,n){const[i,r,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]+=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function fe(e,t,n){const[i,r,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-r,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]-=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function ge(e,t,n,r){const s=[],a=this.thickness/2,o=e*t+a,l=e*n+a;for(const c of this.paths){const t=[],n=[];for(let i=0,r=c.length;i<r;i++){const[s,a,u,d]=c[i],h=e*s[0]+o,p=e*s[1]+l,f=e*a[0]+o,g=e*a[1]+l,m=e*u[0]+o,v=e*u[1]+l,_=e*d[0]+o,y=e*d[1]+l;0===i&&(t.push(h,p),n.push(h,p)),t.push(f,g,m,v,_,y),n.push(f,g),i===r-1&&n.push(_,y)}s.push({bezier:_classStaticPrivateMethodGet(i,i,pe).call(i,t,r,this.rotation),points:_classStaticPrivateMethodGet(i,i,pe).call(i,n,r,this.rotation)})}return s}function me(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[a,o,l,c]of s){const s=r.Util.bezierBoundingBox(...a,...o,...l,...c);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}function ve(){return _classPrivateFieldGet(this,m)?Math.ceil(this.thickness*this.parentScale):0}function _e(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!_classPrivateFieldGet(this,m))return void _classPrivateMethodGet(this,O,se).call(this);const t=_classPrivateMethodGet(this,z,me).call(this),n=_classPrivateMethodGet(this,q,ve).call(this);_classPrivateFieldSet(this,u,Math.max(s.AnnotationEditor.MIN_SIZE,t[2]-t[0])),_classPrivateFieldSet(this,c,Math.max(s.AnnotationEditor.MIN_SIZE,t[3]-t[1]));const i=Math.ceil(n+_classPrivateFieldGet(this,u)*this.scaleFactor),r=Math.ceil(n+_classPrivateFieldGet(this,c)*this.scaleFactor),[a,o]=this.parentDimensions;this.width=i/a,this.height=r/o,this.setAspectRatio(i,r);const l=this.translationX,d=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_classPrivateMethodGet(this,G,ce).call(this),_classPrivateMethodGet(this,O,se).call(this),_classPrivateFieldSet(this,b,i),_classPrivateFieldSet(this,A,r),this.setDims(i,r);const h=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-h,d-this.translationY-h)}i=V,_defineProperty(V,"_defaultColor",null),_defineProperty(V,"_defaultOpacity",1),_defineProperty(V,"_defaultThickness",1),_defineProperty(V,"_type","ink"),t.InkEditor=V},(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var r=n(1),s=n(4),a=n(6),o=n(29),l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakSet,y=new WeakSet,b=new WeakSet,A=new WeakSet,w=new WeakSet,P=new WeakSet,S=new WeakSet,k=new WeakSet,C=new WeakSet;class E extends s.AnnotationEditor{constructor(e){super({...e,name:"stampEditor"}),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,_),_classPrivateFieldInitSpec(this,l,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1}),_classPrivateFieldSet(this,d,e.bitmapUrl),_classPrivateFieldSet(this,h,e.bitmapFile)}static initialize(e){s.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,r.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;_classPrivateFieldGet(this,c)&&(_classPrivateFieldSet(this,l,null),this._uiManager.imageManager.deleteId(_classPrivateFieldGet(this,c)),null===(e=_classPrivateFieldGet(this,p))||void 0===e||e.remove(),_classPrivateFieldSet(this,p,null),null===(t=_classPrivateFieldGet(this,f))||void 0===t||t.disconnect(),_classPrivateFieldSet(this,f,null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(_classPrivateFieldGet(this,c)&&_classPrivateMethodGet(this,b,T).call(this),this.isAttachedToDOM||this.parent.add(this))):_classPrivateFieldGet(this,c)&&_classPrivateMethodGet(this,b,T).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_classPrivateFieldGet(this,u)||_classPrivateFieldGet(this,l)||_classPrivateFieldGet(this,d)||_classPrivateFieldGet(this,h))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,_classPrivateFieldGet(this,l)?_classPrivateMethodGet(this,A,F).call(this):_classPrivateMethodGet(this,b,T).call(this),this.width){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}static deserialize(e,t,n){if(e instanceof o.StampAnnotationElement)return null;const i=super.deserialize(e,t,n),{rect:r,bitmapUrl:s,bitmapId:a,isSvg:l,accessibilityData:u}=e;a&&n.imageManager.isValidId(a)?_classPrivateFieldSet(i,c,a):_classPrivateFieldSet(i,d,s),_classPrivateFieldSet(i,m,l);const[h,p]=i.pageDimensions;return i.width=(r[2]-r[0])/h,i.height=(r[3]-r[1])/p,u&&(i.altTextData=u),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:r.AnnotationEditorType.STAMP,bitmapId:_classPrivateFieldGet(this,c),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_classPrivateFieldGet(this,m),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=_classPrivateMethodGet(this,k,O).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===t)return n;t.stamps||(t.stamps=new Map);const a=_classPrivateFieldGet(this,m)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(_classPrivateFieldGet(this,c))){if(_classPrivateFieldGet(this,m)){const e=t.stamps.get(_classPrivateFieldGet(this,c));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=_classPrivateMethodGet(this,k,O).call(this,!1))}}else t.stamps.set(_classPrivateFieldGet(this,c),{area:a,serialized:n}),n.bitmap=_classPrivateMethodGet(this,k,O).call(this,!1);return n}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(_classPrivateFieldSet(this,l,e.bitmap),t||(_classPrivateFieldSet(this,c,e.id),_classPrivateFieldSet(this,m,e.isSvg)),_classPrivateMethodGet(this,A,F).call(this)):this.remove()}function I(){_classPrivateFieldSet(this,u,null),this._uiManager.enableWaiting(!1),_classPrivateFieldGet(this,p)&&this.div.focus()}function T(){if(_classPrivateFieldGet(this,c))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(_classPrivateFieldGet(this,c)).then((e=>_classPrivateMethodGet(this,_,x).call(this,e,!0))).finally((()=>_classPrivateMethodGet(this,y,I).call(this)));if(_classPrivateFieldGet(this,d)){const e=_classPrivateFieldGet(this,d);return _classPrivateFieldSet(this,d,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(this,u,this._uiManager.imageManager.getFromUrl(e).then((e=>_classPrivateMethodGet(this,_,x).call(this,e))).finally((()=>_classPrivateMethodGet(this,y,I).call(this))))}if(_classPrivateFieldGet(this,h)){const e=_classPrivateFieldGet(this,h);return _classPrivateFieldSet(this,h,null),this._uiManager.enableWaiting(!0),void _classPrivateFieldSet(this,u,this._uiManager.imageManager.getFromFile(e).then((e=>_classPrivateMethodGet(this,_,x).call(this,e))).finally((()=>_classPrivateMethodGet(this,y,I).call(this))))}const e=document.createElement("input");e.type="file",e.accept=i.supportedTypesStr,_classPrivateFieldSet(this,u,new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);_classPrivateMethodGet(this,_,x).call(this,t)}else this.remove();t()})),e.addEventListener("cancel",(()=>{this.remove(),t()}))})).finally((()=>_classPrivateMethodGet(this,y,I).call(this)))),e.click()}function F(){const{div:e}=this;let{width:t,height:n}=_classPrivateFieldGet(this,l);const[i,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>s*i||n>s*r){const e=Math.min(s*i/t,s*r/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/i,n*o/r),this._uiManager.enableWaiting(!1);const c=_classPrivateFieldSet(this,p,document.createElement("canvas"));e.append(c),e.hidden=!1,_classPrivateMethodGet(this,S,N).call(this,t,n),_classPrivateMethodGet(this,C,D).call(this),_classPrivateFieldGet(this,v)||(this.parent.addUndoableEditor(this),_classPrivateFieldSet(this,v,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}function R(e,t){var n;const[i,r]=this.parentDimensions;this.width=e/i,this.height=t/r,this.setDims(e,t),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==_classPrivateFieldGet(this,g)&&clearTimeout(_classPrivateFieldGet(this,g)),_classPrivateFieldSet(this,g,setTimeout((()=>{_classPrivateFieldSet(this,g,null),_classPrivateMethodGet(this,S,N).call(this,e,t)}),200))}function M(e,t){const{width:n,height:i}=_classPrivateFieldGet(this,l);let r=n,s=i,a=_classPrivateFieldGet(this,l);for(;r>2*e||s>2*t;){const n=r,i=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(r,s);o.getContext("2d").drawImage(a,0,0,n,i,0,0,r,s),a=o.transferToImageBitmap()}return a}function N(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=_classPrivateFieldGet(this,p);if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const i=_classPrivateFieldGet(this,m)?_classPrivateFieldGet(this,l):_classPrivateMethodGet(this,P,M).call(this,e,t),r=n.getContext("2d");r.filter=this._uiManager.hcmFilter,r.drawImage(i,0,0,i.width,i.height,0,0,e,t)}function O(e){if(e){if(_classPrivateFieldGet(this,m)){const e=this._uiManager.imageManager.getSvgUrl(_classPrivateFieldGet(this,c));if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=_classPrivateFieldGet(this,l)),e.getContext("2d").drawImage(_classPrivateFieldGet(this,l),0,0),e.toDataURL()}if(_classPrivateFieldGet(this,m)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*a.PixelsPerInch.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*a.PixelsPerInch.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(_classPrivateFieldGet(this,l),0,0,_classPrivateFieldGet(this,l).width,_classPrivateFieldGet(this,l).height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(_classPrivateFieldGet(this,l))}function D(){_classPrivateFieldSet(this,f,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&_classPrivateMethodGet(this,w,R).call(this,t.width,t.height)}))),_classPrivateFieldGet(this,f).observe(this.div)}i=E,_defineProperty(E,"_type","stamp"),t.StampEditor=E}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return r.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return r.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),r=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(5),o=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=root.pdfjsLib=factory()},888:(e,t,n)=>{"use strict";var i=n(9047);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,a){if(a!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var i=n(2791),r=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,r,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function y(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),w=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,L=Object.assign;function j(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var G=!1;function U(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==s[o]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case P:return"Fragment";case w:return"Portal";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=q(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),i=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Pe=null,Se=null;function ke(e){if(e=yr(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Ar(t),we(e.stateNode,e.type,t))}}function Ce(e){Pe?Se?Se.push(e):Se=[e]:Pe=e}function Ee(){if(Pe){var e=Pe,t=Se;if(Se=Pe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ie(){}var Te=!1;function Fe(e,t,n){if(Te)return e(t,n);Te=!0;try{return xe(e,t,n)}finally{Te=!1,(null!==Pe||null!==Se)&&(Ie(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var i=Ar(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Me=!1}function Oe(e,t,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,je=!1,Ge=null,Ue={onError:function(e){De=!0,Le=e}};function Be(e,t,n,i,r,s,a,o,l){De=!1,Le=null,Oe.apply(Ue,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return qe(r),e;if(a===i)return qe(r),t;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Je=r.unstable_requestPaint,Xe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?i=dt(o):0!==(s&=a)&&(i=dt(s))}else 0!==(a=n&~r)?i=dt(a):0!==s&&(i=dt(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,wt,Pt,St,kt,Ct=!1,Et=[],xt=null,It=null,Tt=null,Ft=new Map,Rt=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=_r(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){Pt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Gt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==xt&&jt(xt)&&(xt=null),null!==It&&jt(It)&&(It=null),null!==Tt&&jt(Tt)&&(Tt=null),Ft.forEach(Gt),Rt.forEach(Gt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==xt&&Bt(xt,e),null!==It&&Bt(It,e),null!==Tt&&Bt(Tt,e),Ft.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var zt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,i){var r=yt,s=zt.transition;zt.transition=null;try{yt=1,Qt(e,t,n,i)}finally{yt=r,zt.transition=s}}function Vt(e,t,n,i){var r=yt,s=zt.transition;zt.transition=null;try{yt=4,Qt(e,t,n,i)}finally{yt=r,zt.transition=s}}function Qt(e,t,n,i){if(qt){var r=Yt(e,t,n,i);if(null===r)qi(e,t,i,Kt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return xt=Dt(xt,e,t,n,i,r),!0;case"dragenter":return It=Dt(It,e,t,n,i,r),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ft.set(s,Dt(Ft.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Rt.set(s,Dt(Rt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&At(s),null===(s=Yt(e,t,n,i))&&qi(e,t,i,Kt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else qi(e,t,i,null,n)}}var Kt=null;function Yt(e,t,n,i){if(Kt=null,null!==(e=_r(e=Ae(i))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),gn=sn(L({},pn,{dataTransfer:0})),mn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(_n),bn=sn(L({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function kn(){return Sn}var Cn=L({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Cn),xn=sn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Fn),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Dn=u&&"TextEvent"in window&&!On,Ln=u&&(!Nn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Gn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,i){Ce(i),0<(t=Vi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vn=null,Qn=null;function Kn(e){ji(e,0)}function Yn(e){if(Q(br(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Vn&&(Vn.detachEvent("onpropertychange",ni),Qn=Vn=null)}function ni(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Hn(t,Qn,e,Ae(e)),Fe(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Qn=n,(Vn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function si(e,t){if("click"===e)return Yn(t)}function ai(e,t){if("input"===e||"change"===e)return Yn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,_i=null,yi=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},_i&&li(_i,i)||(_i=i,0<(i=Vi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Pi={},Si={};function ki(e){if(Pi[e])return Pi[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return Pi[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ci=ki("animationend"),Ei=ki("animationiteration"),xi=ki("animationstart"),Ii=ki("transitionend"),Ti=new Map,Fi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Ti.set(e,t),l(t,[e])}for(var Mi=0;Mi<Fi.length;Mi++){var Ni=Fi[Mi];Ri(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Ri(Ci,"onAnimationEnd"),Ri(Ei,"onAnimationIteration"),Ri(xi,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ii,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Di=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Li(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,o,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,je||(je=!0,Ge=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Li(r,o,c),s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Li(r,o,c),s=l}}}if(je)throw e=Ge,je=!1,Ge=null,e}function Gi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(zi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),zi(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Bi]){e[Bi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Di.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,Ui("selectionchange",!1,t))}}function zi(e,t,n,i){switch(Jt(t)){case 1:var r=Ht;break;case 4:r=Vt;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=_r(o)))return;if(5===(l=a.tag)||6===l){i=s=a;continue e}o=o.parentNode}}i=i.return}Fe((function(){var i=s,r=Ae(n),a=[];e:{var o=Ti.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ci:case Ei:case xi:l=vn;break;case Ii:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Re(f,h))&&u.push(Hi(f,g,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!_r(c)&&!c[fr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?_r(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:br(l),p=null==c?o:br(c),(o=new u(g,f+"leave",l,n,r)).target=d,o.relatedTarget=p,g=null,_r(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Qi(p))f++;for(p=0,g=h;g;g=Qi(g))p++;for(;0<f-p;)u=Qi(u),f--;for(;0<p-f;)h=Qi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qi(u),h=Qi(h)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==d&&Ki(a,d,c,u,!0)}if("select"===(l=(o=i?br(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Jn;else if(qn(o))if(Xn)m=ai;else{m=ri;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=si);switch(m&&(m=m(e,i))?Hn(a,m,n,r):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?br(i):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,_i=null);break;case"focusout":_i=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,bi(a,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(a,n,r)}var _;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(_=en()):(Zt="value"in(Xt=r)?Xt.value:Xt.textContent,Wn=!0)),0<(v=Vi(i,y)).length&&(y=new bn(y,e,null,n,r),a.push({event:y,listeners:v}),_?y.data=_:null!==(_=Bn(n))&&(y.data=_))),(_=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Gn=!0,jn);case"textInput":return(e=t.data)===jn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),$t=Zt=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Vi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=_))}ji(a,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Re(e,n))&&i.unshift(Hi(e,s,r)),null!=(s=Re(e,t))&&i.push(Hi(e,s,r))),e=e.return}return i}function Qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Re(n,s))&&a.unshift(Hi(n,l,o)):r||null!=(l=Re(n,s))&&a.push(Hi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yi=/\r\n?/g,Ji=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Ji,"")}function Zi(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(s(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Wt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Wt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,gr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function _r(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ar(e){return e[pr]||null}var wr=[],Pr=-1;function Sr(e){return{current:e}}function kr(e){0>Pr||(e.current=wr[Pr],wr[Pr]=null,Pr--)}function Cr(e,t){Pr++,wr[Pr]=e.current,e.current=t}var Er={},xr=Sr(Er),Ir=Sr(!1),Tr=Er;function Fr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mr(){kr(Ir),kr(xr)}function Nr(e,t,n){if(xr.current!==Er)throw Error(s(168));Cr(xr,t),Cr(Ir,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,z(e)||"Unknown",r));return L({},n,i)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Tr=xr.current,Cr(xr,e),Cr(Ir,Ir.current),!0}function Lr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Or(e,t,Tr),i.__reactInternalMemoizedMergedChildContext=e,kr(Ir),kr(xr),Cr(xr,e)):kr(Ir),Cr(Ir,n)}var jr=null,Gr=!1,Ur=!1;function Br(e){null===jr?jr=[e]:jr.push(e)}function Wr(){if(!Ur&&null!==jr){Ur=!0;var e=0,t=yt;try{var n=jr;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jr=null,Gr=!1}catch(r){throw null!==jr&&(jr=jr.slice(e+1)),Qe($e,Wr),r}finally{yt=t,Ur=!1}}return null}var zr=[],qr=0,Hr=null,Vr=0,Qr=[],Kr=0,Yr=null,Jr=1,Xr="";function Zr(e,t){zr[qr++]=Vr,zr[qr++]=Hr,Hr=e,Vr=t}function $r(e,t,n){Qr[Kr++]=Jr,Qr[Kr++]=Xr,Qr[Kr++]=Yr,Yr=e;var i=Jr;e=Xr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var s=32-at(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Jr=1<<32-at(t)+r|n<<r|i,Xr=s+e}else Jr=1<<s|n<<r|i,Xr=e}function es(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ts(e){for(;e===Hr;)Hr=zr[--qr],zr[qr]=null,Vr=zr[--qr],zr[qr]=null;for(;e===Yr;)Yr=Qr[--Kr],Qr[Kr]=null,Xr=Qr[--Kr],Qr[Kr]=null,Jr=Qr[--Kr],Qr[Kr]=null}var ns=null,is=null,rs=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Jr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&os(e,t)?as(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=is;e;)e=cr(e.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Sr(null),_s=null,ys=null,bs=null;function As(){bs=ys=_s=null}function ws(e){var t=vs.current;kr(vs),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){_s=e,bs=ys=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ys){if(null===_s)throw Error(s(308));ys=e,_s.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Cs=null;function Es(e){null===Cs?Cs=[e]:Cs.push(e)}function xs(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Es(t)):(n.next=r.next,r.next=n),t.interleaved=n,Is(e,i)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ts=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Is(e,n)}return null===(r=i.interleaved)?(t.next=t,Es(i)):(t.next=r.next,r.next=t),i.interleaved=t,Is(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Ds(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,i){var r=e.updateQueue;Ts=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Ts=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Gs=(new i.Component).refs;function Us(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ms(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ns(e,s,r))&&(ic(t,e,r,i),Os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ms(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ns(e,s,r))&&(ic(t,e,r,i),Os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Ms(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ns(e,r,i))&&(ic(t,e,i,n),Os(t,e,i))}};function Ws(e,t,n,i,r,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function zs(e,t,n){var i=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(r=Rr(t)?Tr:xr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Fr(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Gs,Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=ks(s):(s=Rr(t)?Tr:xr.current,r.context=Fr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Bs.enqueueReplaceState(r,r.state,null),Ls(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Gs&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===P?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ks(s)===t.type)?((i=r(t,n.props)).ref=Vs(e,t,n),i.return=e,i):((i=Oc(n.type,n.key,n.props,null,e.mode,i)).ref=Vs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Vs(e,null,t),n.return=e,n;case w:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Qs(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case R:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:d(e,t,n,i,null);Qs(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case A:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case R:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return d(t,e=e.get(n)||null,i,r,null);Qs(t,i)}return null}function g(r,s,o,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(r,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===o.length)return n(r,d),rs&&Zr(r,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(r,o[g],l))&&(s=a(d,s,g),null===u?c=d:u.sibling=d,u=d);return rs&&Zr(r,g),c}for(d=i(r,d);g<o.length;g++)null!==(m=f(d,r,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),rs&&Zr(r,g),c}function m(r,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=o,m=o=0,v=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=p(r,g,_.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(r,g),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y,g=v}if(_.done)return n(r,g),rs&&Zr(r,m),u;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=h(r,_.value,c))&&(o=a(_,o,m),null===d?u=_:d.sibling=_,d=_);return rs&&Zr(r,m),u}for(g=i(r,g);!_.done;m++,_=l.next())null!==(_=f(g,r,m,_.value,c))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),o=a(_,o,m),null===d?u=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(r,e)})),rs&&Zr(r,m),u}return function e(i,s,a,l){if("object"===typeof a&&null!==a&&a.type===P&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===P){if(7===u.tag){n(i,u.sibling),(s=r(u,a.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ks(c)===u.type){n(i,u.sibling),(s=r(u,a.props)).ref=Vs(i,u,a),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===P?((s=Dc(a.props.children,i.mode,l,a.key)).return=i,i=s):((l=Oc(a.type,a.key,a.props,null,i.mode,l)).ref=Vs(i,s,a),l.return=i,i=l)}return o(i);case w:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(i,s.sibling),(s=r(s,a.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Gc(a,i.mode,l)).return=i,i=s}return o(i);case R:return e(i,s,(u=a._init)(a._payload),l)}if(te(a))return g(i,s,a,l);if(O(a))return m(i,s,a,l);Qs(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,a)).return=i,i=s):(n(i,s),(s=jc(a,i.mode,l)).return=i,i=s),o(i)):n(i,s)}}var Js=Ys(!0),Xs=Ys(!1),Zs={},$s=Sr(Zs),ea=Sr(Zs),ta=Sr(Zs);function na(e){if(e===Zs)throw Error(s(174));return e}function ia(e,t){switch(Cr(ta,t),Cr(ea,e),Cr($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr($s),Cr($s,t)}function ra(){kr($s),kr(ea),kr(ta)}function sa(e){na(ta.current);var t=na($s.current),n=le(t,e.type);t!==n&&(Cr(ea,e),Cr($s,n))}function aa(e){ea.current===e&&(kr($s),kr(ea))}var oa=Sr(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,pa=0,fa=null,ga=null,ma=null,va=!1,_a=!1,ya=0,ba=0;function Aa(){throw Error(s(321))}function wa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function Pa(e,t,n,i,r,a){if(pa=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(i,r),_a){a=0;do{if(_a=!1,ya=0,25<=a)throw Error(s(301));a+=1,ma=ga=null,t.updateQueue=null,da.current=lo,e=n(i,r)}while(_a)}if(da.current=so,t=null!==ga&&null!==ga.next,pa=0,ma=ga=fa=null,va=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==ya;return ya=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?fa.memoizedState=ma=e:ma=ma.next=e,ma}function Ca(){if(null===ga){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?fa.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?fa.memoizedState=ma=e:ma=ma.next=e}return ma}function Ea(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ga,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,fa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,fa.lanes|=a,Ll|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);oi(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ta(){}function Fa(e,t){var n=fa,i=Ca(),r=t(),a=!oi(i.memoizedState,r);if(a&&(i.memoizedState=r,bo=!0),i=i.queue,za(Na.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,ja(9,Ma.bind(null,n,i,r,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&pa)||Ra(n,t,r)}return r}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,i){t.value=n,t.getSnapshot=i,Oa(t)&&Da(e)}function Na(e,t,n){return n((function(){Oa(t)&&Da(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Da(e){var t=Is(e,1);null!==t&&ic(t,e,1,-1)}function La(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,fa,e),[t.memoizedState,e]}function ja(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ga(){return Ca().memoizedState}function Ua(e,t,n,i){var r=ka();fa.flags|=e,r.memoizedState=ja(1|t,n,void 0,void 0===i?null:i)}function Ba(e,t,n,i){var r=Ca();i=void 0===i?null:i;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==i&&wa(i,a.deps))return void(r.memoizedState=ja(t,n,s,i))}fa.flags|=e,r.memoizedState=ja(1|t,n,s,i)}function Wa(e,t){return Ua(8390656,8,e,t)}function za(e,t){return Ba(2048,8,e,t)}function qa(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Va.bind(null,t,e),n)}function Ka(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ca();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oi(n,t)||(n=gt(),fa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Za(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=ha.transition;ha.transition={};try{e(!1),t()}finally{yt=n,ha.transition=i}}function $a(){return Ca().memoizedState}function eo(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))io(t,n);else if(null!==(n=xs(e,t,n,i))){ic(n,e,i,tc()),ro(n,t,i)}}function to(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))io(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,a)){var l=t.interleaved;return null===l?(r.next=r,Es(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=xs(e,t,r,i))&&(ic(n,e,i,r=tc()),ro(n,t,i))}}function no(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function io(e,t){_a=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,_t(e,n)}}var so={readContext:ks,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useInsertionEffect:Aa,useLayoutEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useMutableSource:Aa,useSyncExternalStore:Aa,useId:Aa,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ka();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=eo.bind(null,fa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:La,useDebugValue:Ka,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Za.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=fa,r=ka();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&pa)||Ra(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Wa(Na.bind(null,i,a,e),[e]),i.flags|=2048,ja(9,Ma.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Tl.identifierPrefix;if(rs){var n=Xr;t=":"+t+"R"+(n=(Jr&~(1<<32-at(Jr)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:za,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Ha,useMemo:Ja,useReducer:xa,useRef:Ga,useState:function(){return xa(Ea)},useDebugValue:Ka,useDeferredValue:function(e){return Xa(Ca(),ga.memoizedState,e)},useTransition:function(){return[xa(Ea)[0],Ca().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Fa,useId:$a,unstable_isNewReconciler:!1},lo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:za,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Ha,useMemo:Ja,useReducer:Ia,useRef:Ga,useState:function(){return Ia(Ea)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ca();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[Ia(Ea)[0],Ca().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Fa,useId:$a,unstable_isNewReconciler:!1};function co(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=i),ho(0,t)},n}function go(e,t,n){(n=Ms(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new po;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _o(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Ns(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yo=b.ReactCurrentOwner,bo=!1;function Ao(e,t,n,i){t.child=null===e?Xs(t,null,n,i):Js(t,e.child,n,i)}function wo(e,t,n,i,r){n=n.render;var s=t.ref;return Ss(t,r),i=Pa(e,t,n,i,s,r),n=Sa(),null===e||bo?(rs&&n&&es(t),t.flags|=1,Ao(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function Po(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Ho(e,t,r)}return t.flags|=1,(e=Nc(s,i)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(bo=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Ho(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return Eo(e,t,n,i,r)}function ko(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Nl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Nl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Nl,Ml),Ml|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Cr(Nl,Ml),Ml|=i;return Ao(e,t,r,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,i,r){var s=Rr(n)?Tr:xr.current;return s=Fr(t,s),Ss(t,r),n=Pa(e,t,n,i,s,r),i=Sa(),null===e||bo?(rs&&i&&es(t),t.flags|=1,Ao(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ho(e,t,r))}function xo(e,t,n,i,r){if(Rr(n)){var s=!0;Dr(t)}else s=!1;if(Ss(t,r),null===t.stateNode)qo(e,t),zs(t,n,i),Hs(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Fr(t,c=Rr(n)?Tr:xr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&qs(t,a,i,c),Ts=!1;var h=t.memoizedState;a.state=h,Ls(t,i,a,r),l=t.memoizedState,o!==i||h!==l||Ir.current||Ts?("function"===typeof u&&(Us(t,n,u,i),l=t.memoizedState),(o=Ts||Ws(t,n,o,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ms(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Fr(t,l=Rr(n)?Tr:xr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&qs(t,a,i,l),Ts=!1,h=t.memoizedState,a.state=h,Ls(t,i,a,r);var f=t.memoizedState;o!==d||h!==f||Ir.current||Ts?("function"===typeof p&&(Us(t,n,p,i),f=t.memoizedState),(c=Ts||Ws(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Io(e,t,n,i,s,r)}function Io(e,t,n,i,r,s){Co(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Lr(t,n,!1),Ho(e,t,s);i=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):Ao(e,t,o,s),t.memoizedState=i.state,r&&Lr(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),ia(e,t.containerInfo)}function Fo(e,t,n,i,r){return ps(),fs(r),t.flags|=256,Ao(e,t,n,i),t.child}var Ro,Mo,No,Oo,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var i,r=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cr(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,r,0,null),e=Dc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,i=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Lc({mode:"visible",children:i.children},r,0,null),(a=Dc(a,r,o,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Uo(e,t,o,i=uo(a=Error(s(419)),i,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(i=Tl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Is(e,r),ic(i,e,r,-1))}return mc(),Uo(e,t,o,i=uo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Qr[Kr++]=Jr,Qr[Kr++]=Xr,Qr[Kr++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),t=Go(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(o){o=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Nc(i,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=Nc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Go(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,i){return null!==i&&fs(i),Js(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ps(e.return,t,n)}function Wo(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function zo(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ao(e,t,i.children,n),0!==(2&(i=oa.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(oa,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Wo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===la(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ko(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Rr(t.type)&&Mr(),Qo(t),null;case 3:return i=t.stateNode,ra(),kr(Ir),kr(xr),ua(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Mo(e,t),Qo(t),null;case 5:aa(t);var r=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)No(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Qo(t),null}if(e=na($s.current),ds(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":Gi("cancel",i),Gi("close",i);break;case"iframe":case"object":case"embed":Gi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Gi(Oi[r],i);break;case"source":Gi("error",i);break;case"img":case"image":case"link":Gi("error",i),Gi("load",i);break;case"details":Gi("toggle",i);break;case"input":J(i,a),Gi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Gi("invalid",i);break;case"textarea":re(i,a),Gi("invalid",i)}for(var l in _e(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Gi("scroll",i)}switch(n){case"input":V(i),$(i,a,!0);break;case"textarea":V(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":Gi("cancel",e),Gi("close",e),r=i;break;case"iframe":case"object":case"embed":Gi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Gi(Oi[r],e);r=i;break;case"source":Gi("error",e),r=i;break;case"img":case"image":case"link":Gi("error",e),Gi("load",e),r=i;break;case"details":Gi("toggle",e),r=i;break;case"input":J(e,i),r=Y(e,i),Gi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),Gi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Gi("invalid",e)}for(a in _e(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Gi("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":V(e),$(e,i,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na($s.current),ds(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Qo(t),null;case 13:if(kr(oa),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return ra(),Mo(e,t),null===e&&Wi(t.stateNode.containerInfo),Qo(t),null;case 10:return ws(t.type._context),Qo(t),null;case 19:if(kr(oa),null===(a=t.memoizedState))return Qo(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Vo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Vo(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zl&&(t.flags|=128,i=!0,Vo(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=la(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return Qo(t),null}else 2*Xe()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,i=!0,Vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Cr(oa,i?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Rr(t.type)&&Mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),kr(Ir),kr(xr),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(kr(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(oa),null;case 4:return ra(),null;case 10:return ws(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},No=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,na($s.current);var s,a=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),a=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(u in _e(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Gi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,i){n!==i&&(t.flags|=4)};var Jo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){kc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var i=dl,r=hl;dl=null,pl(e,t,n),hl=r,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Wt(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Xo=(i=Xo)||null!==n.memoizedState,pl(e,t,n),Xo=i):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var i=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));fl(a,o,r),dl=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),_l(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(m){kc(e,e.return,m)}try{il(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),_l(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),_l(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(m){kc(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(r,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):y(r,d,h,u)}switch(l){case"input":Z(r,a);break;case"textarea":se(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),_l(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),_l(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),_l(e);break;case 13:ml(t,e),_l(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Wl=Xe())),4&i&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),_l(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(f=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(i,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,$o=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),_l(e),4&i&&gl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==$o;){var r=$o,s=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Jo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Jo;var c=Xo;if(Jo=a,(Xo=l)&&!c)for($o=r;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?Pl(r):null!==l?(l.return=a,$o=l):Pl(r);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=r,Jo=o,Xo=c}Al(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$o=s):Al(e)}}function Al(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xo)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&js(t,a,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(p){kc(t,t.return,p)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Pl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){kc(t,r,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Sl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Il=0,Tl=null,Fl=null,Rl=0,Ml=0,Nl=Sr(0),Ol=0,Dl=null,Ll=0,jl=0,Gl=0,Ul=null,Bl=null,Wl=0,zl=1/0,ql=null,Hl=!1,Vl=null,Ql=null,Kl=!1,Yl=null,Jl=0,Xl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Il)?Xe():-1!==$l?$l:$l=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ic(e,t,n,i){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));vt(e,n,i),0!==(2&Il)&&e===Tl||(e===Tl&&(0===(2&Il)&&(jl|=n),4===Ol&&lc(e,Rl)),rc(e,i),1===n&&0===Il&&0===(1&t.mode)&&(zl=Xe()+500,Gr&&Wr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=ht(e,e===Tl?Rl:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Gr=!0,Br(e)}(cc.bind(null,e)):Br(cc.bind(null,e)),ar((function(){0===(6&Il)&&Wr()})),n=null;else{switch(bt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var i=ht(e,e===Tl?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Il;Il|=2;var a=gc();for(Tl===e&&Rl===t||(ql=null,zl=Xe()+500,pc(e,t));;)try{yc();break}catch(l){fc(e,l)}As(),Cl.current=a,Il=r,null!==Fl?t=0:(Tl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=Dl,pc(e,0),lc(e,i),rc(e,Xe()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!oi(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=Dl,pc(e,0),lc(e,i),rc(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Bl,ql);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Wl+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Bl,ql),t);break}wc(e,Bl,ql);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-at(i);a=1<<o,(o=t[o])>r&&(r=o),i&=~a}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Bl,ql),i);break}wc(e,Bl,ql);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Gl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Il))throw Error(s(327));Pc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Dl,pc(e,0),lc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,ql),rc(e,Xe()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(zl=Xe()+500,Gr&&Wr())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Pc();var t=Il;Il|=1;var n=xl.transition,i=yt;try{if(xl.transition=null,yt=1,e)return e()}finally{yt=i,xl.transition=n,0===(6&(Il=t))&&Wr()}}function hc(){Ml=Nl.current,kr(Nl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Fl)for(n=Fl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:ra(),kr(Ir),kr(xr),ua();break;case 5:aa(i);break;case 4:ra();break;case 13:case 19:kr(oa);break;case 10:ws(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Tl=e,Fl=e=Nc(e.current,null),Rl=Ml=t,Ol=0,Dl=null,Gl=jl=Ll=0,Bl=Ul=null,null!==Cs){for(t=0;t<Cs.length;t++)if(null!==(i=(n=Cs[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var a=s.next;s.next=r,i.next=a}n.pending=i}Cs=null}return e}function fc(e,t){for(;;){var n=Fl;try{if(As(),da.current=so,va){for(var i=fa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}va=!1}if(pa=0,ma=ga=fa=null,_a=!1,ya=0,El.current=null,null===n||null===n.return){Ol=1,Dl=t,Fl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,_o(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),_o(v,o,l,0,t),fs(co(c,l));break e}}a=c=co(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ds(a,fo(0,c,t));break e;case 1:l=c;var _=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof _.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Ql||!Ql.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Ds(a,go(a,l,t));break e}}a=a.return}while(null!==a)}Ac(n)}catch(b){t=b,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=so,null===e?so:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Tl||0===(268435455&Ll)&&0===(268435455&jl)||lc(Tl,Rl)}function vc(e,t){var n=Il;Il|=2;var i=gc();for(Tl===e&&Rl===t||(ql=null,pc(e,t));;)try{_c();break}catch(r){fc(e,r)}if(As(),Il=n,Cl.current=i,null!==Fl)throw Error(s(261));return Tl=null,Rl=0,Ol}function _c(){for(;null!==Fl;)bc(Fl)}function yc(){for(;null!==Fl&&!Ye();)bc(Fl)}function bc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Ac(e):Fl=t,El.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ml)))return void(Fl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ol=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var i=yt,r=xl.transition;try{xl.transition=null,yt=1,function(e,t,n,i){do{Pc()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,a),e===Tl&&(Fl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,(function(){return Pc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var o=yt;yt=1;var l=Il;Il|=4,El.current=null,function(e,t){if(er=qt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(A){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=o),p===a&&++d===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(A){kc(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}g=nl,nl=!1}(e,n),vl(n,e),fi(tr),qt=!!er,tr=er=null,e.current=n,yl(n,e,r),Je(),Il=l,yt=o,xl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Jl=r),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Jl)&&0!==e.tag&&Pc(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Wr()}(e,t,n,i)}finally{xl.transition=r,yt=i}return null}function Pc(){if(null!==Yl){var e=bt(Jl),t=xl.transition,n=yt;try{if(xl.transition=null,yt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Il))throw Error(s(331));var r=Il;for(Il|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var p=(d=$o).sibling,f=d.return;if(al(d),d===u){$o=null;break}if(null!==p){p.return=f,$o=p;break}$o=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var _=a.sibling;if(null!==_){_.return=a.return,$o=_;break e}$o=a.return}}var y=e.current;for($o=y;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=y;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){$o=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,$o=A;break e}$o=l.return}}if(Il=r,Wr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{yt=n,xl.transition=t}}return!1}function Sc(e,t,n){e=Ns(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ql||!Ql.has(i))){t=Ns(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>Xe()-Wl?pc(e,0):Gl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Is(e,t))&&(vt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Ec(e,n)}function Tc(e,t){return Qe(e,t)}function Fc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,i){return new Fc(e,t,n,i)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,i,r,a){var o=2;if(i=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case P:return Dc(n.children,r,a,t);case S:o=8,r|=8;break;case k:return(e=Rc(12,n,t,2|r)).elementType=k,e.lanes=a,e;case I:return(e=Rc(13,n,t,r)).elementType=I,e.lanes=a,e;case T:return(e=Rc(19,n,t,r)).elementType=T,e.lanes=a,e;case M:return Lc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case x:o=11;break e;case F:o=14;break e;case R:o=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Dc(e,t,n,i){return(e=Rc(7,e,i,t)).lanes=n,e}function Lc(e,t,n,i){return(e=Rc(22,e,i,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Wc(e){if(!e)return Er;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Or(e,n,t)}return t}function zc(e,t,n,i,r,s,a,o,l){return(e=Bc(n,i,!0,e,0,s,0,o,l)).context=Wc(null),n=e.current,(s=Ms(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ns(n,s,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function qc(e,t,n,i){var r=t.current,s=tc(),a=nc(r);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ns(r,t,a))&&(ic(e,r,a,s),Os(e,r,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),ps();break;case 5:sa(t);break;case 1:Rr(t.type)&&Dr(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(Cr(oa,1&oa.current),null!==(e=Ho(e,t,n))?e.sibling:null);Cr(oa,1&oa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return zo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(oa,oa.current),i)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,rs&&0!==(1048576&t.flags)&&$r(t,Vr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;qo(e,t),e=t.pendingProps;var r=Fr(t,xr.current);Ss(t,n),r=Pa(null,t,i,e,r,n);var a=Sa();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(i)?(a=!0,Dr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Fs(t),r.updater=Bs,t.stateNode=r,r._reactInternals=t,Hs(t,i,e,n),t=Io(null,t,i,!0,a,n)):(t.tag=0,rs&&a&&es(t),Ao(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===F)return 14}return 2}(i),e=ms(i,e),r){case 0:t=Eo(null,t,i,e,n);break e;case 1:t=xo(null,t,i,e,n);break e;case 11:t=wo(null,t,i,e,n);break e;case 14:t=Po(null,t,i,ms(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Eo(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 1:return i=t.type,r=t.pendingProps,xo(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 3:e:{if(To(t),null===e)throw Error(s(387));i=t.pendingProps,r=(a=t.memoizedState).element,Rs(e,t),Ls(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,i,n,r=co(Error(s(423)),t));break e}if(i!==r){t=Fo(e,t,i,n,r=co(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Xs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){t=Ho(e,t,n);break e}Ao(e,t,i,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==a&&nr(i,a)&&(t.flags|=32),Co(e,t),Ao(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Js(t,null,i,n):Ao(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wo(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,Cr(vs,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===r.children&&!Ir.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ps(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ps(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Ao(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ss(t,n),i=i(r=ks(r)),t.flags|=1,Ao(e,t,i,n),t.child;case 14:return r=ms(i=t.type,t.pendingProps),Po(e,t,i,r=ms(i.type,r),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ms(i,r),qo(e,t),t.tag=1,Rr(i)?(e=!0,Dr(t)):e=!1,Ss(t,n),zs(t,i,r),Hs(t,i,r,n),Io(null,t,i,!0,e,n);case 19:return zo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}qc(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}var a=zc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[fr]=a.current,Wi(8===e.nodeType?e.parentNode:e),dc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var o=i;i=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,Wi(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,i)})),l}(n,t,e,r,i);return Hc(a)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[fr]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(_t(t,1|n),rc(t,Xe()),0===(6&Il)&&(zl=Xe()+500,Wr()))}break;case 13:dc((function(){var t=Is(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Qc(e,1)}},wt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)ic(t,e,134217728,tc());Qc(e,134217728)}},Pt=function(e){if(13===e.tag){var t=nc(e),n=Is(e,t);if(null!==n)ic(n,e,t,tc());Qc(e,t)}},St=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Ar(i);if(!r)throw Error(s(90));Q(i),Z(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[yr,br,Ar,Ce,Ee,uc]},nu={findFiberByHostInstance:_r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,i="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Wi(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,r,0,a,o),e[fr]=t.current,Wi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,r="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,u;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!==l--;)if(!s(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!s(l.value[1],a.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!s(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},9475:(e,t,n)=>{"use strict";var i,r=n(2791),s=(i=r)&&"object"===typeof i&&"default"in i?i.default:i;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(i){if("function"!==typeof i)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.peek=function(){return l},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var a=r.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},a.render=function(){return s.createElement(i,this.props)},r}(r.PureComponent);return a(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(i)+")"),a(d,"canUseDOM",o),d}}},6374:(e,t,n)=>{"use strict";var i=n(2791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=v.prototype;var b=y.prototype=new _;b.constructor=y,g(b,v.prototype),b.isPureReactComponent=!0;var A=Array.isArray,w=Object.prototype.hasOwnProperty,P={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,i){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:P.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,r,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===s?"."+x(l,0):s,A(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),I(a,t,r,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",A(e))for(var c=0;c<e.length;c++){var u=s+x(o=e[c],c);l+=I(o,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,r,u=s+x(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var i=[],r=0;return I(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:P};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=P.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function A(e){if(m=!1,b(e),!g)if(null!==i(c))g=!0,M(w);else{var t=i(u);null!==t&&N(A,t.startTime-e)}}function w(e,n){g=!1,m&&(m=!1,_(C),C=-1),f=!0;var s=p;try{for(b(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&r(c),b(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&N(A,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,S=!1,k=null,C=-1,E=5,x=-1;function I(){return!(t.unstable_now()-x<E)}function T(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?P():(S=!1,k=null)}}else S=!1}if("function"===typeof y)P=function(){y(T)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,R=F.port2;F.port1.onmessage=T,P=function(){R.postMessage(null)}}else P=function(){v(T,0)};function M(e){k=e,S||(S=!0,P())}function N(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(m?(_(C),C=-1):m=!0,N(A,s-a))):(e.sortIndex=o,n(c,e),g||f||(g=!0,M(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},6521:e=>{e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},8912:e=>{e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},3448:e=>{e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.__esModule=!0,e.exports.default=e.exports},2625:e=>{e.exports=function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")},e.exports.__esModule=!0,e.exports.default=e.exports},2506:e=>{e.exports=function(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")},e.exports.__esModule=!0,e.exports.default=e.exports},4069:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},468:(e,t,n)=>{var i=n(8912),r=n(4069);e.exports=function(e,t){var n=r(e,t,"get");return i(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},9159:(e,t,n)=>{var i=n(6521);e.exports=function(e,t,n){i(e,t),t.set(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},5661:(e,t,n)=>{var i=n(3448),r=n(4069);e.exports=function(e,t,n){var s=r(e,t,"set");return i(e,s,n),n},e.exports.__esModule=!0,e.exports.default=e.exports},4467:e=>{e.exports=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n},e.exports.__esModule=!0,e.exports.default=e.exports},1860:(e,t,n)=>{var i=n(6521);e.exports=function(e,t){i(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1280:(e,t,n)=>{var i=n(8912),r=n(2625),s=n(2506);e.exports=function(e,t,n){return r(e,t),s(n,"get"),i(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports},2306:(e,t,n)=>{var i=n(3448),r=n(2625),s=n(2506);e.exports=function(e,t,n,a){return r(e,t),s(n,"set"),i(e,n,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},5764:(e,t,n)=>{var i=n(2625);e.exports=function(e,t,n){return i(e,t),n},e.exports.__esModule=!0,e.exports.default=e.exports},8416:(e,t,n)=>{var i=n(4062);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},5036:(e,t,n)=>{var i=n(8698).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:(e,t,n)=>{var i=n(8698).default,r=n(5036);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,__webpack_require__.d(r,s),r}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".798002b3.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="blacksheep-portfolio-website:";__webpack_require__.l=(n,i,r,s)=>{if(e[n])e[n].push(i);else{var a,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[i];var d=(t,i)=>{a.onerror=a.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),o&&document.head.appendChild(a)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/port4lio-website/",(()=>{var e={179:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var s=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(s,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,s=n[0],a=n[1],o=n[2],l=0;if(s.some((t=>0!==e[t]))){for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(o)o(__webpack_require__)}for(t&&t(n);l<s.length;l++)r=s[l],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkblacksheep_portfolio_website=self.webpackChunkblacksheep_portfolio_website||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FirebaseError:()=>tt,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>un,_apps:()=>on,_clearComponents:()=>fn,_components:()=>ln,_getProvider:()=>hn,_registerComponent:()=>dn,_removeServiceInstance:()=>pn,deleteApp:()=>An,getApp:()=>yn,getApps:()=>bn,initializeApp:()=>_n,onLog:()=>Pn,registerVersion:()=>wn,setLogLevel:()=>Sn});var t,n=__webpack_require__(2791),i=__webpack_require__.t(n,2),r=__webpack_require__(4164),s=__webpack_require__.t(r,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function f(e,n,i,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,p=s.history,f=t.Pop,g=null,m=v();function v(){return(p.state||{idx:null}).idx}function _(){f=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:f,location:b.location,delta:n})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,p.replaceState(a({},p.state,{idx:m}),""));let b={get action(){return f},get location(){return e(s,p)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(o,_),g=e,()=>{s.removeEventListener(o,_),g=null}},createHref:e=>n(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;let r=d(b.location,e,n);i&&i(r,e),m=v()+1;let a=u(r,m),o=b.createHref(r);try{p.pushState(a,"",o)}catch(cl){if(cl instanceof DOMException&&"DataCloneError"===cl.name)throw cl;s.location.assign(o)}c&&g&&g({action:f,location:b.location,delta:1})},replace:function(e,n){f=t.Replace;let r=d(b.location,e,n);i&&i(r,e),m=v();let s=u(r,m),a=b.createHref(r);p.replaceState(s,"",a),c&&g&&g({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let i=T(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let r=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a)s=E(r[a],I(i));return s}function v(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=O([i,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let a=_(i.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),r&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:\w+$/,b=3,A=2,w=1,P=10,S=-2,k=e=>"*"===e;function C(e,t){let n=e.split("/"),i=n.length;return n.some(k)&&(i+=S),t&&(i+=A),n.filter((e=>!k(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?w:P)),i)}function E(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:O([r,c.pathname]),pathnameBase:D(O([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=O([r,c.pathnameBase]))}return s}function x(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=r&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(cl){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+cl+")."),e}}(l||"",i),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return decodeURI(e)}catch(cl){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+cl+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function F(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e){return R(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function N(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=p(e):(r=a({},e),l(!r.pathname||!r.pathname.includes("?"),F("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),F("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),F("#","search","hash",r)));let s,o=""===e||""===r.pathname,c=o?"/":r.pathname;if(null==c)s=n;else if(i){let e=t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();r.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(i),hash:j(r)}}(r,s),d=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(this,arguments)}const z=n.createContext(null);const q=n.createContext(null);const H=n.createContext(null);const V=n.createContext(null);const Q=n.createContext({outlet:null,matches:[],isDataRoute:!1});const K=n.createContext(null);function Y(){return null!=n.useContext(V)}function J(){return Y()||l(!1),n.useContext(V).location}function X(e){n.useContext(H).static||n.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=n.useContext(Q);return e?function(){let{router:e}=le(ae.UseNavigateStable),t=ue(oe.UseNavigateStable),i=n.useRef(!1);return X((()=>{i.current=!0})),n.useCallback((function(n,r){void 0===r&&(r={}),i.current&&("number"===typeof n?e.navigate(n):e.navigate(n,W({fromRouteId:t},r)))}),[e,t])}():function(){Y()||l(!1);let e=n.useContext(z),{basename:t,navigator:i}=n.useContext(H),{matches:r}=n.useContext(Q),{pathname:s}=J(),a=JSON.stringify(M(r)),o=n.useRef(!1);return X((()=>{o.current=!0})),n.useCallback((function(n,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof n)return void i.go(n);let l=N(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:O([t,l.pathname])),(r.replace?i.replace:i.push)(l,r.state,r)}),[t,i,a,s,e])}()}function $(e,t){let{relative:i}=void 0===t?{}:t,{matches:r}=n.useContext(Q),{pathname:s}=J(),a=JSON.stringify(M(r));return n.useMemo((()=>N(e,JSON.parse(a),s,"path"===i)),[e,a,s,i])}function ee(e,i,r){Y()||l(!1);let{navigator:s}=n.useContext(H),{matches:a}=n.useContext(Q),o=a[a.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,h=J();if(i){var f;let e="string"===typeof i?p(i):i;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),d=e}else d=h;let g=d.pathname||"/",v=m(e,{pathname:"/"===u?g:g.slice(u.length)||"/"});let _=se(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:O([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r);return i&&_?n.createElement(V.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},_):_}function te(){let e=function(){var e;let t=n.useContext(K),i=ce(oe.UseRouteError),r=ue(oe.UseRouteError);if(t)return t;return null==(e=i.errors)?void 0:e[r]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),i?n.createElement("pre",{style:s},i):null,null)}const ne=n.createElement(te,null);class ie extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?n.createElement(Q.Provider,{value:this.props.routeContext},n.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:i,children:r}=e,s=n.useContext(z);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),n.createElement(Q.Provider,{value:t},r)}function se(e,t,i){var r;if(void 0===t&&(t=[]),void 0===i&&(i=null),null==e){var s;if(null==(s=i)||!s.errors)return null;e=i.matches}let a=e,o=null==(r=i)?void 0:r.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,r,s)=>{let l=r.route.id?null==o?void 0:o[r.route.id]:null,c=null;i&&(c=r.route.errorElement||ne);let u=t.concat(a.slice(0,s+1)),d=()=>{let t;return t=l?c:r.route.Component?n.createElement(r.route.Component,null):r.route.element?r.route.element:e,n.createElement(re,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=i},children:t})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?n.createElement(ie,{location:i.location,revalidation:i.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function le(e){let t=n.useContext(z);return t||l(!1),t}function ce(e){let t=n.useContext(q);return t||l(!1),t}function ue(e){let t=function(e){let t=n.useContext(Q);return t||l(!1),t}(),i=t.matches[t.matches.length-1];return i.route.id||l(!1),i.route.id}i.startTransition;function de(e){l(!1)}function he(e){let{basename:i="/",children:r=null,location:s,navigationType:a=t.Pop,navigator:o,static:c=!1}=e;Y()&&l(!1);let u=i.replace(/^\/*/,"/"),d=n.useMemo((()=>({basename:u,navigator:o,static:c})),[u,o,c]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:v="default"}=s,_=n.useMemo((()=>{let e=T(h,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:m,key:v},navigationType:a}}),[u,h,f,g,m,v,a]);return null==_?null:n.createElement(H.Provider,{value:d},n.createElement(V.Provider,{children:r,value:_}))}function pe(e){let{children:t,location:n}=e;return ee(fe(t),n)}new Promise((()=>{}));n.Component;function fe(e,t){void 0===t&&(t=[]);let i=[];return n.Children.forEach(e,((e,r)=>{if(!n.isValidElement(e))return;let s=[...t,r];if(e.type===n.Fragment)return void i.push.apply(i,fe(e.props.children,s));e.type!==de&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=fe(e.props.children,s)),i.push(a)})),i}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ge.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_e=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const ye=n.createContext({isTransitioning:!1});new Map;const be=i.startTransition;s.flushSync;function Ae(e){let{basename:t,children:i,future:r,window:s}=e,a=n.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f((function(e,t){let{pathname:n="/",search:i="",hash:r=""}=p(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:h(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let l=a.current,[u,g]=n.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},v=n.useCallback((e=>{m&&be?be((()=>g(e))):g(e)}),[g,m]);return n.useLayoutEffect((()=>l.listen(v)),[l,v]),n.createElement(he,{basename:t,children:i,location:u.location,navigationType:u.action,navigator:l})}const we="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=n.forwardRef((function(e,t){let i,{onClick:r,relative:s,reloadDocument:a,replace:o,state:c,target:u,to:d,preventScrollReset:p,unstable_viewTransition:f}=e,g=me(e,ve),{basename:m}=n.useContext(H),v=!1;if("string"===typeof d&&Pe.test(d)&&(i=d,we))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(b){}let _=function(e,t){let{relative:i}=void 0===t?{}:t;Y()||l(!1);let{basename:r,navigator:s}=n.useContext(H),{hash:a,pathname:o,search:c}=$(e,{relative:i}),u=o;return"/"!==r&&(u="/"===o?r:O([r,o])),s.createHref({pathname:u,search:c,hash:a})}(d,{relative:s}),y=function(e,t){let{target:i,replace:r,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===t?{}:t,c=Z(),u=J(),d=$(e,{relative:o});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:h(u)===h(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,d,r,s,i,e,a,o,l])}(d,{replace:o,state:c,target:u,preventScrollReset:p,relative:s,unstable_viewTransition:f});return n.createElement("a",ge({},g,{href:i||_,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));const ke=n.forwardRef((function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:c,unstable_viewTransition:u,children:d}=e,h=me(e,_e),p=$(c,{relative:h.relative}),f=J(),g=n.useContext(q),{navigator:m}=n.useContext(H),v=null!=g&&function(e,t){void 0===t&&(t={});let i=n.useContext(ye);null==i&&l(!1);let{basename:r}=xe(Ce.useViewTransitionState),s=$(e,{relative:t.relative});if(!i.isTransitioning)return!1;let a=T(i.currentLocation.pathname,r)||i.currentLocation.pathname,o=T(i.nextLocation.pathname,r)||i.nextLocation.pathname;return null!=x(s.pathname,o)||null!=x(s.pathname,a)}(p)&&!0===u,_=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,y=f.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase());const A="/"!==_&&_.endsWith("/")?_.length-1:_.length;let w,P=y===_||!a&&y.startsWith(_)&&"/"===y.charAt(A),S=null!=b&&(b===_||!a&&b.startsWith(_)&&"/"===b.charAt(_.length)),k={isActive:P,isPending:S,isTransitioning:v},C=P?i:void 0;w="function"===typeof s?s(k):[s,P?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof o?o(k):o;return n.createElement(Se,ge({},h,{"aria-current":C,className:w,ref:t,style:E,to:c,unstable_viewTransition:u}),"function"===typeof d?d(k):d)}));var Ce,Ee;function xe(e){let t=n.useContext(z);return t||l(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));const Ie=!1,Te=!1,Fe="${JSCORE_VERSION}",Re=function(e,t){if(!e)throw Me(t)},Me=function(e){return new Error("Firebase Database ("+Fe+") INTERNAL ASSERT FAILED: "+e)},Ne=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,a=s?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),i.push(n[c],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==a||null==o)throw new De;const l=t<<2|s>>4;if(i.push(l),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){const t=Ne(e);return Oe.encodeByteArray(t,!0)},je=function(e){return Le(e).replace(/\./g,"")},Ge=function(e){try{return Oe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ue(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ue(e[n],t[n]));return e}const Be=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,We=()=>{try{return Be()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/port4lio-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ge(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ze=e=>{const t=(e=>{var t,n;return null===(n=null===(t=We())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},qe=()=>{var e;return null===(e=We())||void 0===e?void 0:e.config};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ve(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(s)),""].join(".")}function Qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function Ye(){var e;const t=null===(e=We())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(n){return!1}}function Je(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ze(){const e=Qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $e(){return!0===Ie||!0===Te}function et(){try{return"object"===typeof indexedDB}catch(e){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(it,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new tt(n,s,t)}}const it=/\{\$([^}]+)}/g;function rt(e){return JSON.parse(e)}function st(e){return JSON.stringify(e)}const at=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=rt(Ge(s[0])||""),n=rt(Ge(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:i,signature:r}};function ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ct(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ut(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function dt(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(ht(n)&&ht(s)){if(!dt(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ht(e){return null!==e&&"object"===typeof e}function pt(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function gt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class mt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^a&(o^l),r=1518500249):(i=a^o^l,r=1859775393):u<60?(i=a&o|l&(a|o),r=2400959708):(i=a^o^l,r=3395469782);const e=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function vt(e,t){const n=new _t(e,t);return n.subscribe.bind(n)}class _t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=yt),void 0===i.error&&(i.error=yt),void 0===i.complete&&(i.complete=yt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function yt(){}const bt=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r){throw new Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}};function At(e,t){return"".concat(e," failed: ").concat(t," argument ")}function wt(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(At(e,t)+"must be a valid function.")}function Pt(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(At(e,t)+"must be a valid context object.")}const St=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function kt(e){return e&&e._delegate?e._delegate:e}class Ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Et="[DEFAULT]";class xt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new He;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Et})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===Et?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.component?this.component.multipleInstances?e:Et:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class It{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tt=[];var Ft;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ft||(Ft={}));const Rt={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},Mt=Ft.INFO,Nt={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},Ot=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Nt[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Dt{constructor(e){this.name=e,this._logLevel=Mt,this._logHandler=Ot,this._userLogHandler=null,Tt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Rt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const Lt=(e,t)=>t.some((t=>e instanceof t));let jt,Gt;const Ut=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,zt=new WeakMap,qt=new WeakMap;let Ht={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Yt(this),n),Kt(Ut.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Kt(e.apply(Yt(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(Yt(this),t,...i);return Wt.set(s,t.sort?t.sort():[t]),Kt(s)}}function Qt(e){return"function"===typeof e?Vt(e):(e instanceof IDBTransaction&&function(e){if(Bt.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));Bt.set(e,t)}(e),Lt(e,jt||(jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ht):e)}function Kt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Kt(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ut.set(t,e)})).catch((()=>{})),qt.set(t,e),t}(e);if(zt.has(e))return zt.get(e);const t=Qt(e);return t!==e&&(zt.set(e,t),qt.set(t,e)),t}const Yt=e=>qt.get(e);const Jt=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],Zt=new Map;function $t(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Zt.get(t))return Zt.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Xt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Jt.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return i&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),r&&t.done]))[0]};return Zt.set(t,s),s}Ht=(e=>({...e,get:(t,n,i)=>$t(t,n)||e.get(t,n,i),has:(t,n)=>!!$t(t,n)||e.has(t,n)}))(Ht);class en{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const tn="@firebase/app",nn="0.9.23",rn=new Dt("@firebase/app"),sn="[DEFAULT]",an={[tn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,ln=new Map;function cn(e,t){try{e.container.addComponent(t)}catch(n){rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function un(e,t){e.container.addOrOverwriteComponent(t)}function dn(e){const t=e.name;if(ln.has(t))return rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ln.set(t,e);for(const n of on.values())cn(n,e);return!0}function hn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sn;hn(e,t).clearInstance(n)}function fn(){ln.clear()}const gn=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const vn="10.6.0";function _n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:sn,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw gn.create("bad-app-name",{appName:String(r)});if(n||(n=qe()),!n)throw gn.create("no-options");const s=on.get(r);if(s){if(dt(n,s.options)&&dt(i,s.config))return s;throw gn.create("duplicate-app",{appName:r})}const a=new It(r);for(const l of ln.values())a.addComponent(l);const o=new mn(n,i,a);return on.set(r,o),o}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn;const t=on.get(e);if(!t&&e===sn&&qe())return _n();if(!t)throw gn.create("no-app",{appName:e});return t}function bn(){return Array.from(on.values())}async function An(e){const t=e.name;on.has(t)&&(on.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function wn(e,t,n){var i;let r=null!==(i=an[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rn.warn(e.join(" "))}dn(new Ct("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}function Pn(e,t){if(null!==e&&"function"!==typeof e)throw gn.create("invalid-log-argument");!function(e,t){for(const n of Tt){let i=null;t&&t.level&&(i=Rt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ft[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Sn(e){var t;t=e,Tt.forEach((e=>{e.setLogLevel(t)}))}const kn="firebase-heartbeat-database",Cn=1,En="firebase-heartbeat-store";let xn=null;function In(){return xn||(xn=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Kt(a);return i&&a.addEventListener("upgradeneeded",(e=>{i(Kt(a.result),e.oldVersion,e.newVersion,Kt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(kn,Cn,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(En)}}).catch((e=>{throw gn.create("idb-open",{originalErrorMessage:e.message})}))),xn}async function Tn(e,t){try{const n=(await In()).transaction(En,"readwrite"),i=n.objectStore(En);await i.put(t,Fn(e)),await n.done}catch(n){if(n instanceof tt)rn.warn(n.message);else{const e=gn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});rn.warn(e.message)}}}function Fn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e;const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Mn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Mn(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),On(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),On(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=je(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Mn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(cl){t(cl)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await In();return await t.transaction(En).objectStore(En).get(Fn(e))}catch(t){if(t instanceof tt)rn.warn(t.message);else{const e=gn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});rn.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function On(e){return je(JSON.stringify({version:2,heartbeats:e})).length}var Dn;Dn="",dn(new Ct("platform-logger",(e=>new en(e)),"PRIVATE")),dn(new Ct("heartbeat",(e=>new Rn(e)),"PRIVATE")),wn(tn,nn,Dn),wn(tn,nn,"esm2017"),wn("fire-js","");class Ln{constructor(e,t){this._delegate=e,this.firebase=t,cn(e,new Ct("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),An(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn;var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){cn(this._delegate,e)}_addOrOverwriteComponent(e){un(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const jn=new nt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Gn=function t(){const n=function(t){const n={},i={__esModule:!0,initializeApp:function(e){const r=_n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ot(n,r.name))return n[r.name];const s=new t(r,i);return n[r.name]=s,s},app:r,registerVersion:wn,setLogLevel:Sn,onLog:Pn,apps:null,SDK_VERSION:vn,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(dn(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[s])throw jn.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ue(a,e.serviceProps),i[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t.apply(this,e.multipleInstances?r:[])}}return"PUBLIC"===e.type?i[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function r(e){if(!ot(n,e=e||sn))throw jn.create("no-app",{appName:e});return n[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),r.App=t,i}(Ln);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ue(n,e)},createSubscribe:vt,ErrorFactory:nt,deepExtend:Ue}),n}(),Un=new Dt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Un.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Un.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Bn=Gn;!function(e){wn("@firebase/app-compat","0.2.23",e)}();Bn.registerVersion("firebase","10.6.0","app-compat");function Wn(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const zn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},qn="EMAIL_SIGNIN",Hn="PASSWORD_RESET",Vn="RECOVER_EMAIL",Qn="REVERT_SECOND_FACTOR_ADDITION",Kn="VERIFY_AND_CHANGE_EMAIL",Yn="VERIFY_EMAIL";function Jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Zn=Jn,$n=new nt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ei=new Dt("@firebase/auth");function ti(e){if(ei.logLevel<=Ft.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ei.error("Auth (".concat(vn,"): ").concat(e),...n)}}function ni(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw ai(e,...n)}function ii(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ai(e,...n)}function ri(e,t,n){const i=Object.assign(Object.assign({},Zn()),{[t]:n});return new nt("auth","Firebase",i).create(t,{appName:e.name})}function si(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ni(e,"argument-error"),ri(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return $n.create(e,...n)}function oi(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw ai(t,...i)}}function li(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ti(t),new Error(t)}function ci(e,t){e||li(t)}function ui(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function di(){return"http:"===hi()||"https:"===hi()}function hi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class pi{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=Ke()||Xe()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(di()||Je()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fi(e,t){ci(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vi=new pi(3e4,6e4);function _i(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function yi(e,t,n,i){return bi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const a=pt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),gi.fetch()(wi(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},r))}))}async function bi(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},mi),t);try{const t=new Si(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw ki(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ki(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ki(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ki(e,"user-disabled",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ri(e,o,a);ni(e,o)}}catch(r){if(r instanceof tt)throw r;ni(e,"network-request-failed",{message:String(r)})}}async function Ai(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await yi(e,t,n,i,r);return"mfaPendingCredential"in s&&ni(e,"multi-factor-auth-required",{_serverResponse:s}),s}function wi(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?fi(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function Pi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Si{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ii(this.auth,"network-request-failed"))),vi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ki(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ii(e,t,i);return r.customData._tokenResponse=n,r}function Ci(e){return void 0!==e&&void 0!==e.getResponse}function Ei(e){return void 0!==e&&void 0!==e.enterprise}class xi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ii(e,t){return yi(e,"GET","/v2/recaptchaConfig",_i(e,t))}function Ti(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Fi(e){return 1e3*Number(e)}function Ri(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return ti("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ge(n);return e?JSON.parse(e):(ti("Failed to decode base64 JWT payload"),null)}catch(r){return ti("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}async function Mi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof tt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Ni{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Oi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ti(this.lastLoginAt),this.creationTime=Ti(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Di(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Mi(e,async function(e,t){return yi(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));oi(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Wn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Oi(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oi(e.idToken,"internal-error"),oi("undefined"!==typeof e.idToken,"internal-error"),oi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ri(e);return oi(t,"internal-error"),oi("undefined"!==typeof t.exp,"internal-error"),oi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oi(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await bi(e,{},(async()=>{const n=pt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=wi(e,i,"/v1/token","key=".concat(r)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gi.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Li;return n&&(oi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(oi("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(oi("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return li("not implemented")}}function ji(e,t){oi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gi{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Wn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Oi(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Mi(this,this.stsTokenManager.getToken(this.auth,e));return oi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=kt(e),i=await n.getIdToken(t),r=Ri(i);oi(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ti(Fi(r.auth_time)),issuedAtTime:Ti(Fi(r.iat)),expirationTime:Ti(Fi(r.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=kt(e);await Di(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(oi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Di(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mi(this,async function(e,t){return yi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:y,isAnonymous:b,providerData:A,stsTokenManager:w}=t;oi(_&&w,e,"internal-error");const P=Li.fromJSON(this.name,w);oi("string"===typeof _,e,"internal-error"),ji(u,e.name),ji(d,e.name),oi("boolean"===typeof y,e,"internal-error"),oi("boolean"===typeof b,e,"internal-error"),ji(h,e.name),ji(p,e.name),ji(f,e.name),ji(g,e.name),ji(m,e.name),ji(v,e.name);const S=new Gi({uid:_,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:P,createdAt:m,lastLoginAt:v});return A&&Array.isArray(A)&&(S.providerData=A.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Li;i.updateFromServerResponse(t);const r=new Gi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Di(r),r}}const Ui=new Map;function Bi(e){ci(e instanceof Function,"Expected a class definition");let t=Ui.get(e);return t?(ci(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ui.set(e,t),t)}class Wi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wi.type="NONE";const zi=Wi;function qi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Hi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=qi(this.userKey,i.apiKey,r),this.fullPersistenceKey=qi("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Hi(Bi(zi),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Bi(zi);const s=qi(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Gi._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new Hi(r,e,n)):new Hi(r,e,n)}}function Vi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ji(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zi(t))return"Blackberry";if($i(t))return"Webos";if(Ki(t))return"Safari";if((t.includes("chrome/")||Yi(t))&&!t.includes("edge/"))return"Chrome";if(Xi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/firefox\//i.test(e)}function Ki(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/crios\//i.test(e)}function Ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/iemobile/i.test(e)}function Xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/android/i.test(e)}function Zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/blackberry/i.test(e)}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/webos/i.test(e)}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return er(e)||Xi(e)||$i(e)||Zi(e)||/windows phone/i.test(e)||Ji(e)}function nr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Vi(Qe());break;case"Worker":t="".concat(Vi(Qe()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vn,"/").concat(i)}class ir{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class rr{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsLowercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class sr{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new or(this),this.idTokenSubscription=new or(this),this.beforeStateQueue=new ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$n,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Di(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?kt(e):null;return t&&oi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&oi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Bi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return yi(e,"GET","/v2/passwordPolicy",_i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new rr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return yi(e,"POST","/v2/accounts:revokeToken",_i(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;oi(t,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oi(a,this,"internal-error"),a.then((()=>{s||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ei.logLevel<=Ft.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ei.warn("Auth (".concat(vn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ar(e){return kt(e)}class or{constructor(e){this.auth=e,this.observer=null,this.addObserver=vt((e=>this.observer=e))}get next(){return oi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lr(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=ii("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function cr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ur{constructor(e){this.type="recaptcha-enterprise",this.auth=ar(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Ei(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ii(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new xi(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Ei(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));lr("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function dr(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new ur(e);let s;try{s=await r.verify(n)}catch(cl){s=await r.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hr(e,t,n,i){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await dr(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await dr(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}function pr(e,t,n){const i=ar(e);oi(i._canInitEmulator,i,"emulator-config-failed"),oi(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=fr(t),{host:a,port:o}=function(e){const t=fr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:gr(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:gr(t)}}}(t),l=null===o?"":":".concat(o);i.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class mr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function vr(e,t){return yi(e,"POST","/v1/accounts:resetPassword",_i(e,t))}async function _r(e,t){return yi(e,"POST","/v1/accounts:signUp",t)}async function yr(e,t){return Ai(e,"POST","/v1/accounts:signInWithPassword",_i(e,t))}async function br(e,t){return yi(e,"POST","/v1/accounts:sendOobCode",_i(e,t))}async function Ar(e,t){return br(e,t)}async function wr(e,t){return br(e,t)}class Pr extends mr{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Pr(e,t,"password")}static _fromEmailAndCode(e,t){return new Pr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return hr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yr);case"emailLink":return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithEmailLink",_i(e,t))}(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return hr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_r);case"emailLink":return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithEmailLink",_i(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sr(e,t){return Ai(e,"POST","/v1/accounts:signInWithIdp",_i(e,t))}class kr extends mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Wn(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new kr(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Sr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pt(t)}return e}}const Cr={USER_NOT_FOUND:"user-not-found"};class Er extends mr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Er({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Er({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",_i(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",_i(e,t));if(n.temporaryProof)throw ki(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithPhoneNumber",_i(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Cr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Er({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class xr{constructor(e){var t,n,i,r,s,a;const o=ft(gt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);oi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ft(gt(e)).link,n=t?ft(gt(t)).deep_link_id:null,i=ft(gt(e)).deep_link_id;return(i?ft(gt(i)).link:null)||i||n||t||e}(e);try{return new xr(t)}catch(n){return null}}}class Ir{constructor(){this.providerId=Ir.PROVIDER_ID}static credential(e,t){return Pr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xr.parseLink(t);return oi(n,"argument-error"),Pr._fromEmailAndCode(e,n.code,n.tenantId)}}Ir.PROVIDER_ID="password",Ir.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ir.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Tr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fr extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends Fr{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return oi("providerId"in t&&"signInMethod"in t,"argument-error"),kr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return oi(e.idToken||e.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rr.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rr.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:a,providerId:o}=t;if(!i&&!r&&!n&&!s)return null;if(!o)return null;try{return new Rr(o)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:s})}catch(l){return null}}}class Mr extends Fr{constructor(){super("facebook.com")}static credential(e){return kr._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch(n){return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mr.PROVIDER_ID="facebook.com";class Nr extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Nr.credential(n,i)}catch(r){return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com",Nr.PROVIDER_ID="google.com";class Or extends Fr{constructor(){super("github.com")}static credential(e){return kr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch(n){return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";class Dr extends mr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Sr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Dr(n,r):null}static _create(e,t){return new Dr(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lr extends Tr{constructor(e){oi(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Lr.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lr.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Dr.fromJSON(e);return oi(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Dr._create(i,n)}catch(r){return null}}}class jr extends Fr{constructor(){super("twitter.com")}static credential(e,t){return kr._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return jr.credential(n,i)}catch(r){return null}}}async function Gr(e,t){return Ai(e,"POST","/v1/accounts:signUp",_i(e,t))}jr.TWITTER_SIGN_IN_METHOD="twitter.com",jr.PROVIDER_ID="twitter.com";class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Gi._fromIdTokenResponse(e,n,i),s=Br(n);return new Ur({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Br(n);return new Ur({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Br(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Wr extends tt{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Wr.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Wr(e,t,n,i)}}function zr(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Wr._fromErrorAndOperation(e,n,t,i);throw n}))}function qr(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Hr(e,t){const n=kt(e);await Qr(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return yi(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=qr(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Mi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ur._forOperation(e,"link",i)}async function Qr(e,t,n){await Di(t);const i=!1===e?"provider-already-linked":"no-such-provider";oi(qr(t.providerData).has(n)===e,t.auth,i)}async function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const s=await Mi(e,zr(i,r,t,e),n);oi(s.idToken,i,"internal-error");const a=Ri(s.idToken);oi(a,i,"internal-error");const{sub:o}=a;return oi(e.uid===o,i,"user-mismatch"),Ur._forOperation(e,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ni(i,"user-mismatch"),s}}async function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await zr(e,i,t),s=await Ur._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Jr(e,t){return Yr(ar(e),t)}async function Xr(e,t){const n=kt(e);return await Qr(!1,n,t.providerId),Vr(n,t)}async function Zr(e,t){return Kr(kt(e),t)}async function $r(e,t){const n=ar(e),i=await async function(e,t){return Ai(e,"POST","/v1/accounts:signInWithCustomToken",_i(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Ur._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class es{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ts._fromServerResponse(e,t):"totpInfo"in t?ns._fromServerResponse(e,t):ni(e,"internal-error")}}class ts extends es{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ts(t)}}class ns extends es{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ns(t)}}function is(e,t,n){var i;oi((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),oi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rs(e){const t=ar(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ss(e,t){await async function(e,t){return yi(e,"POST","/v1/accounts:update",_i(e,t))}(kt(e),{oobCode:t})}async function as(e,t){const n=kt(e),i=await vr(n,{oobCode:t}),r=i.requestType;switch(oi(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oi(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oi(i.mfaInfo,n,"internal-error");default:oi(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=es._fromServerResponse(ar(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function os(e,t){const n={identifier:t,continueUri:di()?ui():"http://localhost"},{signinMethods:i}=await async function(e,t){return yi(e,"POST","/v1/accounts:createAuthUri",_i(e,t))}(kt(e),n);return i||[]}async function ls(e,t){const n=kt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&is(n.auth,i,t);const{email:r}=await async function(e,t){return br(e,t)}(n.auth,i);r!==e.email&&await e.reload()}async function cs(e,t,n){const i=kt(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&is(i.auth,r,n);const{email:s}=await async function(e,t){return br(e,t)}(i.auth,r);s!==e.email&&await e.reload()}async function us(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=kt(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},a=await Mi(r,async function(e,t){return yi(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}async function ds(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Mi(e,async function(e,t){return yi(e,"POST","/v1/accounts:update",t)}(i,r));await e._updateTokensIfNecessary(s,!0)}class hs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ps extends hs{constructor(e,t,n,i){super(e,t,n),this.username=i}}class fs extends hs{constructor(e,t){super(e,"facebook.com",t)}}class gs extends ps{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ms extends hs{constructor(e,t){super(e,"google.com",t)}}class vs extends ps{constructor(e,t,n){super(e,"twitter.com",t,n)}}function _s(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=Ri(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new hs(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new fs(s,r);case"github.com":return new gs(s,r);case"google.com":return new ms(s,r);case"twitter.com":return new vs(s,r,e.screenName||null);case"custom":case"anonymous":return new hs(s,null);default:return new hs(s,i,r)}}(n)}class ys{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ys("enroll",e,t)}static _fromMfaPendingCredential(e){return new ys("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ys._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ys._fromIdtoken(e.multiFactorSession.idToken)}return null}}class bs{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ar(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>es._fromServerResponse(n,e)));oi(i.mfaPendingCredential,n,"internal-error");const s=ys._fromMfaPendingCredential(i.mfaPendingCredential);return new bs(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const a=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Ur._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return oi(t.user,n,"internal-error"),Ur._forOperation(t.user,t.operationType,a);default:ni(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class As{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>es._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new As(e)}async getSession(){return ys._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,i=await this.getSession(),r=await Mi(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Mi(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},yi(i,"POST","/v2/accounts/mfaEnrollment:withdraw",_i(i,r))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var i,r}}const ws=new WeakMap;const Ps="__sak";class Ss{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ps,"1"),this.storage.removeItem(Ps),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ks extends Ss{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Qe();return Ki(e)||er(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=tr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Ze()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ks.type="LOCAL";const Cs=ks;class Es extends Ss{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Es.type="SESSION";const xs=Es;class Is{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Is(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Is.receivers=[];class Fs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((a,o)=>{const l=Ts("",20);i.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Rs(){return window}function Ms(){return"undefined"!==typeof Rs().WorkerGlobalScope&&"function"===typeof Rs().importScripts}const Ns="firebaseLocalStorageDb",Os="firebaseLocalStorage",Ds="fbase_key";class Ls{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function js(e,t){return e.transaction([Os],t?"readwrite":"readonly").objectStore(Os)}function Gs(){const e=indexedDB.open(Ns,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Os,{keyPath:Ds})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Os)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ns);return new Ls(e).toPromise()}(),t(await Gs()))}))}))}async function Us(e,t,n){const i=js(e,!0).put({[Ds]:t,value:n});return new Ls(i).toPromise()}function Bs(e,t){const n=js(e,!0).delete(t);return new Ls(n).toPromise()}class Ws{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Gs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ms()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Is._getInstance(Ms()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gs();return await Us(e,Ps,"1"),await Bs(e,Ps),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Us(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=js(e,!1).get(t),i=await new Ls(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Bs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=js(e,!1).getAll();return new Ls(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ws.type="LOCAL";const zs=Ws;const qs=1e12;class Hs{constructor(e){this.auth=e,this.counter=qs,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Vs(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||qs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||qs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||qs;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Vs{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;oi(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qs=cr("rcb"),Ks=new pi(3e4,6e4);class Ys{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Rs().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ci(Rs().grecaptcha)?Promise.resolve(Rs().grecaptcha):new Promise(((n,i)=>{const r=Rs().setTimeout((()=>{i(ii(e,"network-request-failed"))}),Ks.get());Rs()[Qs]=()=>{Rs().clearTimeout(r),delete Rs()[Qs];const s=Rs().grecaptcha;if(!s||!Ci(s))return void i(ii(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};lr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(pt({onload:Qs,render:"explicit",hl:t}))).catch((()=>{clearTimeout(r),i(ii(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Rs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Js{async load(e){return new Hs(e)}clearedOneInstance(){}}const Xs="recaptcha",Zs={theme:"light",type:"image"};class $s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Zs);this.parameters=n,this.type=Xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(e),this.isInvisible="invisible"===this.parameters.size,oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof t?document.getElementById(t):t;oi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Js:new Ys,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){oi(!this.parameters.sitekey,this.auth,"argument-error"),oi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Rs()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){oi(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){oi(di()&&!Ms(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await yi(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);oi(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return oi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ea{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Er._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ta(e,t,n){var i;const r=await n.verify();try{let s;if(oi("string"===typeof r,e,"argument-error"),oi(n.type===Xs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){oi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return yi(e,"POST","/v2/accounts/mfaEnrollment:start",_i(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{oi("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;oi(n,e,"missing-multi-factor-info");const a=await function(e,t){return yi(e,"POST","/v2/accounts/mfaSignIn:start",_i(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return yi(e,"POST","/v1/accounts:sendVerificationCode",_i(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class na{constructor(e){this.providerId=na.PROVIDER_ID,this.auth=ar(e)}verifyPhoneNumber(e,t){return ta(this.auth,e,kt(t))}static credential(e,t){return Er._fromVerification(e,t)}static credentialFromResult(e){const t=e;return na.credentialFromTaggedObject(t)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Er._fromTokenResponse(n,i):null}}function ia(e,t){return t?Bi(t):(oi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}na.PROVIDER_ID="phone",na.PHONE_SIGN_IN_METHOD="phone";class ra extends mr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sa(e){return Yr(e.auth,new ra(e),e.bypassAuthState)}function aa(e){const{auth:t,user:n}=e;return oi(n,t,"internal-error"),Kr(n,new ra(e),e.bypassAuthState)}async function oa(e){const{auth:t,user:n}=e;return oi(n,t,"internal-error"),Vr(n,new ra(e),e.bypassAuthState)}class la{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sa;case"linkViaPopup":case"linkViaRedirect":return oa;case"reauthViaPopup":case"reauthViaRedirect":return aa;default:ni(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ca=new pi(2e3,1e4);class ua extends la{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oi(e,this.auth,"internal-error"),e}async onExecution(){ci(1===this.filter.length,"Popup operations only handle one event");const e=Ts();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ii(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ca.get())};e()}}ua.currentPopupAction=null;const da="pendingRedirect",ha=new Map;class pa extends la{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ha.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=va(t),i=ma(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ha.set(this.auth._key(),e)}return this.bypassAuthState||ha.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function fa(e,t){return ma(e)._set(va(t),"true")}function ga(e,t){ha.set(e._key(),t)}function ma(e){return Bi(e._redirectPersistence)}function va(e){return qi(da,e.config.apiKey,e.name)}function _a(e,t,n){return async function(e,t,n){const i=ar(e);si(e,t,Tr),await i._initializationPromise;const r=ia(i,n);return await fa(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function ya(e,t,n){return async function(e,t,n){const i=kt(e);si(i.auth,t,Tr),await i.auth._initializationPromise;const r=ia(i.auth,n);await fa(r,i.auth);const s=await wa(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ba(e,t,n){return async function(e,t,n){const i=kt(e);si(i.auth,t,Tr),await i.auth._initializationPromise;const r=ia(i.auth,n);await Qr(!1,i,t.providerId),await fa(r,i.auth);const s=await wa(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=ar(e),r=ia(i,t),s=new pa(i,r,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function wa(e){const t=Ts("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Pa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ka(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ka(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(e))}saveEventToCache(e){this.cachedEventUids.add(Sa(e)),this.lastProcessedEventTime=Date.now()}}function Sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ka(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Ca(e){return yi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xa=/^https?/;function Ia(e){const t=ui(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!xa.test(n))return!1;if(Ea.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ta=new pi(3e4,6e4);function Fa(){const e=Rs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ra=null;function Ma(e){return Ra=Ra||function(e){return new Promise(((t,n)=>{var i,r,s;function a(){Fa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fa(),n(ii(e,"network-request-failed"))},timeout:Ta.get()})}if(null===(r=null===(i=Rs().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Rs().gapi)||void 0===s?void 0:s.load)){const t=cr("iframefcb");return Rs()[t]=()=>{gapi.load?a():n(ii(e,"network-request-failed"))},lr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Ra=null,e}))}(e),Ra}const Na=new pi(5e3,15e3),Oa="__/auth/iframe",Da="emulator/auth/iframe",La={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ja=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ga(e){const t=e.config;oi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fi(t,Da):"https://".concat(e.config.authDomain,"/").concat(Oa),i={apiKey:t.apiKey,appName:e.name,v:vn},r=ja.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(pt(i).slice(1))}const Ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ba{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Wa(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ua),{width:i.toString(),height:r.toString(),top:s,left:a}),c=Qe().toLowerCase();n&&(o=Yi(c)?"_blank":n),Qi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return er(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",o),new Ba(null);const d=window.open(t||"",o,u);oi(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Ba(d)}const za="__/auth/handler",qa="emulator/auth/handler",Ha=encodeURIComponent("fac");async function Va(e,t,n,i,r,s){oi(e.config.authDomain,e,"auth-domain-config-required"),oi(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:vn,eventId:r};if(t instanceof Tr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ct(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Fr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ha,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(za);return fi(t,qa)}(e),"?").concat(pt(o).slice(1)).concat(c)}const Qa="webStorageSupport";const Ka=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=Aa,this._overrideRedirectResult=ga}async _openPopup(e,t,n,i){var r;ci(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Wa(e,await Va(e,t,n,ui(),i),Ts())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Rs().location.href=e}(await Va(e,t,n,ui(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ci(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ma(e),n=Rs().gapi;return oi(n,e,"internal-error"),t.open({where:document.body,url:Ga(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:La,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=ii(e,"network-request-failed"),s=Rs().setTimeout((()=>{i(r)}),Na.get());function a(){Rs().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{i(r)}))}))))}(e),n=new Pa(e);return t.register("authEvent",(t=>{oi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qa,{type:Qa},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Qa];void 0!==r&&t(!!r),ni(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ca(e);for(const i of t)try{if(Ia(i))return}catch(n){}ni(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tr()||Ki()||er()}};class Ya{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return li("unexpected MultiFactorSessionType")}}}class Ja extends Ya{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ja(e)}_finalizeEnroll(e,t,n){return function(e,t){return yi(e,"POST","/v2/accounts/mfaEnrollment:finalize",_i(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return yi(e,"POST","/v2/accounts/mfaSignIn:finalize",_i(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Xa{constructor(){}static assertion(e){return Ja._fromCredential(e)}}Xa.FACTOR_ID="phone";var Za="@firebase/auth",$a="1.4.0";class eo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=We())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var to;function no(){return window}to="Browser",dn(new Ct("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;oi(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:to,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(to)},c=new sr(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),dn(new Ct("auth-internal",(e=>(e=>new eo(e))(ar(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wn(Za,$a,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(to)),wn(Za,$a,"esm2017");async function io(e,t,n){var i;const{BuildInfo:r}=no();ci(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(ci(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return er()?a.ibi=r.packageName:Xi()?a.apn=r.packageName:ni(e,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=s,Va(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,a)}function ro(e){const{cordova:t}=no();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)}))}))}const so=20;class ao extends Pa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function oo(e){const t=await uo()._get(ho(e));return t&&await uo()._remove(ho(e)),t}function lo(e,t){var n,i;const r=function(e){const t=po(e),n=t.link?decodeURIComponent(t.link):void 0,i=po(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return po(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=po(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(i=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],o=a?ii(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function co(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<so;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function uo(){return Bi(Cs)}function ho(e){return qi("authEvent",e.config.apiKey,e.name)}function po(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ft(n.join("?"))}const fo=class{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Aa,this._overrideRedirectResult=ga}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new ao(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ni(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,a,o,l,c,u;const d=no();oi("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oi("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oi("function"===typeof(null===(s=null===(r=null===(i=null===d||void 0===d?void 0:d.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oi("function"===typeof(null===(l=null===(o=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oi("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),ha.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:co(),postBody:null,tenantId:e.tenantId,error:ii(e,"no-auth-event")}}(e,n,i);await function(e,t){return uo()._set(ho(e),t)}(e,s);const a=await io(e,s,t);return async function(e,t,n){const{cordova:i}=no();let r=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(ii(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Xi()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{r()}}(e,r,await ro(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=no(),n={};er()?n.iosBundleId=t.packageName:Xi()?n.androidPackageName=t.packageName:ni(e,"operation-not-supported-in-this-environment"),await Ca(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=no(),s=setTimeout((async()=>{await oo(e),t.onEvent(go())}),500),a=async n=>{clearTimeout(s);const i=await oo(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=lo(i,n.url)),t.onEvent(r||go())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=i,l="".concat(r.packageName.toLowerCase(),"://");no().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function go(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ii("no-auth-event")}}function mo(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return!("file:"!==mo()&&"ionic:"!==mo()&&"capacitor:"!==mo()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return Ze()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();return/Edge\/\d+/.test(e)}(e)}function yo(){try{const e=self.localStorage,t=Ts();if(e)return e.setItem(t,"1"),e.removeItem(t),!_o()||et()}catch(e){return bo()&&et()}return!1}function bo(){return"undefined"!==typeof __webpack_require__.g&&"WorkerGlobalScope"in __webpack_require__.g&&"importScripts"in __webpack_require__.g}function Ao(){return("http:"===mo()||"https:"===mo()||Je()||vo())&&!(Xe()||Ye())&&yo()&&!bo()}function wo(){return vo()&&"undefined"!==typeof document}const Po={LOCAL:"local",NONE:"none",SESSION:"session"},So=oi,ko="persistence";async function Co(e){await e._initializationPromise;const t=Eo(),n=qi(ko,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Eo(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const xo=oi;class Io{constructor(){this.browserResolver=Bi(Ka),this.cordovaResolver=Bi(fo),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=Aa,this._overrideRedirectResult=ga}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return wo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xo(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!wo()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function To(e){return e.unwrap()}function Fo(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Oo(e,function(e,t){var n;const i=kt(e),r=t;return oi(t.customData.operationType,i,"argument-error"),oi(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),bs._fromError(i,r)}(e,t))}else if(i){const e=Ro(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function Ro(e){const{_tokenResponse:t}=e instanceof tt?e.customData:e;if(!t)return null;if(!(e instanceof tt)&&"temporaryProof"in t&&"phoneNumber"in t)return na.credentialFromResult(e);const n=t.providerId;if(!n||n===zn.PASSWORD)return null;let i;switch(n){case zn.GOOGLE:i=Nr;break;case zn.FACEBOOK:i=Mr;break;case zn.GITHUB:i=Or;break;case zn.TWITTER:i=jr;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return r||s||e||a?a?n.startsWith("saml.")?Dr._create(n,a):kr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:r}):new Rr(n).credential({idToken:e,accessToken:r,rawNonce:o}):null}return e instanceof tt?i.credentialFromError(e):i.credentialFromResult(e)}function Mo(e,t){return t.catch((t=>{throw t instanceof tt&&Fo(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,Ro(i)),additionalUserInfo:_s(e),user:Do.getOrCreate(n)};var i}))}async function No(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Mo(e,n.confirm(t))}}class Oo{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Mo(To(this.auth),this.resolver.resolveSignIn(e))}}class Do{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=kt(e);return ws.has(t)||ws.set(t,As._fromUser(t)),ws.get(t)}(e)}static getOrCreate(e){return Do.USER_MAP.has(e)||Do.USER_MAP.set(e,new Do(e)),Do.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Mo(this.auth,Xr(this._delegate,e))}async linkWithPhoneNumber(e,t){return No(this.auth,async function(e,t,n){const i=kt(e);await Qr(!1,i,"phone");const r=await ta(i.auth,t,kt(n));return new ea(r,(e=>Xr(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Mo(this.auth,async function(e,t,n){const i=kt(e);si(i.auth,t,Tr);const r=ia(i.auth,n);return new ua(i.auth,"linkViaPopup",t,r,i).executeNotNull()}(this._delegate,e,Io))}async linkWithRedirect(e){return await Co(ar(this.auth)),ba(this._delegate,e,Io)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Mo(this.auth,Zr(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return No(this.auth,async function(e,t,n){const i=kt(e),r=await ta(i.auth,t,kt(n));return new ea(r,(e=>Zr(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Mo(this.auth,async function(e,t,n){const i=kt(e);si(i.auth,t,Tr);const r=ia(i.auth,n);return new ua(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}(this._delegate,e,Io))}async reauthenticateWithRedirect(e){return await Co(ar(this.auth)),ya(this._delegate,e,Io)}sendEmailVerification(e){return ls(this._delegate,e)}async unlink(e){return await Hr(this._delegate,e),this}updateEmail(e){return function(e,t){return ds(kt(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ds(kt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vr(kt(e),t)}(this._delegate,e)}updateProfile(e){return us(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return cs(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Do.USER_MAP=new WeakMap;const Lo=oi;class jo{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Lo(n,"invalid-api-key",{appName:e.name}),Lo(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?Io:void 0;this._delegate=t.initialize({options:{persistence:Uo(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Xn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Do.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){pr(this._delegate,e,t)}applyActionCode(e){return ss(this._delegate,e)}checkActionCode(e){return as(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await vr(kt(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Mo(this._delegate,async function(e,t,n){const i=ar(e),r=hr(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gr),s=await r.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t})),a=await Ur._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return os(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=xr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Lo(Ao(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ar(e)._initializationPromise,Aa(e,t,!1)}(this._delegate,Io);return e?Mo(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ar(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=Go(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=Go(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const i=ar(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){oi(t.handleCodeInApp,i,"argument-error"),t&&is(i,e,t)}(r,n),await hr(i,r,"getOobCode",wr)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const i=ar(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&is(i,r,n),await hr(i,r,"getOobCode",Ar)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){So(Object.values(Po).includes(t),e,"invalid-persistence-type"),Xe()?So(t!==Po.SESSION,e,"unsupported-persistence-type"):Ye()?So(t===Po.NONE,e,"unsupported-persistence-type"):bo()?So(t===Po.NONE||t===Po.LOCAL&&et(),e,"unsupported-persistence-type"):So(t===Po.NONE||yo(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Po.SESSION:t=xs;break;case Po.LOCAL:t=await Bi(zs)._isAvailable()?zs:Cs;break;case Po.NONE:t=zi;break;default:return ni("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Mo(this._delegate,async function(e){var t;const n=ar(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ur({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Gr(n,{returnSecureToken:!0}),r=await Ur._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return Mo(this._delegate,Jr(this._delegate,e))}signInWithCustomToken(e){return Mo(this._delegate,$r(this._delegate,e))}signInWithEmailAndPassword(e,t){return Mo(this._delegate,function(e,t,n){return Jr(kt(e),Ir.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rs(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Mo(this._delegate,async function(e,t,n){const i=kt(e),r=Ir.credentialWithLink(t,n||ui());return oi(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Jr(i,r)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return No(this._delegate,async function(e,t,n){const i=ar(e),r=await ta(i,t,kt(n));return new ea(r,(e=>Jr(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Lo(Ao(),this._delegate,"operation-not-supported-in-this-environment"),Mo(this._delegate,async function(e,t,n){const i=ar(e);si(e,t,Tr);const r=ia(i,n);return new ua(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,Io))}async signInWithRedirect(e){return Lo(Ao(),this._delegate,"operation-not-supported-in-this-environment"),await Co(this._delegate),_a(this._delegate,e,Io)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await as(kt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Go(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&Do.getOrCreate(e)),error:t,complete:n}}function Uo(e,t){const n=function(e,t){const n=Eo();if(!n)return[];const i=qi(ko,e,t);switch(n.getItem(i)){case Po.NONE:return[zi];case Po.LOCAL:return[zs,xs];case Po.SESSION:return[xs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(zs)||n.push(zs),"undefined"!==typeof window)for(const i of[Cs,xs])n.includes(i)||n.push(i);return n.includes(zi)||n.push(zi),n}jo.Persistence=Po;class Bo{constructor(){this.providerId="phone",this._delegate=new na(To(Bn.auth()))}static credential(e,t){return na.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Bo.PHONE_SIGN_IN_METHOD=na.PHONE_SIGN_IN_METHOD,Bo.PROVIDER_ID=na.PROVIDER_ID;const Wo=oi;class zo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn.app();var i;Wo(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $s(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var qo;(qo=Bn).INTERNAL.registerComponent(new Ct("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new jo(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qn,PASSWORD_RESET:Hn,RECOVER_EMAIL:Vn,REVERT_SECOND_FACTOR_ADDITION:Qn,VERIFY_AND_CHANGE_EMAIL:Kn,VERIFY_EMAIL:Yn}},EmailAuthProvider:Ir,FacebookAuthProvider:Mr,GithubAuthProvider:Or,GoogleAuthProvider:Nr,OAuthProvider:Rr,SAMLAuthProvider:Lr,PhoneAuthProvider:Bo,PhoneMultiFactorGenerator:Xa,RecaptchaVerifier:zo,TwitterAuthProvider:jr,Auth:jo,AuthCredential:mr,Error:tt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qo.registerVersion("@firebase/auth-compat","0.4.9");const Ho="@firebase/database",Vo="1.0.1";let Qo="";function Ko(e){Qo=e}class Yo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Jo{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Xo=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Yo(t)}}catch(t){}return new Jo},Zo=Xo("localStorage"),$o=Xo("sessionStorage"),el=new Dt("@firebase/database"),tl=function(){let e=1;return function(){return e++}}(),nl=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,Re(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new mt;n.update(t);const i=n.digest();return Oe.encodeByteArray(i)},il=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=il.apply(null,n):e+="object"===typeof n?st(n):n,e+=" "}return e};let rl=null,sl=!0;const al=function(e,t){Re(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(el.logLevel=Ft.VERBOSE,rl=el.log.bind(el),t&&$o.set("logging_enabled",!0)):"function"===typeof e?rl=e:(rl=null,$o.remove("logging_enabled"))},ol=function(){if(!0===sl&&(sl=!1,null===rl&&!0===$o.get("logging_enabled")&&al(!0)),rl){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=il.apply(null,t);rl(i)}},ll=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ol(e,...n)}},cl=function(){const e="FIREBASE INTERNAL ERROR: "+il(...arguments);el.error(e)},ul=function(){const e="FIREBASE FATAL ERROR: ".concat(il(...arguments));throw el.error(e),new Error(e)},dl=function(){const e="FIREBASE WARNING: "+il(...arguments);el.warn(e)},hl=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},pl="[MIN_NAME]",fl="[MAX_NAME]",gl=function(e,t){if(e===t)return 0;if(e===pl||t===fl)return-1;if(t===pl||e===fl)return 1;{const n=Pl(e),i=Pl(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},ml=function(e,t){return e===t?0:e<t?-1:1},vl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+st(t))},_l=function(e){if("object"!==typeof e||null===e)return st(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=st(t[i]),n+=":",n+=_l(e[t[i]]);return n+="}",n},yl=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function bl(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Al=function(e){Re(!hl(e),"Invalid JSON number");const t=1023;let n,i,r,s,a;0===e?(i=0,r=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=s+t,r=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);o.push(n?1:0),o.reverse();const l=o.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const wl=new RegExp("^-?(0*)\\d{1,10}$"),Pl=function(e){if(wl.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Sl=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw dl("Exception was thrown by user callback.",e),t}),Math.floor(0))}},kl=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Cl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){dl('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class El{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(ol("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dl(e)}}class xl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xl.OWNER="owner";const Il="5",Tl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fl="ac",Rl="websocket",Ml="long_polling";class Nl{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Ol(e,t,n){let i;if(Re("string"===typeof t,"typeof type must == string"),Re("object"===typeof n,"typeof params must == object"),t===Rl)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ml)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return bl(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}class Dl{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ue(void 0,this.counters_)}}const Ll={},jl={};function Gl(e){const t=e.toString();return Ll[t]||(Ll[t]=new Dl),Ll[t]}class Ul{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Sl((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Bl="start";class Wl{constructor(e,t,n,i,r,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ll(e),this.stats_=Gl(t),this.urlFn=e=>(this.appCheckToken&&(e[Fl]=this.appCheckToken),Ol(t,Ml,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ul(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if($e()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new zl((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,s,a,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===Bl)n.id=s,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Bl]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Il,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Fl]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Tl.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wl.forceAllow_=!0}static forceDisallow(){Wl.forceDisallow_=!0}static isAvailable(){return!$e()&&(!!Wl.forceAllow_||!Wl.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=st(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Le(t),i=yl(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if($e())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=st(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zl{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,$e())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=zl.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){ol("frame writing exception"),r.stack&&ol(r.stack),ol(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ol("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(i),n()}))}addTag(e,t){$e()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{ol("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let ql=null;"undefined"!==typeof MozWebSocket?ql=MozWebSocket:"undefined"!==typeof WebSocket&&(ql=WebSocket);class Hl{constructor(e,t,n,i,r,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ll(this.connId),this.stats_=Gl(t),this.connURL=Hl.connectionURL_(t,s,a,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={};return s.v=Il,!$e()&&"undefined"!==typeof location&&location.hostname&&Tl.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s[Fl]=i),r&&(s.p=r),Ol(e,Rl,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zo.set("previous_websocket_failure",!0);try{let e;if($e()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Il,"/").concat(Qo,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/port4lio-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new ql(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Hl.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ql&&!Hl.forceDisallow_}static previouslyFailed(){return Zo.isInMemoryStorage||!0===Zo.get("previous_websocket_failure")}markConnectionHealthy(){Zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=rt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Re(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=st(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=yl(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hl.responsesRequiredToBeHealthy=2,Hl.healthyTimeout=3e4;class Vl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wl,Hl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Hl&&Hl.isAvailable();let n=t&&!Hl.previouslyFailed();if(e.webSocketOnly&&(t||dl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Hl];else{const e=this.transports_=[];for(const t of Vl.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;class Ql{constructor(e,t,n,i,r,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ll("c:"+this.id+":"),this.transportManager_=new Vl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=kl((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vl("t",e),n=vl("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vl("t",e),n=vl("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vl("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?cl("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cl("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Il!==n&&dl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),kl((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kl((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Kl{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Yl{constructor(e){this.allowedEvents_=e,this.listeners_={},Re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){Re(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Jl extends Yl{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ke()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Jl}getInitialEvent(e){return Re("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Xl=32,Zl=768;class $l{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ec(){return new $l("")}function tc(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function nc(e){return e.pieces_.length-e.pieceNum_}function ic(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new $l(e.pieces_,t)}function rc(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ac(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new $l(t,0)}function oc(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof $l)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new $l(n,0)}function lc(e){return e.pieceNum_>=e.pieces_.length}function cc(e,t){const n=tc(e),i=tc(t);if(null===n)return t;if(n===i)return cc(ic(e),ic(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function uc(e,t){const n=sc(e,0),i=sc(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=gl(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function dc(e,t){if(nc(e)!==nc(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function hc(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(nc(e)>nc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class pc{constructor(e,t){this.errorPrefix_=t,this.parts_=sc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=St(this.parts_[n]);fc(this)}}function fc(e){if(e.byteLength_>Zl)throw new Error(e.errorPrefix_+"has a key path longer than "+Zl+" bytes ("+e.byteLength_+").");if(e.parts_.length>Xl)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xl+") or object contains a cycle "+gc(e))}function gc(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class mc extends Yl{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new mc}getInitialEvent(e){return Re("visible"===e,"Unknown event type: "+e),[this.visible_]}}const vc=1e3;class _c extends Kl{constructor(e,t,n,i,r,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=_c.nextPersistentConnectionId_++,this.log_=ll("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!$e())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Jl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(st(r)),Re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new He,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),Re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Re(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,(r=>{const s=r.d,a=r.s;_c.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==a&&this.removeListen_(n,i),e.onComplete&&e.onComplete(a,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ot(e,"w")){const n=lt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();dl("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=at(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=at(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):cl("Unrecognized action received from server: "+st(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vc),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_c.nextConnectionId_++,r=this.lastSessionId;let s=!1,a=null;const o=function(){a?a.close():(s=!0,n())},l=function(e){Re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:o,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?ol("getToken() completed but was canceled"):(ol("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new Ql(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{dl(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),r))}catch(cl){this.log_("Failed to get token: "+cl),s||(this.repoInfo_.nodeAdmin&&dl(cl),o())}}}interrupt(e){ol("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ol("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ct(this.interruptReasons_)&&(this.reconnectDelay_=vc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>_l(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new $l(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){ol("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ol("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";$e()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Qo.replace(/\./g,"-")]=1,Ke()?e["framework.cordova"]=1:Xe()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jl.getInstance().currentlyOnline();return ct(this.interruptReasons_)&&e}}_c.nextPersistentConnectionId_=0,_c.nextConnectionId_=0;class yc{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new yc(e,t)}}class bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new yc(pl,e),i=new yc(pl,t);return 0!==this.compare(n,i)}minPost(){return yc.MIN}}let Ac;class wc extends bc{static get __EMPTY_NODE(){return Ac}static set __EMPTY_NODE(e){Ac=e}compare(e,t){return gl(e.name,t.name)}isDefinedOn(e){throw Me("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return yc.MIN}maxPost(){return new yc(fl,Ac)}makePost(e,t){return Re("string"===typeof e,"KeyIndex indexValue must always be a string."),new yc(e,Ac)}toString(){return".key"}}const Pc=new wc;class Sc{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kc{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:kc.RED,this.left=null!=i?i:Cc.EMPTY_NODE,this.right=null!=r?r:Cc.EMPTY_NODE}copy(e,t,n,i,r){return new kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Cc.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kc.RED=!0,kc.BLACK=!1;class Cc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Cc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,kc.BLACK,null,null))}remove(e){return new Cc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kc.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Sc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Sc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Sc(this.root_,null,this.comparator_,!0,e)}}function Ec(e,t){return gl(e.name,t.name)}function xc(e,t){return gl(e,t)}let Ic;Cc.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new kc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Tc=function(e){return"number"===typeof e?"number:"+Al(e):"string:"+e},Fc=function(e){if(e.isLeafNode()){const t=e.val();Re("string"===typeof t||"number"===typeof t||"object"===typeof t&&ot(t,".sv"),"Priority must be a string or number.")}else Re(e===Ic||e.isEmpty(),"priority of unexpected type.");Re(e===Ic||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Rc,Mc,Nc;class Oc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Re(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Fc(this.priorityNode_)}static set __childrenNodeConstructor(e){Rc=e}static get __childrenNodeConstructor(){return Rc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Oc(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Oc.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return lc(e)?this:".priority"===tc(e)?this.priorityNode_:Oc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Oc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=tc(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Re(".priority"!==n||1===nc(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Oc.__childrenNodeConstructor.EMPTY_NODE.updateChild(ic(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Al(this.value_):this.value_,this.lazyHash_=nl(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Oc.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Oc.__childrenNodeConstructor?-1:(Re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=Oc.VALUE_TYPE_ORDER.indexOf(t),r=Oc.VALUE_TYPE_ORDER.indexOf(n);return Re(i>=0,"Unknown leaf type: "+t),Re(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Oc.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Dc=new class extends bc{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?gl(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return yc.MIN}maxPost(){return new yc(fl,new Oc("[PRIORITY-POST]",Nc))}makePost(e,t){const n=Mc(e);return new yc(t,new Oc("[PRIORITY-POST]",n))}toString(){return".priority"}},Lc=Math.log(2);class jc{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Lc,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gc=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new kc(o,a.node,kc.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return a=e[l],o=n?n(a):a,new kc(o,a.node,kc.BLACK,c,u)}},s=function(t){let i=null,s=null,a=e.length;const o=function(t,i){const s=a-t,o=a;a-=t;const c=r(s+1,o),u=e[s],d=n?n(u):u;l(new kc(d,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?o(i,kc.BLACK):(o(i,kc.BLACK),o(i,kc.RED))}return s}(new jc(e.length));return new Cc(i||t,s)};let Uc;const Bc={};class Wc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Re(Bc&&Dc,"ChildrenNode.ts has not been loaded"),Uc=Uc||new Wc({".priority":Bc},{".priority":Dc}),Uc}get(e){const t=lt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cc?t:null}hasIndex(e){return ot(this.indexSet_,e.toString())}addIndex(e,t){Re(e!==Pc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(yc.Wrap);let s,a=r.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=r.getNext();s=i?Gc(n,e.getCompare()):Bc;const o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;const c=Object.assign({},this.indexes_);return c[o]=s,new Wc(c,l)}addToIndexes(e,t){const n=ut(this.indexes_,((n,i)=>{const r=lt(this.indexSet_,i);if(Re(r,"Missing index implementation for "+i),n===Bc){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(yc.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),Gc(n,r.getCompare())}return Bc}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new yc(e.name,i))),r.insert(e,e.node)}}));return new Wc(n,this.indexSet_)}removeFromIndexes(e,t){const n=ut(this.indexes_,(n=>{if(n===Bc)return n;{const i=t.get(e.name);return i?n.remove(new yc(e.name,i)):n}}));return new Wc(n,this.indexSet_)}}let zc;class qc{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Fc(this.priorityNode_),this.children_.isEmpty()&&Re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zc||(zc=new qc(new Cc(xc),null,Wc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zc}updatePriority(e){return this.children_.isEmpty()?this:new qc(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?zc:t}}getChild(e){const t=tc(e);return null===t?this:this.getImmediateChild(t).getChild(ic(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Re(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new yc(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?zc:this.priorityNode_;return new qc(i,s,r)}}updateChild(e,t){const n=tc(e);if(null===n)return t;{Re(".priority"!==tc(e)||1===nc(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(ic(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(Dc,((s,a)=>{t[s]=a.val(e),n++,r&&qc.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tc(this.getPriority().val())+":"),this.forEachChild(Dc,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":nl(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new yc(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new yc(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new yc(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,yc.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,yc.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hc?-1:0}withIndex(e){if(e===Pc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new qc(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Pc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Dc),n=t.getIterator(Dc);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===Pc?null:this.indexMap_.get(e.toString())}}qc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Hc=new class extends qc{constructor(){super(new Cc(xc),qc.EMPTY_NODE,Wc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qc.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yc,{MIN:{value:new yc(pl,qc.EMPTY_NODE)},MAX:{value:new yc(fl,Hc)}}),wc.__EMPTY_NODE=qc.EMPTY_NODE,Oc.__childrenNodeConstructor=qc,Ic=Hc,function(e){Nc=e}(Hc);const Vc=!0;function Qc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return qc.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Re(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Oc(e,Qc(t))}if(e instanceof Array||!Vc){let n=qc.EMPTY_NODE;return bl(e,((t,i)=>{if(ot(e,t)&&"."!==t.substring(0,1)){const e=Qc(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Qc(t))}{const n=[];let i=!1;if(bl(e,((e,t)=>{if("."!==e.substring(0,1)){const r=Qc(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new yc(e,r)))}})),0===n.length)return qc.EMPTY_NODE;const r=Gc(n,Ec,(e=>e.name),xc);if(i){const e=Gc(n,Dc.getCompare());return new qc(r,Qc(t),new Wc({".priority":e},{".priority":Dc}))}return new qc(r,Qc(t),Wc.Default)}}!function(e){Mc=e}(Qc);class Kc extends bc{constructor(e){super(),this.indexPath_=e,Re(!lc(e)&&".priority"!==tc(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?gl(e.name,t.name):r}makePost(e,t){const n=Qc(e),i=qc.EMPTY_NODE.updateChild(this.indexPath_,n);return new yc(t,i)}maxPost(){const e=qc.EMPTY_NODE.updateChild(this.indexPath_,Hc);return new yc(fl,e)}toString(){return sc(this.indexPath_,0).join("/")}}const Yc=new class extends bc{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?gl(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return yc.MIN}maxPost(){return yc.MAX}makePost(e,t){const n=Qc(e);return new yc(t,n)}toString(){return".value"}};function Jc(e){return{type:"value",snapshotNode:e}}function Xc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Zc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $c(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class eu{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){Re(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Zc(t,a)):Re(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Xc(t,n)):s.trackChildChange($c(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Dc,((e,i)=>{t.hasChild(e)||n.trackChildChange(Zc(e,i))})),t.isLeafNode()||t.forEachChild(Dc,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange($c(t,i,r))}else n.trackChildChange(Xc(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?qc.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tu{constructor(e){this.indexedFilter_=new eu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tu.getStartPost_(e),this.endPost_=tu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new yc(t,n))||(n=qc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=qc.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(qc.EMPTY_NODE);const r=this;return t.forEachChild(Dc,((e,t)=>{r.matches(new yc(e,t))||(i=i.updateImmediateChild(e,qc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nu{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new tu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new yc(t,n))||(n=qc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=qc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=qc.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(qc.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,qc.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;Re(a.numChildren()===this.limit_,"");const o=new yc(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:s(u,o);if(c&&!n.isEmpty()&&d>=0)return null!=r&&r.trackChildChange($c(t,n,e)),a.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(Zc(t,e));const n=a.updateImmediateChild(t,qc.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(Xc(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,o)>=0?(null!=r&&(r.trackChildChange(Zc(l.name,l.node)),r.trackChildChange(Xc(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,qc.EMPTY_NODE)):e}}class iu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dc}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pl}hasEnd(){return this.endSet_}getIndexEndValue(){return Re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dc}copy(){const e=new iu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ru(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function su(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function au(e,t){const n=e.copy();return n.index_=t,n}function ou(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Dc?n="$priority":e.index_===Yc?n="$value":e.index_===Pc?n="$key":(Re(e.index_ instanceof Kc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=st(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=st(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+st(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=st(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+st(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function lu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Dc&&(t.i=e.index_.toString()),t}class cu extends Kl{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=ll("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=cu.getListenId_(e,n),a={};this.listens_[s]=a;const o=ou(e._queryParams);this.restRequest_(r+".json",o,((e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(r,o,!1,n),lt(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=cu.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ou(e._queryParams),n=e._path.toString(),i=new He;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((i=>{let[r,s]=i;r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pt(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=rt(o.responseText)}catch(e){dl("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&dl("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()}))}}class uu{constructor(){this.rootNode_=qc.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function du(){return{value:null,children:new Map}}function hu(e,t,n){if(lc(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=tc(t);e.children.has(i)||e.children.set(i,du());hu(e.children.get(i),t=ic(t),n)}}function pu(e,t){if(lc(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Dc,((t,n)=>{hu(e,new $l(t),n)})),pu(e,t)}}if(e.children.size>0){const n=tc(t);if(t=ic(t),e.children.has(n)){pu(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function fu(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,i)=>{fu(i,new $l(t.toString()+"/"+e),n)}))}class gu{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&bl(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class mu{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gu(e);const n=1e4+2e4*Math.random();kl(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;bl(e,((e,i)=>{i>0&&ot(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),kl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vu;function _u(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vu||(vu={}));class yu{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=vu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(lc(this.path)){if(null!=this.affectedTree.value)return Re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $l(e));return new yu(ec(),t,this.revert)}}return Re(tc(this.path)===e,"operationForChild called for unrelated child."),new yu(ic(this.path),this.affectedTree,this.revert)}}class bu{constructor(e,t){this.source=e,this.path=t,this.type=vu.LISTEN_COMPLETE}operationForChild(e){return lc(this.path)?new bu(this.source,ec()):new bu(this.source,ic(this.path))}}class Au{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=vu.OVERWRITE}operationForChild(e){return lc(this.path)?new Au(this.source,ec(),this.snap.getImmediateChild(e)):new Au(this.source,ic(this.path),this.snap)}}class wu{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=vu.MERGE}operationForChild(e){if(lc(this.path)){const t=this.children.subtree(new $l(e));return t.isEmpty()?null:t.value?new Au(this.source,ec(),t.value):new wu(this.source,ec(),t)}return Re(tc(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wu(this.source,ic(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pu{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(lc(e))return this.isFullyInitialized()&&!this.filtered_;const t=tc(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Su{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ku(e,t,n,i,r,s){const a=i.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Me("Should only compare child_ events.");const i=new yc(t.childName,t.snapshotNode),r=new yc(n.childName,n.snapshotNode);return e.index_.compare(i,r)}(e,t,n))),a.forEach((n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function Cu(e,t){return{eventCache:e,serverCache:t}}function Eu(e,t,n,i){return Cu(new Pu(t,n,i),e.serverCache)}function xu(e,t,n,i){return Cu(e.eventCache,new Pu(t,n,i))}function Iu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Tu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Fu;class Ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Fu||(Fu=new Cc(ml)),Fu);this.value=e,this.children=t}static fromObject(e){let t=new Ru(null);return bl(e,((e,n)=>{t=t.set(new $l(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ec(),value:this.value};if(lc(e))return null;{const n=tc(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(ic(e),t);if(null!=r){return{path:oc(new $l(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(lc(e))return this;{const t=tc(e),n=this.children.get(t);return null!==n?n.subtree(ic(e)):new Ru(null)}}set(e,t){if(lc(e))return new Ru(t,this.children);{const n=tc(e),i=(this.children.get(n)||new Ru(null)).set(ic(e),t),r=this.children.insert(n,i);return new Ru(this.value,r)}}remove(e){if(lc(e))return this.children.isEmpty()?new Ru(null):new Ru(null,this.children);{const t=tc(e),n=this.children.get(t);if(n){const i=n.remove(ic(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Ru(null):new Ru(this.value,r)}return this}}get(e){if(lc(e))return this.value;{const t=tc(e),n=this.children.get(t);return n?n.get(ic(e)):null}}setTree(e,t){if(lc(e))return t;{const n=tc(e),i=(this.children.get(n)||new Ru(null)).setTree(ic(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Ru(this.value,r)}}fold(e){return this.fold_(ec(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(oc(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ec(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(lc(e))return null;{const i=tc(e),r=this.children.get(i);return r?r.findOnPath_(ic(e),oc(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ec(),t)}foreachOnPath_(e,t,n){if(lc(e))return this;{this.value&&n(t,this.value);const i=tc(e),r=this.children.get(i);return r?r.foreachOnPath_(ic(e),oc(t,i),n):new Ru(null)}}foreach(e){this.foreach_(ec(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(oc(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Mu{constructor(e){this.writeTree_=e}static empty(){return new Mu(new Ru(null))}}function Nu(e,t,n){if(lc(t))return new Mu(new Ru(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=cc(r,t);return s=s.updateChild(a,n),new Mu(e.writeTree_.set(r,s))}{const i=new Ru(n),r=e.writeTree_.setTree(t,i);return new Mu(r)}}}function Ou(e,t,n){let i=e;return bl(n,((e,n)=>{i=Nu(i,oc(t,e),n)})),i}function Du(e,t){if(lc(t))return Mu.empty();{const n=e.writeTree_.setTree(t,new Ru(null));return new Mu(n)}}function Lu(e,t){return null!=ju(e,t)}function ju(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cc(n.path,t)):null}function Gu(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Dc,((e,n)=>{t.push(new yc(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new yc(e,n.value))})),t}function Uu(e,t){if(lc(t))return e;{const n=ju(e,t);return new Mu(null!=n?new Ru(n):e.writeTree_.subtree(t))}}function Bu(e){return e.writeTree_.isEmpty()}function Wu(e,t){return zu(ec(),e.writeTree_,t)}function zu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?(Re(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=zu(oc(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(oc(e,".priority"),i)),n}}function qu(e,t){return id(t,e)}function Hu(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Re(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,a=e.allWrites.length-1;for(;r&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Vu(t,i.path)?r=!1:hc(i.path,t.path)&&(s=!0)),a--}if(r){if(s)return function(e){e.visibleWrites=Ku(e.allWrites,Qu,ec()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=Du(e.visibleWrites,i.path);else{bl(i.children,(t=>{e.visibleWrites=Du(e.visibleWrites,oc(i.path,t))}))}return!0}return!1}function Vu(e,t){if(e.snap)return hc(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&hc(oc(e.path,n),t))return!0;return!1}function Qu(e){return e.visible}function Ku(e,t,n){let i=Mu.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)hc(n,e)?(t=cc(n,e),i=Nu(i,t,s.snap)):hc(e,n)&&(t=cc(e,n),i=Nu(i,ec(),s.snap.getChild(t)));else{if(!s.children)throw Me("WriteRecord should have .snap or .children");if(hc(n,e))t=cc(n,e),i=Ou(i,t,s.children);else if(hc(e,n))if(t=cc(e,n),lc(t))i=Ou(i,ec(),s.children);else{const e=lt(s.children,tc(t));if(e){const n=e.getChild(ic(t));i=Nu(i,ec(),n)}}}}}return i}function Yu(e,t,n,i,r){if(i||r){const s=Uu(e.visibleWrites,t);if(!r&&Bu(s))return n;if(r||null!=n||Lu(s,ec())){const s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(hc(e.path,t)||hc(t,e.path))};return Wu(Ku(e.allWrites,s,t),n||qc.EMPTY_NODE)}return null}{const i=ju(e.visibleWrites,t);if(null!=i)return i;{const i=Uu(e.visibleWrites,t);if(Bu(i))return n;if(null!=n||Lu(i,ec())){return Wu(i,n||qc.EMPTY_NODE)}return null}}}function Ju(e,t,n,i){return Yu(e.writeTree,e.treePath,t,n,i)}function Xu(e,t){return function(e,t,n){let i=qc.EMPTY_NODE;const r=ju(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Dc,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=Uu(e.visibleWrites,t);return n.forEachChild(Dc,((e,t)=>{const n=Wu(Uu(r,new $l(e)),t);i=i.updateImmediateChild(e,n)})),Gu(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}return Gu(Uu(e.visibleWrites,t)).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}(e.writeTree,e.treePath,t)}function Zu(e,t,n,i){return function(e,t,n,i,r){Re(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=oc(t,n);if(Lu(e.visibleWrites,s))return null;{const t=Uu(e.visibleWrites,s);return Bu(t)?r.getChild(n):Wu(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function $u(e,t){return function(e,t){return ju(e.visibleWrites,t)}(e.writeTree,oc(e.treePath,t))}function ed(e,t,n,i,r,s){return function(e,t,n,i,r,s,a){let o;const l=Uu(e.visibleWrites,t),c=ju(l,ec());if(null!=c)o=c;else{if(null==n)return[];o=Wu(l,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,s)}function td(e,t,n){return function(e,t,n,i){const r=oc(t,n),s=ju(e.visibleWrites,r);if(null!=s)return s;if(i.isCompleteForChild(n))return Wu(Uu(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function nd(e,t){return id(oc(e.treePath,t),e.writeTree)}function id(e,t){return{treePath:e,writeTree:t}}class rd{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Re("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Re(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,$c(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Zc(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Xc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw Me("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,$c(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const sd=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ad{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Pu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return td(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tu(this.viewCache_),r=ed(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}function od(e,t,n,i,r){const s=new rd;let a,o;if(n.type===vu.OVERWRITE){const l=n;l.source.fromUser?a=ud(e,t,l.path,l.snap,i,r,s):(Re(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!lc(l.path),a=cd(e,t,l.path,l.snap,i,r,o,s))}else if(n.type===vu.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,i,r,s,a){let o=t;return i.foreach(((i,l)=>{const c=oc(n,i);dd(t,tc(c))&&(o=ud(e,o,c,l,r,s,a))})),i.foreach(((i,l)=>{const c=oc(n,i);dd(t,tc(c))||(o=ud(e,o,c,l,r,s,a))})),o}(e,t,l.path,l.children,i,r,s):(Re(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=pd(e,t,l.path,l.children,i,r,o,s))}else if(n.type===vu.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,i,r,s){let a;if(null!=$u(i,n))return t;{const o=new ad(i,t,r),l=t.eventCache.getNode();let c;if(lc(n)||".priority"===tc(n)){let n;if(t.serverCache.isFullyInitialized())n=Ju(i,Tu(t));else{const e=t.serverCache.getNode();Re(e instanceof qc,"serverChildren would be complete if leaf node"),n=Xu(i,e)}c=e.filter.updateFullNode(l,n,s)}else{const r=tc(n);let u=td(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,ic(n),o,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,qc.EMPTY_NODE,ic(n),o,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ju(i,Tu(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=$u(i,ec()),Eu(t,c,a,e.filter.filtersNodes())}}(e,t,o.path,i,r,s):function(e,t,n,i,r,s,a){if(null!=$u(r,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(lc(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cd(e,t,n,l.getNode().getChild(n),r,s,o,a);if(lc(n)){let i=new Ru(null);return l.getNode().forEachChild(Pc,((e,t)=>{i=i.set(new $l(e),t)})),pd(e,t,n,i,r,s,o,a)}return t}{let c=new Ru(null);return i.foreach(((e,t)=>{const i=oc(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),pd(e,t,n,c,r,s,o,a)}}(e,t,o.path,o.affectedTree,i,r,s)}else{if(n.type!==vu.LISTEN_COMPLETE)throw Me("Unknown operation type: "+n.type);a=function(e,t,n,i,r){const s=t.serverCache,a=xu(t,s.getNode(),s.isFullyInitialized()||lc(n),s.isFiltered());return ld(e,a,n,i,sd,r)}(e,t,n.path,i,s)}const l=s.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Iu(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Jc(Iu(t)))}}(t,a,l),{viewCache:a,changes:l}}function ld(e,t,n,i,r,s){const a=t.eventCache;if(null!=$u(i,n))return t;{let o,l;if(lc(n))if(Re(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Tu(t),r=Xu(i,n instanceof qc?n:qc.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const n=Ju(i,Tu(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=tc(n);if(".priority"===c){Re(1===nc(n),"Can't have a priority with additional path components");const r=a.getNode();l=t.serverCache.getNode();const s=Zu(i,n,r,l);o=null!=s?e.filter.updatePriority(r,s):a.getNode()}else{const u=ic(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Zu(i,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=td(i,c,t.serverCache);o=null!=d?e.filter.updateChild(a.getNode(),c,d,u,r,s):a.getNode()}}return Eu(t,o,a.isFullyInitialized()||lc(n),e.filter.filtersNodes())}}function cd(e,t,n,i,r,s,a,o){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(lc(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=tc(n);if(!l.isCompleteForPath(n)&&nc(n)>1)return t;const r=ic(n),s=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,r,sd,null)}const d=xu(t,c,l.isFullyInitialized()||lc(n),u.filtersNodes());return ld(e,d,n,r,new ad(r,d,s),o)}function ud(e,t,n,i,r,s,a){const o=t.eventCache;let l,c;const u=new ad(r,t,s);if(lc(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),l=Eu(t,c,!0,e.filter.filtersNodes());else{const r=tc(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Eu(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=ic(n),c=o.getNode().getImmediateChild(r);let d;if(lc(s))d=i;else{const e=u.getCompleteChild(r);d=null!=e?".priority"===rc(s)&&e.getChild(ac(s)).isEmpty()?e:e.updateChild(s,i):qc.EMPTY_NODE}if(c.equals(d))l=t;else{l=Eu(t,e.filter.updateChild(o.getNode(),r,d,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function dd(e,t){return e.eventCache.isCompleteForChild(t)}function hd(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function pd(e,t,n,i,r,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=lc(n)?i:new Ru(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=hd(0,t.serverCache.getNode().getImmediateChild(n),i);c=cd(e,c,new $l(n),l,r,s,a,o)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=hd(0,t.serverCache.getNode().getImmediateChild(n),i);c=cd(e,c,new $l(n),l,r,s,a,o)}})),c}class fd{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new eu(n.getIndex()),r=(s=n).loadsAllData()?new eu(s.getIndex()):s.hasLimit()?new nu(s):new tu(s);var s;this.processor_=function(e){return{filter:e}}(r);const a=t.serverCache,o=t.eventCache,l=i.updateFullNode(qc.EMPTY_NODE,a.getNode(),null),c=r.updateFullNode(qc.EMPTY_NODE,o.getNode(),null),u=new Pu(l,a.isFullyInitialized(),i.filtersNodes()),d=new Pu(c,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=Cu(d,u),this.eventGenerator_=new Su(this.query_)}get query(){return this.query_}}function gd(e,t){const n=Tu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!lc(t)&&!n.getImmediateChild(tc(t)).isEmpty())?n.getChild(t):null}function md(e){return 0===e.eventRegistrations_.length}function vd(e,t,n){const i=[];if(n){Re(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function _d(e,t,n,i){t.type===vu.MERGE&&null!==t.source.queryId&&(Re(Tu(e.viewCache_),"We should always have a full cache before handling merges"),Re(Iu(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=od(e.processor_,r,t,n,i);var a,o;return a=e.processor_,o=s.viewCache,Re(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Re(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Re(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,yd(e,s.changes,s.viewCache.eventCache.getNode(),null)}function yd(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ku(e,r,"child_removed",t,i,n),ku(e,r,"child_added",t,i,n),ku(e,r,"child_moved",s,i,n),ku(e,r,"child_changed",t,i,n),ku(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}let bd,Ad;class wd{constructor(){this.views=new Map}}function Pd(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return Re(null!=s,"SyncTree gave us an op for an invalid query."),_d(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(_d(s,t,n,i));return r}}function Sd(e,t,n,i,r){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=Ju(n,r?i:null),s=!1;e?s=!0:i instanceof qc?(e=Xu(n,i),s=!1):(e=qc.EMPTY_NODE,s=!1);const a=Cu(new Pu(e,s,!1),new Pu(i,r,!1));return new fd(t,a)}return a}function kd(e,t,n,i,r,s){const a=Sd(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Dc,((e,t)=>{i.push(Xc(e,t))}));return n.isFullyInitialized()&&i.push(Jc(n.getNode())),yd(e,i,n.getNode(),t)}(a,n)}function Cd(e,t,n,i){const r=t._queryIdentifier,s=[];let a=[];const o=Fd(e);if("default"===r)for(const[l,c]of e.views.entries())a=a.concat(vd(c,n,i)),md(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(r);t&&(a=a.concat(vd(t,n,i)),md(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!Fd(e)&&s.push(new(Re(bd,"Reference.ts has not been loaded"),bd)(t._repo,t._path)),{removed:s,events:a}}function Ed(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function xd(e,t){let n=null;for(const i of e.views.values())n=n||gd(i,t);return n}function Id(e,t){if(t._queryParams.loadsAllData())return Rd(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Td(e,t){return null!=Id(e,t)}function Fd(e){return null!=Rd(e)}function Rd(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Md=1;class Nd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ru(null),this.pendingWriteTree_={visibleWrites:Mu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Od(e,t,n,i,r){return function(e,t,n,i,r){Re(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Nu(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?qd(e,new Au({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Dd(e,t,n,i){!function(e,t,n,i){Re(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Ou(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=Ru.fromObject(n);return qd(e,new wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function Ld(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(Hu(e.pendingWriteTree_,t)){let t=new Ru(null);return null!=i.snap?t=t.set(ec(),!0):bl(i.children,(e=>{t=t.set(new $l(e),!0)})),qd(e,new yu(i.path,t,n))}return[]}function jd(e,t,n){return qd(e,new Au({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gd(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||Td(a,t))){const l=Cd(a,t,n,i);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!r){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),r=e.syncPointTree_.findOnPath(s,((e,t)=>Fd(t)));if(n&&!r){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Fd(t)){return[Rd(t)]}{let e=[];return t&&(e=Ed(t)),bl(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=Qd(e,i);e.listenProvider_.startListening($d(r),Kd(e,r),s.hashFn,s.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening($d(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Yd(t));e.listenProvider_.stopListening($d(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=Yd(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function Ud(e,t,n,i){const r=Jd(e,i);if(null!=r){const i=Xd(r),s=i.path,a=i.queryId,o=cc(s,t);return Zd(e,s,new Au(_u(a),o,n))}return[]}function Bd(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=cc(e,r);s=s||xd(t,n),a=a||Fd(t)}));let o,l=e.syncPointTree_.get(r);if(l?(a=a||Fd(l),s=s||xd(l,ec())):(l=new wd,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=s)o=!0;else{o=!1,s=qc.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=xd(t,ec());n&&(s=s.updateImmediateChild(e,n))}))}const c=Td(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Yd(t);Re(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=Md++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=kd(l,t,n,qu(e.pendingWriteTree_,r),s,o);if(!c&&!a&&!i){const n=Id(l,t);u=u.concat(function(e,t,n){const i=t._path,r=Kd(e,t),s=Qd(e,n),a=e.listenProvider_.startListening($d(t),r,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(i);if(r)Re(!Fd(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold(((e,t,n)=>{if(!lc(e)&&t&&Fd(t))return[Rd(t).query];{let e=[];return t&&(e=e.concat(Ed(t).map((e=>e.query)))),bl(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening($d(i),Kd(e,i))}}return a}(e,t,n))}return u}function Wd(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=xd(n,cc(e,t));if(i)return i}));return Yu(i,t,r,n,!0)}function zd(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const r=cc(e,n);i=i||xd(t,r)}));let r=e.syncPointTree_.get(n);r?i=i||xd(r,ec()):(r=new wd,e.syncPointTree_=e.syncPointTree_.set(n,r));const s=null!=i,a=s?new Pu(i,!0,!1):null;return function(e){return Iu(e.viewCache_)}(Sd(r,t,qu(e.pendingWriteTree_,t._path),s?a.getNode():qc.EMPTY_NODE,s))}function qd(e,t){return Hd(t,e.syncPointTree_,null,qu(e.pendingWriteTree_,ec()))}function Hd(e,t,n,i){if(lc(e.path))return Vd(e,t,n,i);{const r=t.get(ec());null==n&&null!=r&&(n=xd(r,ec()));let s=[];const a=tc(e.path),o=e.operationForChild(a),l=t.children.get(a);if(l&&o){const e=n?n.getImmediateChild(a):null,t=nd(i,a);s=s.concat(Hd(o,l,e,t))}return r&&(s=s.concat(Pd(r,e,i,n))),s}}function Vd(e,t,n,i){const r=t.get(ec());null==n&&null!=r&&(n=xd(r,ec()));let s=[];return t.children.inorderTraversal(((t,r)=>{const a=n?n.getImmediateChild(t):null,o=nd(i,t),l=e.operationForChild(t);l&&(s=s.concat(Vd(l,r,a,o)))})),r&&(s=s.concat(Pd(r,e,i,n))),s}function Qd(e,t){const n=t.query,i=Kd(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||qc.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=Jd(e,n);if(i){const n=Xd(i),r=n.path,s=n.queryId,a=cc(r,t);return Zd(e,r,new bu(_u(s),a))}return[]}(e,n._path,i):function(e,t){return qd(e,new bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return Gd(e,n,null,i)}}}}function Kd(e,t){const n=Yd(t);return e.queryToTagMap.get(n)}function Yd(e){return e._path.toString()+"$"+e._queryIdentifier}function Jd(e,t){return e.tagToQueryMap.get(t)}function Xd(e){const t=e.indexOf("$");return Re(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new $l(e.substr(0,t))}}function Zd(e,t,n){const i=e.syncPointTree_.get(t);Re(i,"Missing sync point for query tag that we're tracking");return Pd(i,n,qu(e.pendingWriteTree_,t),null)}function $d(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Re(Ad,"Reference.ts has not been loaded"),Ad)(e._repo,e._path):e}class eh{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eh(t)}node(){return this.node_}}class th{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=oc(this.path_,e);return new th(this.syncTree_,t)}node(){return Wd(this.syncTree_,this.path_)}}const nh=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ih=function(e,t,n){return e&&"object"===typeof e?(Re(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?rh(e[".sv"],t,n):"object"===typeof e[".sv"]?sh(e[".sv"],t):void Re(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},rh=function(e,t,n){if("timestamp"===e)return n.timestamp;Re(!1,"Unexpected server value: "+e)},sh=function(e,t,n){e.hasOwnProperty("increment")||Re(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!==typeof i&&Re(!1,"Unexpected increment value: "+i);const r=t.node();if(Re(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!==typeof s?i:s+i},ah=function(e,t,n,i){return lh(t,new th(n,e),i)},oh=function(e,t,n){return lh(e,new eh(t),n)};function lh(e,t,n){const i=e.getPriority().val(),r=ih(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const i=e,s=ih(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new Oc(s,Qc(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new Oc(r))),i.forEachChild(Dc,((e,i)=>{const r=lh(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))})),s}}class ch{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function uh(e,t){let n=t instanceof $l?t:new $l(t),i=e,r=tc(n);for(;null!==r;){const e=lt(i.node.children,r)||{children:{},childCount:0};i=new ch(r,i,e),n=ic(n),r=tc(n)}return i}function dh(e){return e.node.value}function hh(e,t){e.node.value=t,vh(e)}function ph(e){return e.node.childCount>0}function fh(e,t){bl(e.node.children,((n,i)=>{t(new ch(n,e,i))}))}function gh(e,t,n,i){n&&!i&&t(e),fh(e,(e=>{gh(e,t,!0,i)})),n&&i&&t(e)}function mh(e){return new $l(null===e.parent?e.name:mh(e.parent)+"/"+e.name)}function vh(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===dh(e)&&!ph(e)}(n),r=ot(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,vh(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,vh(e))}(e.parent,e.name,e)}const _h=/[\[\].#$\/\u0000-\u001F\u007F]/,yh=/[\[\].#$\u0000-\u001F\u007F]/,bh=10485760,Ah=function(e){return"string"===typeof e&&0!==e.length&&!_h.test(e)},wh=function(e){return"string"===typeof e&&0!==e.length&&!yh.test(e)},Ph=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!hl(e)||e&&"object"===typeof e&&ot(e,".sv")},Sh=function(e,t,n,i){i&&void 0===t||kh(At(e,"value"),t,n)},kh=function(e,t,n){const i=n instanceof $l?new pc(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+gc(i));if("function"===typeof t)throw new Error(e+"contains a function "+gc(i)+" with contents = "+t.toString());if(hl(t))throw new Error(e+"contains "+t.toString()+" "+gc(i));if("string"===typeof t&&t.length>bh/3&&St(t)>bh)throw new Error(e+"contains a string greater than "+bh+" utf8 bytes "+gc(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(bl(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!Ah(t)))throw new Error(e+" contains an invalid key ("+t+") "+gc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=St(t),fc(e)}(i,t),kh(e,s,i),function(e){const t=e.parts_.pop();e.byteLength_-=St(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),n&&r)throw new Error(e+' contains ".value" child '+gc(i)+" in addition to actual children.")}},Ch=function(e,t,n,i){if(i&&void 0===t)return;const r=At(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];bl(t,((e,t)=>{const i=new $l(e);if(kh(r,t,oc(n,i)),".priority"===rc(i)&&!Ph(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)})),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=sc(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!Ah(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(uc);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&hc(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},Eh=function(e,t,n){if(!n||void 0!==t){if(hl(t))throw new Error(At(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ph(t))throw new Error(At(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xh=function(e,t,n,i){if((!i||void 0!==n)&&!Ah(n))throw new Error(At(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ih=function(e,t,n,i){if((!i||void 0!==n)&&!wh(n))throw new Error(At(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Th=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ih(e,t,n,i)},Fh=function(e,t){if(".info"===tc(t))throw new Error(e+" failed = Can't modify data under /.info/")},Rh=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ah(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wh(e)}(n))throw new Error(At(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nh(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||dc(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Oh(e,t,n){Nh(e,n),Lh(e,(e=>dc(e,t)))}function Dh(e,t,n){Nh(e,n),Lh(e,(e=>hc(e,t)||hc(t,e)))}function Lh(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(jh(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function jh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();rl&&ol("event: "+n.toString()),Sl(i)}}}const Gh="repo_interrupt",Uh=25;class Bh{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=du(),this.transactionQueueTree_=new ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Wh(e,t,n){if(e.stats_=Gl(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new cu(e.repoInfo_,((t,n,i,r)=>{Hh(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Vh(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new _c(e.repoInfo_,t,((t,n,i,r)=>{Hh(e,t,n,i,r)}),(t=>{Vh(e,t)}),(t=>{!function(e,t){bl(t,((t,n)=>{Qh(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return jl[n]||(jl[n]=t()),jl[n]}(e.repoInfo_,(()=>new mu(e.stats_,e.server_))),e.infoData_=new uu,e.infoSyncTree_=new Nd({startListening:(t,n,i,r)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=jd(e.infoSyncTree_,t._path,a),setTimeout((()=>{r("ok")}),0)),s},stopListening:()=>{}}),Qh(e,"connected",!1),e.serverSyncTree_=new Nd({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const s=r(n,i);Dh(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function zh(e){const t=e.infoData_.getNode(new $l(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qh(e){return nh({timestamp:zh(e)})}function Hh(e,t,n,i,r){e.dataUpdateCount++;const s=new $l(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(i){const t=ut(n,(e=>Qc(e)));a=function(e,t,n,i){const r=Jd(e,i);if(r){const i=Xd(r),s=i.path,a=i.queryId,o=cc(s,t),l=Ru.fromObject(n);return Zd(e,s,new wu(_u(a),o,l))}return[]}(e.serverSyncTree_,s,t,r)}else{const t=Qc(n);a=Ud(e.serverSyncTree_,s,t,r)}else if(i){const t=ut(n,(e=>Qc(e)));a=function(e,t,n){const i=Ru.fromObject(n);return qd(e,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,s,t)}else{const t=Qc(n);a=jd(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=rp(e,s)),Dh(e.eventQueue_,o,a)}function Vh(e,t){Qh(e,"connected",t),!1===t&&function(e){ep(e,"onDisconnectEvents");const t=qh(e),n=du();fu(e.onDisconnect_,ec(),((i,r)=>{const s=ah(i,r,e.serverSyncTree_,t);hu(n,i,s)}));let i=[];fu(n,ec(),((t,n)=>{i=i.concat(jd(e.serverSyncTree_,t,n));const r=cp(e,t);rp(e,r)})),e.onDisconnect_=du(),Dh(e.eventQueue_,ec(),i)}(e)}function Qh(e,t,n){const i=new $l("/.info/"+t),r=Qc(n);e.infoData_.updateSnapshot(i,r);const s=jd(e.infoSyncTree_,i,r);Dh(e.eventQueue_,i,s)}function Kh(e){return e.nextWriteId_++}function Yh(e,t,n,i,r){ep(e,"set",{path:t.toString(),value:n,priority:i});const s=qh(e),a=Qc(n,i),o=Wd(e.serverSyncTree_,t),l=oh(a,o,s),c=Kh(e),u=Od(e.serverSyncTree_,t,l,c,!0);Nh(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,i)=>{const s="ok"===n;s||dl("set at "+t+" failed: "+n);const a=Ld(e.serverSyncTree_,c,!s);Dh(e.eventQueue_,t,a),tp(e,r,n,i)}));const d=cp(e,t);rp(e,d),Dh(e.eventQueue_,d,[])}function Jh(e,t,n){e.server_.onDisconnectCancel(t.toString(),((i,r)=>{"ok"===i&&pu(e.onDisconnect_,t),tp(e,n,i,r)}))}function Xh(e,t,n,i){const r=Qc(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),((n,s)=>{"ok"===n&&hu(e.onDisconnect_,t,r),tp(e,i,n,s)}))}function Zh(e,t,n){let i;i=".info"===tc(t._path)?Gd(e.infoSyncTree_,t,n):Gd(e.serverSyncTree_,t,n),Oh(e.eventQueue_,t._path,i)}function $h(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Gh)}function ep(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ol(t,...i)}function tp(e,t,n,i){t&&Sl((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const s=new Error(r);s.code=e,t(s)}}))}function np(e,t,n){return Wd(e.serverSyncTree_,t,n)||qc.EMPTY_NODE}function ip(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||lp(e,t),dh(t)){const n=ap(e,t);Re(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const i=n.map((e=>e.currentWriteId)),r=np(e,t,i);let s=r;const a=r.hash();for(let c=0;c<n.length;c++){const e=n[c];Re(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=cc(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const o=s.val(!0),l=t;e.server_.put(l.toString(),o,(i=>{ep(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Ld(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();lp(e,uh(e.transactionQueueTree_,t)),ip(e,e.transactionQueueTree_),Dh(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)Sl(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{dl("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}rp(e,t)}}),a)}(e,mh(t),n)}else ph(t)&&fh(t,(t=>{ip(e,t)}))}function rp(e,t){const n=sp(e,t),i=mh(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=cc(n,s.path);let u,d=!1;if(Re(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,u=s.abortReason,r=r.concat(Ld(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Uh)d=!0,u="maxretry",r=r.concat(Ld(e.serverSyncTree_,s.currentWriteId,!0));else{const n=np(e,s.path,a);s.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){kh("transaction failed: Data returned ",i,s.path);let t=Qc(i);"object"===typeof i&&null!=i&&ot(i,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=qh(e),c=oh(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Kh(e),a.splice(a.indexOf(o),1),r=r.concat(Od(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),r=r.concat(Ld(e.serverSyncTree_,o,!0))}else d=!0,u="nodata",r=r.concat(Ld(e.serverSyncTree_,s.currentWriteId,!0))}Dh(e.eventQueue_,n,r),r=[],d&&(t[l].status=2,o=t[l].unwatcher,setTimeout(o,Math.floor(0)),t[l].onComplete&&("nodata"===u?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var o;lp(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)Sl(i[l]);ip(e,e.transactionQueueTree_)}(e,ap(e,n),i),i}function sp(e,t){let n,i=e.transactionQueueTree_;for(n=tc(t);null!==n&&void 0===dh(i);)i=uh(i,n),n=tc(t=ic(t));return i}function ap(e,t){const n=[];return op(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function op(e,t,n){const i=dh(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);fh(t,(t=>{op(e,t,n)}))}function lp(e,t){const n=dh(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,hh(t,n.length>0?n:void 0)}fh(t,(t=>{lp(e,t)}))}function cp(e,t){const n=mh(sp(e,t)),i=uh(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,(t=>{up(e,t)})),up(e,i),gh(i,(t=>{up(e,t)})),n}function up(e,t){const n=dh(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Re(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Re(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Ld(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?hh(t,void 0):n.length=s+1,Dh(e.eventQueue_,mh(t),r);for(let e=0;e<i.length;e++)Sl(i[e])}}const dp=function(e,t){const n=hp(e),i=n.namespace;"firebase.com"===n.domain&&ul(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Nl(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new $l(n.pathString)}},hp=function(e){let t="",n="",i="",r="",s="",a=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):dl("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:r,namespace:s}},pp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fp=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=pp.charAt(n%64),n=Math.floor(n/64);Re(0===n,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=pp.charAt(t[r]);return Re(20===a.length,"nextPushId: Length should be 20."),a}}();class gp{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class mp{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vp{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class _p{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new He;return Jh(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){Fh("OnDisconnect.remove",this._path);const e=new He;return Xh(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){Fh("OnDisconnect.set",this._path),Sh("OnDisconnect.set",e,this._path,!1);const t=new He;return Xh(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){Fh("OnDisconnect.setWithPriority",this._path),Sh("OnDisconnect.setWithPriority",e,this._path,!1),Eh("OnDisconnect.setWithPriority",t,!1);const n=new He;return function(e,t,n,i,r){const s=Qc(n,i);e.server_.onDisconnectPut(t.toString(),s.val(!0),((n,i)=>{"ok"===n&&hu(e.onDisconnect_,t,s),tp(0,r,n,i)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){Fh("OnDisconnect.update",this._path),Ch("OnDisconnect.update",e,this._path,!1);const t=new He;return function(e,t,n,i){if(ct(n))return ol("onDisconnect().update() called with empty data.  Don't do anything."),void tp(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((r,s)=>{"ok"===r&&bl(n,((n,i)=>{const r=Qc(i);hu(e.onDisconnect_,oc(t,n),r)})),tp(0,i,r,s)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class yp{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return lc(this._path)?null:rc(this._path)}get ref(){return new Pp(this._repo,this._path)}get _queryIdentifier(){const e=lu(this._queryParams),t=_l(e);return"{}"===t?"default":t}get _queryObject(){return lu(this._queryParams)}isEqual(e){if(!((e=kt(e))instanceof yp))return!1;const t=this._repo===e._repo,n=dc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function bp(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ap(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Pc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==pl)throw new Error(i);if("string"!==typeof t)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==fl)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(e.getIndex()===Dc){if(null!=t&&!Ph(t)||null!=n&&!Ph(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Re(e.getIndex()instanceof Kc||e.getIndex()===Yc,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wp(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Pp extends yp{constructor(e,t){super(e,t,new iu,!1)}get parent(){const e=ac(this._path);return null===e?null:new Pp(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Sp{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new $l(e),n=Ep(this.ref,e);return new Sp(this._node.getChild(t),n,Dc)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Sp(n,Ep(this.ref,t),Dc))))}hasChild(e){const t=new $l(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kp(e,t){return(e=kt(e))._checkNotDeleted("ref"),void 0!==t?Ep(e._root,t):e._root}function Cp(e,t){(e=kt(e))._checkNotDeleted("refFromURL");const n=dp(t,e._repo.repoInfo_.nodeAdmin);Rh("refFromURL",n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||ul("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),kp(e,n.path.toString())}function Ep(e,t){return null===tc((e=kt(e))._path)?Th("child","path",t,!1):Ih("child","path",t,!1),new Pp(e._repo,oc(e._path,t))}function xp(e,t){e=kt(e),Fh("set",e._path),Sh("set",t,e._path,!1);const n=new He;return Yh(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ip(e,t){Ch("update",t,e._path,!1);const n=new He;return function(e,t,n,i){ep(e,"update",{path:t.toString(),value:n});let r=!0;const s=qh(e),a={};if(bl(n,((n,i)=>{r=!1,a[n]=ah(oc(t,n),Qc(i),e.serverSyncTree_,s)})),r)ol("update() called with empty data.  Don't do anything."),tp(0,i,"ok",void 0);else{const r=Kh(e),s=Dd(e.serverSyncTree_,t,a,r);Nh(e.eventQueue_,s),e.server_.merge(t.toString(),n,((n,s)=>{const a="ok"===n;a||dl("update at "+t+" failed: "+n);const o=Ld(e.serverSyncTree_,r,!a),l=o.length>0?rp(e,t):t;Dh(e.eventQueue_,l,o),tp(0,i,n,s)})),bl(n,(n=>{const i=cp(e,oc(t,n));rp(e,i)})),Dh(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Tp(e){e=kt(e);const t=new vp((()=>{})),n=new Fp(t);return function(e,t,n){const i=zd(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then((i=>{const r=Qc(i).withIndex(t._queryParams.getIndex());let s;if(Bd(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=jd(e.serverSyncTree_,t._path,r);else{const n=Kd(e.serverSyncTree_,t);s=Ud(e.serverSyncTree_,t._path,r,n)}return Dh(e.eventQueue_,t._path,s),Gd(e.serverSyncTree_,t,n,null,!0),r}),(n=>(ep(e,"get for query "+st(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Sp(t,new Pp(e._repo,e._path),e._queryParams.getIndex())))}class Fp{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new gp("value",this,new Sp(e.snapshotNode,new Pp(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new mp(this,e,t):null}matches(e){return e instanceof Fp&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Rp{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new mp(this,e,t):null}createEvent(e,t){Re(null!=e.childName,"Child events should have a childName.");const n=Ep(new Pp(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new gp(e.type,this,new Sp(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Rp&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Mp(e,t,n,i,r){let s;if("object"===typeof i&&(s=void 0,r=i),"function"===typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{Zh(e._repo,e,o),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const a=new vp(n,s||void 0),o="value"===t?new Fp(a):new Rp(t,a);return function(e,t,n){let i;i=".info"===tc(t._path)?Bd(e.infoSyncTree_,t,n):Bd(e.serverSyncTree_,t,n),Oh(e.eventQueue_,t._path,i)}(e._repo,e,o),()=>Zh(e._repo,e,o)}function Np(e,t,n,i){return Mp(e,"value",t,n,i)}function Op(e,t,n,i){return Mp(e,"child_added",t,n,i)}function Dp(e,t,n,i){return Mp(e,"child_changed",t,n,i)}function Lp(e,t,n,i){return Mp(e,"child_moved",t,n,i)}function jp(e,t,n,i){return Mp(e,"child_removed",t,n,i)}function Gp(e,t,n){let i=null;const r=n?new vp(n):null;"value"===t?i=new Fp(r):t&&(i=new Rp(t,r)),Zh(e._repo,e,i)}class Up{}class Bp extends Up{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sh("endAt",this._value,e._path,!0);const t=su(e._queryParams,this._value,this._key);if(wp(t),Ap(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yp(e._repo,e._path,t,e._orderByCalled)}}class Wp extends Up{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sh("endBefore",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Pc||n?su(e,t,n):su(e,t,pl),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(wp(t),Ap(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yp(e._repo,e._path,t,e._orderByCalled)}}class zp extends Up{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sh("startAt",this._value,e._path,!0);const t=ru(e._queryParams,this._value,this._key);if(wp(t),Ap(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yp(e._repo,e._path,t,e._orderByCalled)}}class qp extends Up{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sh("startAfter",this._value,e._path,!1);const t=function(e,t,n){let i;return i=e.index_===Pc||n?ru(e,t,n):ru(e,t,fl),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(wp(t),Ap(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yp(e._repo,e._path,t,e._orderByCalled)}}class Hp extends Up{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yp(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Vp extends Up{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yp(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class Qp extends Up{constructor(e){super(),this._path=e}_apply(e){bp(e,"orderByChild");const t=new $l(this._path);if(lc(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Kc(t),i=au(e._queryParams,n);return Ap(i),new yp(e._repo,e._path,i,!0)}}class Kp extends Up{_apply(e){bp(e,"orderByKey");const t=au(e._queryParams,Pc);return Ap(t),new yp(e._repo,e._path,t,!0)}}class Yp extends Up{_apply(e){bp(e,"orderByPriority");const t=au(e._queryParams,Dc);return Ap(t),new yp(e._repo,e._path,t,!0)}}class Jp extends Up{_apply(e){bp(e,"orderByValue");const t=au(e._queryParams,Yc);return Ap(t),new yp(e._repo,e._path,t,!0)}}class Xp extends Up{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Sh("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bp(this._value,this._key)._apply(new zp(this._value,this._key)._apply(e))}}function Zp(e){let t=kt(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const s of i)t=s._apply(t);return t}!function(e){Re(!bd,"__referenceConstructor has already been defined"),bd=e}(Pp),function(e){Re(!Ad,"__referenceConstructor has already been defined"),Ad=e}(Pp);const $p="FIREBASE_DATABASE_EMULATOR_HOST",ef={};let tf=!1;function nf(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ol("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,o,l=dp(s,r),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"/port4lio-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[$p]),o?(a=!0,s="http://".concat(o,"?ns=").concat(c.namespace),l=dp(s,r),c=l.repoInfo):a=!l.repoInfo.secure;const u=r&&a?new xl(xl.OWNER):new El(e.name,e.options,t);Rh("Invalid Firebase Database URL",l),lc(l.path)||ul("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,i){let r=ef[t.name];r||(r={},ef[t.name]=r);let s=r[e.toURLString()];s&&ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new Bh(e,tf,n,i),r[e.toURLString()]=s,s}(c,e,u,new Cl(e.name,n));return new rf(d,e)}class rf{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Wh(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pp(this._repo,ec())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=ef[t];n&&n[e.key]===e||ul("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$h(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ul("Cannot call "+e+" on a deleted database.")}}function sf(){Vl.IS_TRANSPORT_INITIALIZED&&dl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function af(){sf(),Wl.forceDisallow()}function of(){sf(),Hl.forceDisallow(),Wl.forceAllow()}function lf(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=kt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ul("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ul('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xl(xl.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:Ve(i.mockUserToken,e.app.options.projectId);s=new xl(t)}!function(e,t,n,i){e.repoInfo_=new Nl("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,t,n,s)}function cf(e){var t;(e=kt(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Gh)}function uf(e,t){al(e,t)}const df={".sv":"timestamp"};class hf{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function pf(e,t,n){var i;if(e=kt(e),Fh("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=null===n||void 0===n?void 0:n.applyLocally)||void 0===i||i,s=new He,a=Np(e,(()=>{}));return function(e,t,n,i,r,s){ep(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:tl(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=np(e,t,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{kh("transaction failed: Data returned ",l,a.path),a.status=0;const n=uh(e.transactionQueueTree_,t),i=dh(n)||[];let r;i.push(a),hh(n,i),"object"===typeof l&&null!==l&&ot(l,".priority")?(r=lt(l,".priority"),Re(Ph(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(Wd(e.serverSyncTree_,t)||qc.EMPTY_NODE).getPriority().val();const s=qh(e),c=Qc(l,r),u=oh(c,o,s);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=u,a.currentWriteId=Kh(e);const d=Od(e.serverSyncTree_,t,u,a.currentWriteId,a.applyLocally);Dh(e.eventQueue_,t,d),ip(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,i)=>{let r=null;t?s.reject(t):(r=new Sp(i,new Pp(e._repo,e._path),Dc),s.resolve(new hf(n,r)))}),a,r),s.promise}_c.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_c.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Ko(vn),dn(new Ct("database",((e,t)=>{let{instanceIdentifier:n}=t;return nf(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),wn(Ho,Vo,e),wn(Ho,Vo,"esm2017")}();const ff=new Dt("@firebase/database-compat"),gf=function(e){const t="FIREBASE WARNING: "+e;ff.warn(t)};class mf{constructor(e){this._delegate=e}cancel(e){bt("OnDisconnect.cancel",0,1,arguments.length),wt("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){bt("OnDisconnect.remove",0,1,arguments.length),wt("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){bt("OnDisconnect.set",1,2,arguments.length),wt("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){bt("OnDisconnect.setWithPriority",2,3,arguments.length),wt("OnDisconnect.setWithPriority","onComplete",n,!0);const i=this._delegate.setWithPriority(e,t);return n&&i.then((()=>n(null)),(e=>n(e))),i}update(e,t){if(bt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,gf("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wt("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class vf{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return bt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _f{constructor(e,t){this._database=e,this._delegate=t}val(){return bt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return bt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return bt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return bt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return bt("DataSnapshot.child",0,1,arguments.length),e=String(e),Ih("DataSnapshot.child","path",e,!1),new _f(this._database,this._delegate.child(e))}hasChild(e){return bt("DataSnapshot.hasChild",1,1,arguments.length),Ih("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return bt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return bt("DataSnapshot.forEach",1,1,arguments.length),wt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new _f(this._database,t))))}hasChildren(){return bt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return bt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return bt("DataSnapshot.ref",0,0,arguments.length),new bf(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yf{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,i){var r;bt("Query.on",2,4,arguments.length),wt("Query.on","callback",t,!1);const s=yf.getCancelAndContextArgs_("Query.on",n,i),a=(e,n)=>{t.call(s.context,new _f(this.database,e),n)};a.userCallback=t,a.context=s.context;const o=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(e){case"value":return Np(this._delegate,a,o),t;case"child_added":return Op(this._delegate,a,o),t;case"child_removed":return jp(this._delegate,a,o),t;case"child_changed":return Dp(this._delegate,a,o),t;case"child_moved":return Lp(this._delegate,a,o),t;default:throw new Error(At("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(bt("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(At(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),wt("Query.off","callback",t,!0),Pt("Query.off","context",n,!0),t){const i=()=>{};i.userCallback=t,i.context=n,Gp(this._delegate,e,i)}else Gp(this._delegate,e)}get(){return Tp(this._delegate).then((e=>new _f(this.database,e)))}once(e,t,n,i){bt("Query.once",1,4,arguments.length),wt("Query.once","callback",t,!0);const r=yf.getCancelAndContextArgs_("Query.once",n,i),s=new He,a=(e,n)=>{const i=new _f(this.database,e);t&&t.call(r.context,i,n),s.resolve(i)};a.userCallback=t,a.context=r.context;const o=e=>{r.cancel&&r.cancel.call(r.context,e),s.reject(e)};switch(e){case"value":Np(this._delegate,a,o,{onlyOnce:!0});break;case"child_added":Op(this._delegate,a,o,{onlyOnce:!0});break;case"child_removed":jp(this._delegate,a,o,{onlyOnce:!0});break;case"child_changed":Dp(this._delegate,a,o,{onlyOnce:!0});break;case"child_moved":Lp(this._delegate,a,o,{onlyOnce:!0});break;default:throw new Error(At("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return bt("Query.limitToFirst",1,1,arguments.length),new yf(this.database,Zp(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hp(e)}(e)))}limitToLast(e){return bt("Query.limitToLast",1,1,arguments.length),new yf(this.database,Zp(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Vp(e)}(e)))}orderByChild(e){return bt("Query.orderByChild",1,1,arguments.length),new yf(this.database,Zp(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ih("orderByChild","path",e,!1),new Qp(e)}(e)))}orderByKey(){return bt("Query.orderByKey",0,0,arguments.length),new yf(this.database,Zp(this._delegate,new Kp))}orderByPriority(){return bt("Query.orderByPriority",0,0,arguments.length),new yf(this.database,Zp(this._delegate,new Yp))}orderByValue(){return bt("Query.orderByValue",0,0,arguments.length),new yf(this.database,Zp(this._delegate,new Jp))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return bt("Query.startAt",0,2,arguments.length),new yf(this.database,Zp(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return xh("startAt","key",t,!0),new zp(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return bt("Query.startAfter",0,2,arguments.length),new yf(this.database,Zp(this._delegate,function(e,t){return xh("startAfter","key",t,!0),new qp(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return bt("Query.endAt",0,2,arguments.length),new yf(this.database,Zp(this._delegate,function(e,t){return xh("endAt","key",t,!0),new Bp(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return bt("Query.endBefore",0,2,arguments.length),new yf(this.database,Zp(this._delegate,function(e,t){return xh("endBefore","key",t,!0),new Wp(e,t)}(e,t)))}equalTo(e,t){return bt("Query.equalTo",1,2,arguments.length),new yf(this.database,Zp(this._delegate,function(e,t){return xh("equalTo","key",t,!0),new Xp(e,t)}(e,t)))}toString(){return bt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return bt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(bt("Query.isEqual",1,1,arguments.length),!(e instanceof yf)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const i={cancel:void 0,context:void 0};if(t&&n)i.cancel=t,wt(e,"cancel",i.cancel,!0),i.context=n,Pt(e,"context",i.context,!0);else if(t)if("object"===typeof t&&null!==t)i.context=t;else{if("function"!==typeof t)throw new Error(At(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new bf(this.database,new Pp(this._delegate._repo,this._delegate._path))}}class bf extends yf{constructor(e,t){super(e,new yp(t._repo,t._path,new iu,!1)),this.database=e,this._delegate=t}getKey(){return bt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return bt("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new bf(this.database,Ep(this._delegate,e))}getParent(){bt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new bf(this.database,e):null}getRoot(){return bt("Reference.root",0,0,arguments.length),new bf(this.database,this._delegate.root)}set(e,t){bt("Reference.set",1,2,arguments.length),wt("Reference.set","onComplete",t,!0);const n=xp(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(bt("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,gf("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fh("Reference.update",this._delegate._path),wt("Reference.update","onComplete",t,!0);const n=Ip(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){bt("Reference.setWithPriority",2,3,arguments.length),wt("Reference.setWithPriority","onComplete",n,!0);const i=function(e,t,n){if(Fh("setWithPriority",e._path),Sh("setWithPriority",t,e._path,!1),Eh("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new He;return Yh(e._repo,e._path,t,n,i.wrapCallback((()=>{}))),i.promise}(this._delegate,e,t);return n&&i.then((()=>n(null)),(e=>n(e))),i}remove(e){bt("Reference.remove",0,1,arguments.length),wt("Reference.remove","onComplete",e,!0);const t=function(e){return Fh("remove",e._path),xp(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){bt("Reference.transaction",1,3,arguments.length),wt("Reference.transaction","transactionUpdate",e,!1),wt("Reference.transaction","onComplete",t,!0),function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error(At(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const i=pf(this._delegate,e,{applyLocally:n}).then((e=>new vf(e.committed,new _f(this.database,e.snapshot))));return t&&i.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),i}setPriority(e,t){bt("Reference.setPriority",1,2,arguments.length),wt("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=kt(e),Fh("setPriority",e._path),Eh("setPriority",t,!1);const n=new He;return Yh(e._repo,oc(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){bt("Reference.push",0,2,arguments.length),wt("Reference.push","onComplete",t,!0);const n=function(e,t){e=kt(e),Fh("push",e._path),Sh("push",t,e._path,!0);const n=zh(e._repo),i=fp(n),r=Ep(e,i),s=Ep(e,i);let a;return a=null!=t?xp(s,t).then((()=>s)):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,e),i=n.then((e=>new bf(this.database,e)));t&&i.then((()=>t(null)),(e=>t(e)));const r=new bf(this.database,n);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return Fh("Reference.onDisconnect",this._delegate._path),new mf(new _p(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Af{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:af,forceLongPolling:of}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lf(this._delegate,e,t,n)}ref(e){if(bt("database.ref",0,1,arguments.length),e instanceof bf){const t=Cp(this._delegate,e.toString());return new bf(this,t)}{const t=kp(this._delegate,e);return new bf(this,t)}}refFromURL(e){bt("database.refFromURL",1,1,arguments.length);const t=Cp(this._delegate,e);return new bf(this,t)}goOffline(){return bt("database.goOffline",0,0,arguments.length),(e=kt(e=this._delegate))._checkNotDeleted("goOffline"),void $h(e._repo);var e}goOnline(){return bt("database.goOnline",0,0,arguments.length),cf(this._delegate)}}Af.ServerValue={TIMESTAMP:df,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var wf=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:i,customAuthImpl:r,customAppCheckImpl:s,namespace:a,nodeAdmin:o=!1}=e;Ko(i);const l=new It("database-standalone"),c=new xt("auth-internal",l);let u;return c.setComponent(new Ct("auth-internal",(()=>r),"PRIVATE")),s&&(u=new xt("app-check-internal",l),u.setComponent(new Ct("app-check-internal",(()=>s),"PRIVATE"))),{instance:new Af(nf(t,c,u,n,o),t),namespace:a}}});const Pf=Af.ServerValue;!function(e){e.INTERNAL.registerComponent(new Ct("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new Af(r,i)}),"PUBLIC").setServiceProps({Reference:bf,Query:yf,Database:Af,DataSnapshot:_f,enableLogging:uf,INTERNAL:wf,ServerValue:Pf}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.1")}(Bn);const Sf="firebasestorage.googleapis.com",kf="storageBucket";class Cf extends tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(If(e),"Firebase Storage: ".concat(t," (").concat(If(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return If(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ef,xf;function If(e){return"storage/"+e}function Tf(){return new Cf(Ef.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ff(){return new Cf(Ef.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rf(){return new Cf(Ef.CANCELED,"User canceled the upload/download.")}function Mf(){return new Cf(Ef.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nf(e){return new Cf(Ef.INVALID_ARGUMENT,e)}function Of(){return new Cf(Ef.APP_DELETED,"The Firebase app was deleted.")}function Df(e,t){return new Cf(Ef.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Lf(e){throw new Cf(Ef.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ef||(Ef={}));class jf{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=jf.makeFromUrl(e,t)}catch(r){return new jf(e,"")}if(""===n.path)return n;throw i=e,new Cf(Ef.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Sf?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new jf(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new Cf(Ef.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Gf{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Uf(e){return"string"===typeof e||e instanceof String}function Bf(e){return Wf()&&e instanceof Blob}function Wf(){return"undefined"!==typeof Blob&&!Ye()}function zf(e,t,n,i){if(i<t)throw Nf("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(i>n)throw Nf("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qf(e,t,n){let i=t;return null==n&&(i="https://".concat(t)),"".concat(n,"://").concat(i,"/v0").concat(e)}function Hf(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}function Vf(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xf||(xf={}));class Qf{constructor(e,t,n,i,r,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Kf(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===xf.NO_ERROR,r=n.getStatus();if(!t||Vf(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===xf.ABORT;return void e(!1,new Kf(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new Kf(s,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());void 0!==e?n(e):n()}catch(s){i(s)}else if(null!==r){const e=Tf();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?Of():Rf())}else{i(Ff())}};this.canceled_?t(0,new Kf(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(null,n)}}function d(t){r=setTimeout((()=>{r=null,e(p,l())}),t)}function h(){s&&clearTimeout(s)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;i<64&&(i*=2),1===o?(o=2,s=0):s=1e3*(i+Math.random()),d(s)}let f=!1;function g(e){f||(f=!0,h(),c||(null!==r?(e||(o=2),clearTimeout(r),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kf{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Yf(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jf(){const e=Yf();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Wf())return new Blob(n);throw new Cf(Ef.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Xf(e){if("undefined"===typeof atob)throw t="base-64",new Cf(Ef.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Zf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $f{constructor(e,t){this.data=e,this.contentType=t||null}}function eg(e,t){switch(e){case Zf.RAW:return new $f(tg(t));case Zf.BASE64:case Zf.BASE64URL:return new $f(ng(e,t));case Zf.DATA_URL:return new $f(function(e){const t=new ig(e);return t.base64?ng(Zf.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Df(Zf.DATA_URL,"Malformed data URL.")}return tg(t)}(t.rest)}(t),new ig(t).contentType)}throw Tf()}function tg(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function ng(e,t){switch(e){case Zf.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw Df(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Zf.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw Df(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Xf(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw Df(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class ig{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Df(Zf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class rg{constructor(e,t){let n=0,i="";Bf(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Bf(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new rg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new rg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Wf()){const e=t.map((e=>e instanceof rg?e.data_:e));return new rg(Jf.apply(null,e))}{const e=t.map((e=>Uf(e)?eg(Zf.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new rg(i,!0)}}uploadData(){return this.data_}}function sg(e){let t;try{t=JSON.parse(e)}catch(i){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function ag(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function og(e,t){return t}class lg{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||og}}let cg=null;function ug(){if(cg)return cg;const e=[];e.push(new lg("bucket")),e.push(new lg("generation")),e.push(new lg("metageneration")),e.push(new lg("name","fullPath",!0));const t=new lg("name");t.xform=function(e,t){return function(e){return!Uf(e)||e.length<2?e:ag(e)}(t)},e.push(t);const n=new lg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lg("timeCreated")),e.push(new lg("updated")),e.push(new lg("md5Hash",null,!0)),e.push(new lg("cacheControl",null,!0)),e.push(new lg("contentDisposition",null,!0)),e.push(new lg("contentEncoding",null,!0)),e.push(new lg("contentLanguage",null,!0)),e.push(new lg("contentType",null,!0)),e.push(new lg("metadata","customMetadata",!0)),cg=e,cg}function dg(e,t,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new jf(n,i);return t._makeStorageReference(r)}})}(i,e),i}function hg(e,t,n){const i=sg(t);if(null===i)return null;return dg(e,i,n)}function pg(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class fg{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gg(e){if(!e)throw Tf()}function mg(e,t){return function(n,i){const r=hg(e,i,t);return gg(null!==r),r}}function vg(e,t){return function(n,i){const r=hg(e,i,t);return gg(null!==r),function(e,t,n,i){const r=sg(t);if(null===r)return null;if(!Uf(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const r=e.bucket,s=e.fullPath;return qf("/b/"+a(r)+"/o/"+a(s),n,i)+Hf({alt:"media",token:t})}))[0]}(r,i,e.host,e._protocol)}}function _g(e){return function(t,n){let i;var r,s;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new Cf(Ef.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Cf(Ef.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,i=new Cf(Ef.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new Cf(Ef.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function yg(e){const t=_g(e);return function(n,i){let r=t(n,i);var s;return 404===n.getStatus()&&(s=e.path,r=new Cf(Ef.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function bg(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function Ag(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=bg(t,i,r),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pg(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=rg.getBlob(c,i,u);if(null===d)throw Mf();const h={name:l.fullPath},p=qf(s,e.host,e._protocol),f=e.maxUploadRetryTime,g=new fg(p,"POST",mg(e,n),f);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=_g(t),g}let wg=null;class Pg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xf.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=xf.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=xf.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i){if(this.sent_)throw Lf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Lf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Sg extends Pg{initXhr(){this.xhr_.responseType="text"}}function kg(){return wg?wg():new Sg}class Cg{constructor(e,t){this._service=e,this._location=t instanceof jf?t:jf.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cg(e,t)}get root(){const e=new jf(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ag(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new jf(this._location.bucket,e);return new Cg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Cf(Ef.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Eg(e,t,n){e._throwIfRoot("uploadBytes");const i=Ag(e.storage,e._location,ug(),new rg(t,!0),n);return e.storage.makeRequestWithTokens(i,kg).then((t=>({metadata:t,ref:e})))}function xg(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=qf(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new fg(i,"GET",vg(e,n),r);return s.errorHandler=yg(t),s}(e.storage,e._location,ug());return e.storage.makeRequestWithTokens(t,kg).then((e=>{if(null===e)throw new Cf(Ef.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ig(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new jf(e._location.bucket,n);return new Cg(e.storage,i)}function Tg(e,t){if(e instanceof Mg){const n=e;if(null==n._bucket)throw new Cf(Ef.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kf+"' property when initializing the app?");const i=new Cg(n,n._bucket);return null!=t?Tg(i,t):i}return void 0!==t?Ig(e,t):e}function Fg(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Mg)return new Cg(e,t);throw Nf("To use ref(service, url), the first argument must be a Storage instance.")}return Tg(e,t)}function Rg(e,t){const n=null===t||void 0===t?void 0:t[kf];return null==n?null:jf.makeFromBucketSpec(n,e)}class Mg{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=Sf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jf.makeFromBucketSpec(i,this._host):Rg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=jf.makeFromBucketSpec(this._url,e):this._bucket=Rg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cg(this,e)}_makeRequest(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Gf(Of());{const s=function(e,t,n,i,r,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Hf(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new Qf(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a)}(e,this._appId,n,i,t,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const Ng="@firebase/storage",Og="0.11.2",Dg="storage";function Lg(e){return xg(e=kt(e))}function jg(e,t){return Fg(e=kt(e),t)}function Gg(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Mg(i,r,s,n,vn)}dn(new Ct(Dg,Gg,"PUBLIC").setMultipleInstances(!0)),wn(Ng,Og,""),wn(Ng,Og,"esm2017");const Ug=Bn.initializeApp({apiKey:"AIzaSyDUqw3TK3nH7Hx3l0YCAMqr4wNaNZTRD40",authDomain:"port4lio-website.firebaseapp.com",databaseURL:"https://port4lio-website-default-rtdb.firebaseio.com/",projectId:"port4lio-website",storageBucket:"port4lio-website.appspot.com",messagingSenderId:"640363347212",appId:"1:640363347212:web:0ed7004452c649ba479d29"}),Bg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn(),t=arguments.length>1?arguments[1]:void 0;e=kt(e);const n=hn(e,Dg).getImmediate({identifier:t}),i=ze("storage");return i&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken="string"===typeof r?r:Ve(r,e.app.options.projectId))}(e,t,n,i)}(n,...i),n}(Ug),Wg=Ug;const zg=__webpack_require__.p+"static/media/icon.1e26df605c8b003da73f1d7320936707.svg";var qg=__webpack_require__(2007),Hg=__webpack_require__.n(qg),Vg=__webpack_require__(9475),Qg=__webpack_require__.n(Vg),Kg=__webpack_require__(77),Yg=__webpack_require__.n(Kg),Jg=__webpack_require__(1725),Xg=__webpack_require__.n(Jg),Zg="bodyAttributes",$g="htmlAttributes",em="titleAttributes",tm={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},nm=(Object.keys(tm).map((function(e){return tm[e]})),"charset"),im="cssText",rm="href",sm="http-equiv",am="innerHTML",om="itemprop",lm="name",cm="property",um="rel",dm="src",hm="target",pm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fm="defaultTitle",gm="defer",mm="encodeSpecialCharacters",vm="onChangeClientState",_m="titleTemplate",ym=Object.keys(pm).reduce((function(e,t){return e[pm[t]]=t,e}),{}),bm=[tm.NOSCRIPT,tm.SCRIPT,tm.STYLE],Am="data-react-helmet",wm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Sm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},km=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Cm=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Em=function(e){var t=Rm(e,tm.TITLE),n=Rm(e,_m);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var i=Rm(e,fm);return t||i||void 0},xm=function(e){return Rm(e,vm)||function(){}},Im=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Sm({},e,t)}),{})},Tm=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[tm.BASE]})).map((function(e){return e[tm.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var i=Object.keys(n),r=0;r<i.length;r++){var s=i[r].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}return t}),[])},Fm=function(e,t,n){var i={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Lm("Helmet: "+e+' should be of type "Array". Instead found type "'+wm(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var r={};n.filter((function(e){for(var n=void 0,s=Object.keys(e),a=0;a<s.length;a++){var o=s[a],l=o.toLowerCase();-1===t.indexOf(l)||n===um&&"canonical"===e[n].toLowerCase()||l===um&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(o)||o!==am&&o!==im&&o!==om||(n=o)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return i[n]||(i[n]={}),r[n]||(r[n]={}),!i[n][c]&&(r[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var s=Object.keys(r),a=0;a<s.length;a++){var o=s[a],l=Xg()({},i[o],r[o]);i[o]=l}return e}),[]).reverse()},Rm=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.hasOwnProperty(t))return i[t]}return null},Mm=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){Mm(t)}),0)}}(),Nm=function(e){return clearTimeout(e)},Om="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Mm:__webpack_require__.g.requestAnimationFrame||Mm,Dm="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Nm:__webpack_require__.g.cancelAnimationFrame||Nm,Lm=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},jm=null,Gm=function(e,t){var n=e.baseTag,i=e.bodyAttributes,r=e.htmlAttributes,s=e.linkTags,a=e.metaTags,o=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;Wm(tm.BODY,i),Wm(tm.HTML,r),Bm(d,h);var p={baseTag:zm(tm.BASE,n),linkTags:zm(tm.LINK,s),metaTags:zm(tm.META,a),noscriptTags:zm(tm.NOSCRIPT,o),scriptTags:zm(tm.SCRIPT,c),styleTags:zm(tm.STYLE,u)},f={},g={};Object.keys(p).forEach((function(e){var t=p[e],n=t.newTags,i=t.oldTags;n.length&&(f[e]=n),i.length&&(g[e]=p[e].oldTags)})),t&&t(),l(e,f,g)},Um=function(e){return Array.isArray(e)?e.join(""):e},Bm=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=Um(e)),Wm(tm.TITLE,t)},Wm=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var i=n.getAttribute(Am),r=i?i.split(","):[],s=[].concat(r),a=Object.keys(t),o=0;o<a.length;o++){var l=a[o],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===r.indexOf(l)&&r.push(l);var u=s.indexOf(l);-1!==u&&s.splice(u,1)}for(var d=s.length-1;d>=0;d--)n.removeAttribute(s[d]);r.length===s.length?n.removeAttribute(Am):n.getAttribute(Am)!==a.join(",")&&n.setAttribute(Am,a.join(","))}},zm=function(e,t){var n=document.head||document.querySelector(tm.HEAD),i=n.querySelectorAll(e+"["+Am+"]"),r=Array.prototype.slice.call(i),s=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var i in t)if(t.hasOwnProperty(i))if(i===am)n.innerHTML=t.innerHTML;else if(i===im)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var o="undefined"===typeof t[i]?"":t[i];n.setAttribute(i,o)}n.setAttribute(Am,"true"),r.some((function(e,t){return a=t,n.isEqualNode(e)}))?r.splice(a,1):s.push(n)})),r.forEach((function(e){return e.parentNode.removeChild(e)})),s.forEach((function(e){return n.appendChild(e)})),{oldTags:r,newTags:s}},qm=function(e){return Object.keys(e).reduce((function(t,n){var i="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+i:i}),"")},Hm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[pm[n]||n]=e[n],t}),t)},Vm=function(e,t,i){switch(e){case tm.TITLE:return{toComponent:function(){return function(e,t,i){var r,s=((r={key:t})[Am]=!0,r),a=Hm(i,s);return[n.createElement(tm.TITLE,a,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,i){var r=qm(n),s=Um(t);return r?"<"+e+" "+Am+'="true" '+r+">"+Cm(s,i)+"</"+e+">":"<"+e+" "+Am+'="true">'+Cm(s,i)+"</"+e+">"}(e,t.title,t.titleAttributes,i)}};case Zg:case $g:return{toComponent:function(){return Hm(t)},toString:function(){return qm(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,i){var r,s=((r={key:i})[Am]=!0,r);return Object.keys(t).forEach((function(e){var n=pm[e]||e;if(n===am||n===im){var i=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:i}}else s[n]=t[e]})),n.createElement(e,s)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,i){var r=Object.keys(i).filter((function(e){return!(e===am||e===im)})).reduce((function(e,t){var r="undefined"===typeof i[t]?t:t+'="'+Cm(i[t],n)+'"';return e?e+" "+r:r}),""),s=i.innerHTML||i.cssText||"",a=-1===bm.indexOf(e);return t+"<"+e+" "+Am+'="true" '+r+(a?"/>":">"+s+"</"+e+">")}),"")}(e,t,i)}}}},Qm=function(e){var t=e.baseTag,n=e.bodyAttributes,i=e.encode,r=e.htmlAttributes,s=e.linkTags,a=e.metaTags,o=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:Vm(tm.BASE,t,i),bodyAttributes:Vm(Zg,n,i),htmlAttributes:Vm($g,r,i),link:Vm(tm.LINK,s,i),meta:Vm(tm.META,a,i),noscript:Vm(tm.NOSCRIPT,o,i),script:Vm(tm.SCRIPT,l,i),style:Vm(tm.STYLE,c,i),title:Vm(tm.TITLE,{title:d,titleAttributes:h},i)}},Km=function(e){var t,i;return i=t=function(t){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.shouldComponentUpdate=function(e){return!Yg()(this.props,e)},i.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case tm.SCRIPT:case tm.NOSCRIPT:return{innerHTML:t};case tm.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,i=e.arrayTypeChildren,r=e.newChildProps,s=e.nestedChildren;return Sm({},i,((t={})[n.type]=[].concat(i[n.type]||[],[Sm({},r,this.mapNestedChildrenToProps(n,s))]),t))},i.prototype.mapObjectTypeChildren=function(e){var t,n,i=e.child,r=e.newProps,s=e.newChildProps,a=e.nestedChildren;switch(i.type){case tm.TITLE:return Sm({},r,((t={})[i.type]=a,t.titleAttributes=Sm({},s),t));case tm.BODY:return Sm({},r,{bodyAttributes:Sm({},s)});case tm.HTML:return Sm({},r,{htmlAttributes:Sm({},s)})}return Sm({},r,((n={})[i.type]=Sm({},s),n))},i.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Sm({},t);return Object.keys(e).forEach((function(t){var i;n=Sm({},n,((i={})[t]=e[t],i))})),n},i.prototype.warnOnInvalidChildren=function(e,t){return!0},i.prototype.mapChildrenToProps=function(e,t){var i=this,r={};return n.Children.forEach(e,(function(e){if(e&&e.props){var n=e.props,s=n.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[ym[n]||n]=e[n],t}),t)}(km(n,["children"]));switch(i.warnOnInvalidChildren(e,s),e.type){case tm.LINK:case tm.META:case tm.NOSCRIPT:case tm.SCRIPT:case tm.STYLE:r=i.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:a,nestedChildren:s});break;default:t=i.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:s})}}})),t=this.mapArrayTypeChildrenToProps(r,t)},i.prototype.render=function(){var t=this.props,i=t.children,r=km(t,["children"]),s=Sm({},r);return i&&(s=this.mapChildrenToProps(i,s)),n.createElement(e,s)},Pm(i,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),i}(n.Component),t.propTypes={base:Hg().object,bodyAttributes:Hg().object,children:Hg().oneOfType([Hg().arrayOf(Hg().node),Hg().node]),defaultTitle:Hg().string,defer:Hg().bool,encodeSpecialCharacters:Hg().bool,htmlAttributes:Hg().object,link:Hg().arrayOf(Hg().object),meta:Hg().arrayOf(Hg().object),noscript:Hg().arrayOf(Hg().object),onChangeClientState:Hg().func,script:Hg().arrayOf(Hg().object),style:Hg().arrayOf(Hg().object),title:Hg().string,titleAttributes:Hg().object,titleTemplate:Hg().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=Qm({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},i}(Qg()((function(e){return{baseTag:Tm([rm,hm],e),bodyAttributes:Im(Zg,e),defer:Rm(e,gm),encode:Rm(e,mm),htmlAttributes:Im($g,e),linkTags:Fm(tm.LINK,[um,rm],e),metaTags:Fm(tm.META,[lm,nm,sm,cm,om],e),noscriptTags:Fm(tm.NOSCRIPT,[am],e),onChangeClientState:xm(e),scriptTags:Fm(tm.SCRIPT,[dm,am],e),styleTags:Fm(tm.STYLE,[im],e),title:Em(e),titleAttributes:Im(em,e)}}),(function(e){jm&&Dm(jm),e.defer?jm=Om((function(){Gm(e,(function(){jm=null}))})):(Gm(e),jm=null)}),Qm)((function(){return null})));Km.renderStatic=Km.rewind;var Ym=__webpack_require__(184);const Jm=function(){const[e,t]=(0,n.useState)("guest");(0,n.useEffect)((()=>{const e=Wg.auth().onAuthStateChanged((e=>{e&&t(localStorage.getItem("username"))}));return()=>e()}));const i=Z(),r="/home/"+e;return(0,Ym.jsxs)("div",{className:"landing-header",children:[(0,Ym.jsx)(Km,{children:(0,Ym.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,Ym.jsxs)("div",{className:"landing-title",children:[(0,Ym.jsx)("img",{src:zg,alt:"Icon"}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]}),(0,Ym.jsxs)("div",{className:"landing-navigation",children:[(0,Ym.jsx)(Se,{to:r,style:{textDecoration:"none"},children:"Home"}),(0,Ym.jsx)("a",{onClick:()=>{window.scrollTo({top:1600,behavior:"smooth"})},children:"About"}),(0,Ym.jsx)("div",{children:"guest"==e?(0,Ym.jsxs)("div",{className:"signed-out",children:[(0,Ym.jsx)("button",{id:"login",onClick:()=>i("/login"),children:"Log In"}),(0,Ym.jsx)("button",{id:"signUp",onClick:()=>i("/signup/primary-information"),children:"Sign Up"})]}):(0,Ym.jsx)("div",{children:(0,Ym.jsx)("button",{id:"login",onClick:()=>{Wg.auth().signOut().then((()=>{alert("User signed out successfully."),localStorage.clear(),localStorage.setItem("username",""),i("/login")})).catch((e=>{alert("Error signing out:",e)}))},children:"Log Out"})})})]})]})},Xm=__webpack_require__.p+"static/media/CPE-logo.d54df236d7a841cbdff1.png",Zm=__webpack_require__.p+"static/media/CE-logo.7db5d5f3a40b743c4599.png";const $m=function(){return(0,Ym.jsxs)("div",{className:"footer",children:[(0,Ym.jsx)(Km,{children:(0,Ym.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})}),(0,Ym.jsxs)("div",{className:"company-logo",children:[(0,Ym.jsx)("div",{className:"logo",children:(0,Ym.jsx)("img",{src:zg,alt:"Icon"})}),(0,Ym.jsx)("div",{className:"title",children:"PORT4LIO"})]}),(0,Ym.jsxs)("div",{className:"text-content",children:[(0,Ym.jsxs)("div",{className:"links",children:[(0,Ym.jsx)("h4",{children:"Useful Links"}),(0,Ym.jsx)("p",{children:"\u2022 Our Projects"}),(0,Ym.jsx)("p",{children:"\u2022 FAQ's"}),(0,Ym.jsx)("p",{children:"\u2022 News and Updates"})]}),(0,Ym.jsxs)("div",{className:"contacts",children:[(0,Ym.jsx)("h4",{children:"Contacts"}),(0,Ym.jsx)("p",{children:"Address: aaaaaaaaaaaaaa"}),(0,Ym.jsx)("p",{children:"Email: aaaaa@gmail.com"}),(0,Ym.jsx)("p",{children:"Phone Number: +000 0000 0000"})]})]}),(0,Ym.jsxs)("div",{className:"footer-logos",children:[(0,Ym.jsx)("img",{src:Xm,alt:"CPE Logo"}),(0,Ym.jsx)("img",{src:Zm,alt:"CE Logo"})]})]})};const ev=__webpack_require__.p+"static/media/landing_main1.5155ea573a7cc4dcba8a9bf3a5ba3a78.svg";const tv=__webpack_require__.p+"static/media/landing_main2.f61ec6d4ac7838a52dde8d695fea13cc.svg";const nv=__webpack_require__.p+"static/media/landing_main3.b2b462c76992e82ae1362c7e312b17d0.svg";const iv=function(){const e=localStorage.getItem("username");console.log("userName:",e);const t="/home/"+e,n=Z();return(0,Ym.jsxs)("div",{children:[(0,Ym.jsx)(Km,{children:(0,Ym.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,Ym.jsxs)("div",{className:"wrapper-landing",children:[(0,Ym.jsx)(Jm,{}),(0,Ym.jsxs)("div",{className:"body",children:[(0,Ym.jsxs)("div",{className:"landing-main",children:[(0,Ym.jsxs)("div",{className:"main-content s1",children:[(0,Ym.jsxs)("div",{className:"content-text right",id:"content1-title",children:[(0,Ym.jsx)("h4",{children:"BS in Computer Engineering 3-4"}),(0,Ym.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa laboriosam  voluptates sed beatae?"})]}),(0,Ym.jsx)("div",{className:"content-image",children:(0,Ym.jsx)("img",{src:tv,alt:"banner"})})]}),(0,Ym.jsxs)("div",{className:"main-content s2",children:[(0,Ym.jsx)("div",{className:"content-image",children:(0,Ym.jsx)("img",{src:ev,alt:"banner"})}),(0,Ym.jsxs)("div",{className:"content-text",children:[(0,Ym.jsxs)("h4",{children:["Welcome to our OJT ",(0,Ym.jsx)("span",{style:{color:"#682c0e"},children:"PORT4LIO!"})]}),(0,Ym.jsx)("p",{children:"\u2022 Get to know our OJT experience"}),(0,Ym.jsx)("p",{children:"\u2022 Get to know our HTEs"}),(0,Ym.jsx)("div",{className:"button-container",children:(0,Ym.jsx)("button",{onClick:()=>{n(""===e||"guest"===e||null===e?"/login":t)},children:"Login"})})]})]}),(0,Ym.jsxs)("div",{className:"main-content s3",children:[(0,Ym.jsxs)("div",{className:"content-text right",children:[(0,Ym.jsxs)("h4",{children:["Start using ",(0,Ym.jsx)("span",{style:{color:"#682c0e"},children:"PORT4LIO"})," by creating your free account."]}),(0,Ym.jsx)("button",{onClick:()=>{n(""===e||"guest"===e||null===e?"/signup/primary-information":t)},children:"Sign Up"})]}),(0,Ym.jsx)("div",{className:"content-image",children:(0,Ym.jsx)("img",{src:nv,alt:"banner"})})]})]}),(0,Ym.jsxs)("div",{className:"landing-about",id:"target-section",children:[(0,Ym.jsx)("h3",{style:{paddingBottom:"40px"},children:"ABOUT:"}),(0,Ym.jsx)("h4",{style:{paddingBottom:"32px"},children:"On-The-Job-Training(OJT)"}),(0,Ym.jsx)("p",{style:{paddingBottom:"24px"},children:"is a practical approach to acquiring new competencies and skills needed for a job in a real, or close to a real, working environment."}),(0,Ym.jsx)("p",{style:{paddingBottom:"40px"},children:"It is often used to learn how to use particular tools or equipment in a live-work practice, simulated, or training environment."}),(0,Ym.jsx)("h4",{children:"On-The-Job-Training Adviser"}),(0,Ym.jsxs)("div",{className:"about-adviser",children:[(0,Ym.jsx)("div",{className:"adviser-image"}),(0,Ym.jsxs)("div",{className:"adviser-description",children:[(0,Ym.jsx)("p",{style:{paddingBottom:"40px"},children:(0,Ym.jsx)("b",{children:"Ma'am Angela Israel"})}),(0,Ym.jsx)("p",{children:"Adviser, BSCpE 3-4"}),(0,Ym.jsx)("p",{children:"CMPE 30213 On-The-Job-Training"}),(0,Ym.jsx)("p",{children:"(OJT 1)"})]})]})]})]})]}),(0,Ym.jsx)($m,{})]})},rv=()=>(0,Ym.jsxs)(Ym.Fragment,{children:[(0,Ym.jsxs)("nav",{className:"nav-container",children:[(0,Ym.jsx)(ke,{to:"/signup/primary-information",activeClassName:"active",children:(0,Ym.jsx)("p",{children:"1"})}),(0,Ym.jsx)(ke,{to:"/signup/personal-information",activeClassName:"active",children:(0,Ym.jsx)("p",{children:"2"})}),(0,Ym.jsx)(ke,{to:"/signup/done",activeClassName:"active",children:(0,Ym.jsx)("p",{children:"\u2713"})}),(0,Ym.jsx)("div",{className:"midline"})]}),(0,Ym.jsxs)("div",{className:"nav-label",children:[(0,Ym.jsx)("span",{children:"Primary Info"}),(0,Ym.jsx)("span",{children:"Personal Info"}),(0,Ym.jsx)("span",{children:"Done"})]}),(0,Ym.jsx)("div",{className:"blocker"})]}),sv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABZCAYAAACQeRI+AAAAAXNSR0IB2cksfwAABfhJREFUeJztnEFyGkcUhv/XgxNp5XExWmd8AuNlKlXALJICbSydwOgEiU8g6wS2TyD5BFE2hkoWg6BSWUo5gcdro6rZKU5o/iwGJCQjCYYeGtB8VdoIeN38vJnpfu/1EywJYdV1nU3VAFSFkJKAPgAQOBMgAvlbuXV+ZHueI8T2BACgUy/uADgExL37nYxAHCyDgMr2BDp17w0gv94vGgCID5HD7ra3v4i53TkTm4N3t719Eq9Tfvxtudl7ZXhKU2NNuE6t2IDI4Tw2NLgbNM+Pzc1qeuxdqoK5LzcHchhW3SkucfNYEa5TKzYA8Q2Ycp3NQsOAnZmx43GCF6ZMkaiasjULVoQTM96W2BJ5ZsrWLFgRjkDJoDVjP8IsWF/HrSqWhJNoOW1NjyXhBmemLJH825StWbAkHE9MWRLw4SyA9beDI4DxvHYIRrY2/FaEC47jWAN789oR4sDMjGbH2lM1aJ4fE3yX9vO0HF6yuhypNM9/YQqvIeRdpdVLG1UxwnIEMmvFBgX79+0oCMYC7JUtRUTGWQrhRnTqHu96XV/0nwTteO6HiglWauewLKJh1YRbJnLhUpILl5JcuJTkwqUkFy4lM63j/vxxq6QLAx9ULkS7pHIBQBS/u3wTxQVwmXniLYtawcCdLgl9N5wYj2MswPWli/DyfRzIJwAQGcSgE0MGsdNX0Q9/fJ463HWvcN2aV6VgH2DJxBddbhgD0gb4/r7dya3CXQlmJ4tkH0aashe0eu1Jr068x3W3vX0KwocrGgCI7wjC2+pUvvK4zvbWIUgrSd6lRXhU/nB+LX54zeO6295+LtoEKI2kquqKS48zUQSz7mgiGN3zrjzOQBHMuuMILx1LwWwRzJojfuen4g4uPU7kpe0prQyO/IzRPe6+yGvONWJ90X+qujXvAa/VUuHi0SNfUbjm2yjzOM6gpDDcqOfMhqKl+rJVhhA/j8elQcRVtioaVxnh4HFmHkcw0kSgL/pPys2eaHCXYGZFgIseTzp1z3j4iGA0uNDPbyaQwx3XVV+cU5PF0zbGA9DOxONE49WkrHtwHMcDytzlXbbHQ1bJmvLvd4SdN/rGylhtjUfAVYve3AfHi63/yGI8gbj5ciQlmQi36INpNg7CZeNxG4VbT84MT0Ov9niJcOYXwI5w4nHI4f/eTP7U6owHMKstl/jOpnM6+rXDqut2a17V2XROs3kYLXq8ZAGcBzFTkD9VU5ILl5JcuJTkwqUkFy4luXApyYVLSS5cSnLhUqKybgYwngvQ0n8Ocs9kLoBgTOJAs/+03OyJJoIscw0JEkmnvvUxq0zXrbmAmusrOK9l/mKftr7o7y4w1zBEokwv1VtzAa04qrTOG4n3IU1ou62JoNzsBYvONYwoZGlc/6snVmyPGB4NPwprru+I2gGkkpyLoC/DowEEY0DFgsEZwBMtg3bwIb5f7I3+Gb5k9/UKAsa2wyNBK44AvB3+rQCMFG+eQDGIs+FkEn2daux/sh072+WIYN9GPiCsum7WNc2K5KfszCeR2bDmLiwFGdZcv7BZCDNNe5LZPlUTxHfECZMC7Wzp1Is7jjinZtusTUZBsrvHXZG0oe3UvTCL0tluzasmNTDTtsWdD0I+FUCJF9hEo0pB9aTunQn5TkO3h0/UmRnrVP2CFs6cFQQSAYtdkAhQgsihgwI6da8N4AzgiVDiAvrR9zfE/Kvm+gP9yNUOShA+Q3IpWiv6FjCSTm2rgbETIzlToLmrtPrPeDXPuqOVxArfIDLRy+0hEbR6bZWUQUnuddMzfnowfR+3Bwf5HuPnVU/qxY/Zxa/WA4JRpXn+FON71azjV+vAeGvJS+GCVq89T+vFdedma8mv9gwn9a0jAfPzq2OQ8r7S+nxtr/3VJr/S/NxI07dyXSFxcFM03NWwJax5VSU8fMAPjLYmDm5r2HLv9j6sF3cc4CWBqqx5i6Ckeamc3SXYiJniIuG2WwIdH1SuM9aUCkJXBI+T0a97KIGJzafEQEpylMiZ9Jpcy60yHg+fjTel0sOmVBAdTZUEGvI/quSNSYkyHM0AAAAASUVORK5CYII=",av=__webpack_require__.p+"static/media/person (1).dc5a769ffd9e3beb5d0d.png",ov=__webpack_require__.p+"static/media/person (2).9cc89bc632f3330ac1c0.png",lv=__webpack_require__.p+"static/media/person (3).b794b0505f938ed2b0ec.png",cv=__webpack_require__.p+"static/media/person (4).404a4c9cd6eec19ec5da.png";const uv=function(){const[e,t]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),c=i.replace("@gmail.com","");return(0,Ym.jsxs)("div",{className:"sU-wrapper",children:[(0,Ym.jsxs)("div",{className:"sU-header",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h2",{children:"PORT4LIO"})]}),(0,Ym.jsxs)("div",{className:"sU-banner",children:[(0,Ym.jsx)("img",{id:"p1",alt:"banner",src:av}),(0,Ym.jsx)("img",{id:"p2",alt:"banner",src:cv}),(0,Ym.jsx)("img",{id:"p3",alt:"banner",src:lv}),(0,Ym.jsx)("img",{id:"p4",alt:"banner",src:ov})]}),(0,Ym.jsx)("div",{className:"container main",children:(0,Ym.jsxs)("form",{className:"sU-pI-container",onSubmit:async t=>{if(t.preventDefault(),o===s)try{const t=Wg.database().ref("Users/"+c),n=Wg.database().ref("UserNames/"+e),r=Wg.database().ref("UserData/"+e.replaceAll(",",""));await Wg.auth().createUserWithEmailAndPassword(i,s)&&(alert("Account Created Successfully"),localStorage.setItem("username",c),localStorage.setItem("uname",e),window.location.href="/signup/personal-information/"+c,t.set({name:e}),n.set("name"),r.set({name:e}))}catch(cl){alert(cl)}else alert("password does not match")},children:[(0,Ym.jsx)("div",{className:"pI-head",children:(0,Ym.jsx)("h3",{children:"Create an Account"})}),(0,Ym.jsx)("div",{className:"pI-navigation",children:(0,Ym.jsx)(rv,{})}),(0,Ym.jsxs)("div",{className:"pI-infos",children:[(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Name:"}),(0,Ym.jsx)("input",{id:"signup-name",type:"text",placeholder:"Last Name, First Name, Middle Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Email Address:"}),(0,Ym.jsx)("input",{id:"signup-email",type:"email",placeholder:"juandelacruz01@gmail.com",value:i,onChange:e=>r(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Password:"}),(0,Ym.jsx)("input",{id:"signup-password",type:"password",placeholder:"Password",value:s,onChange:e=>a(e.target.value)})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Confirm Password:"}),(0,Ym.jsx)("input",{id:"signup-c-password",type:"password",placeholder:"Confirm Password",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"sU-terms",children:[(0,Ym.jsx)("input",{type:"checkbox",required:!0,id:"terms"}),(0,Ym.jsxs)("p",{children:[" I agree to the ",(0,Ym.jsx)("a",{href:"",children:"terms & policy"})]})]})]}),(0,Ym.jsxs)("div",{className:"button-next",children:[(0,Ym.jsx)("button",{id:"next",type:"submit",children:"Create Account"})," "]}),(0,Ym.jsx)("div",{className:"sU-login",children:(0,Ym.jsxs)("p",{children:["Already have an account? ",(0,Ym.jsx)("a",{href:"/login",children:"Log in"})]})})]})})]})};const dv=function(){const e=Z(),t=localStorage.getItem("username"),i=localStorage.getItem("uname"),r=Wg.database().ref("Users/"+t),s=Wg.database().ref("UserData/"+i.replaceAll(",","")),a=Wg.database().ref("UserNames/"+i),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(""),[g,m]=(0,n.useState)(""),v=()=>{l(!o)};return(0,Ym.jsxs)("div",{className:"sU-wrapper",children:[(0,Ym.jsxs)("div",{className:"sU-header",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h2",{children:"PORT4LIO"})]}),(0,Ym.jsxs)("div",{className:"sU-banner",children:[(0,Ym.jsx)("img",{id:"p1",alt:"banner",src:av}),(0,Ym.jsx)("img",{id:"p2",alt:"banner",src:cv}),(0,Ym.jsx)("img",{id:"p3",alt:"banner",src:lv}),(0,Ym.jsx)("img",{id:"p4",alt:"banner",src:ov})]}),(0,Ym.jsxs)("div",{className:"container main",children:[(0,Ym.jsxs)("form",{className:"sU-pI-container",onSubmit:e=>e.preventDefault(),children:[(0,Ym.jsx)("div",{className:"sU-back",children:(0,Ym.jsx)("p",{onClick:()=>e(-1),children:"< Back"})}),(0,Ym.jsx)("div",{className:"pI-head",children:(0,Ym.jsx)("h3",{children:"Input Personal Information"})}),(0,Ym.jsx)("div",{className:"pI-navigation",children:(0,Ym.jsx)(rv,{})}),(0,Ym.jsxs)("div",{className:"pI-infos",children:[(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Student Number:"}),(0,Ym.jsx)("input",{id:"signup-student-number",type:"text",placeholder:"2021-00000-MN-0",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Company Name (HTE):"}),(0,Ym.jsx)("input",{id:"signup-email",type:"text",placeholder:"Ex. LexMeet Inc.",value:d,onChange:e=>h(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"Company Address:"}),(0,Ym.jsx)("input",{id:"signup-student-number",type:"text",placeholder:"Address",value:p,onChange:e=>f(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"pI-info",children:[(0,Ym.jsx)("p",{children:"OJT Hours:"}),(0,Ym.jsx)("input",{id:"signup-password",type:"text",placeholder:"Ex. 300 hours",value:g,onChange:e=>m(e.target.value),required:!0})]})]}),(0,Ym.jsxs)("div",{className:"button-next",children:[(0,Ym.jsx)("button",{onClick:""!=(d&&p&&g)?v:()=>{},id:"next",style:{marginTop:"40px"},children:"Finish"})," "]})]}),o&&(0,Ym.jsx)("div",{className:"modal",children:(0,Ym.jsxs)("div",{className:"modal-content",children:[(0,Ym.jsx)("p",{children:"Are you sure you want to submit this information?"}),(0,Ym.jsxs)("div",{className:"modal-buttons",children:[(0,Ym.jsx)("button",{onClick:t=>{t.preventDefault(),a.set(c),r.update({StudentNo:c,HTE:d,HTEAddress:p,OJTHours:g}),s.update({StudentNo:c,HTE:d,HTEAddress:p,OJTHours:g}),localStorage.setItem("username",""),localStorage.setItem("uname",""),v(),e("/signup/done")},className:"pI-modal-submit",children:"Submit"}),(0,Ym.jsx)("button",{onClick:()=>{v()},className:"pI-modal-cancel",children:"Cancel"})]})]})})]})]})};const hv=function(){const e=Z();return(0,Ym.jsxs)("div",{className:"sU-wrapper",children:[(0,Ym.jsxs)("div",{className:"sU-header",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h2",{children:"PORT4LIO"})]}),(0,Ym.jsxs)("div",{className:"sU-banner",children:[(0,Ym.jsx)("img",{id:"p1",alt:"banner",src:av}),(0,Ym.jsx)("img",{id:"p2",alt:"banner",src:cv}),(0,Ym.jsx)("img",{id:"p3",alt:"banner",src:lv}),(0,Ym.jsx)("img",{id:"p4",alt:"banner",src:ov})]}),(0,Ym.jsx)("div",{className:"container main",children:(0,Ym.jsxs)("div",{className:"sU-pI-container",children:[(0,Ym.jsx)("div",{className:"pI-head",children:(0,Ym.jsx)("h3",{children:"Create an Account"})}),(0,Ym.jsx)("div",{className:"pI-navigation",children:(0,Ym.jsx)(rv,{})}),(0,Ym.jsx)("div",{className:"account-created",children:(0,Ym.jsx)("h3",{children:"Account Created Successfully!"})}),(0,Ym.jsx)("div",{className:"button-next",children:(0,Ym.jsx)("button",{id:"next",onClick:()=>e("/login"),style:{marginTop:"40px"},children:"Proceed to Login"})})]})})]})};const pv=function(){return(0,Ym.jsx)("div",{className:"LN-navigation-holder",children:(0,Ym.jsx)("nav",{className:"LN-navbar",children:(0,Ym.jsxs)("ul",{className:"LN-ul",children:[(0,Ym.jsx)("li",{className:"LN-ul-li",children:(0,Ym.jsx)("a",{href:"/",children:"< Back"})}),(0,Ym.jsx)("div",{className:"LN-button-login",children:(0,Ym.jsx)("a",{href:"",children:"Log In"})}),(0,Ym.jsx)("div",{className:"LN-button-signup",children:(0,Ym.jsx)("a",{href:"/signup/primary-information",children:"Sign Up"})})]})})})},fv=__webpack_require__.p+"static/media/login-person1.3e2ab83ebcd0f7c63695.png",gv=__webpack_require__.p+"static/media/login-person2.1eacb4760d58be00a01d.png",mv=__webpack_require__.p+"static/media/star.294f6b2e180183468f18.png",vv=__webpack_require__.p+"static/media/arrow.ec802ac763bf6256557e.png";const _v=function(){return(0,Ym.jsxs)("div",{className:"LS-container",children:[(0,Ym.jsx)("div",{className:"LS-left-container",children:(0,Ym.jsxs)("div",{className:"LS-signin-banner",children:[(0,Ym.jsx)("span",{children:"Sign In to"}),(0,Ym.jsxs)("div",{className:"LS-logo",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon",width:"50px",height:"50px"}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]}),(0,Ym.jsx)("div",{className:"LS-signup-acc",children:(0,Ym.jsxs)("div",{className:"LS-p",children:["Don't have an account? ",(0,Ym.jsx)("a",{href:"/signup/primary-information",children:"Sign up here!"})]})})]})}),(0,Ym.jsx)("div",{className:"LS-right-container",children:(0,Ym.jsxs)("div",{className:"LS-icons",children:[(0,Ym.jsx)("img",{src:gv,alt:"Person 2",className:"icon person2",width:"200px",height:"200px"}),(0,Ym.jsx)("img",{src:fv,alt:"Person 1",className:"icon person1",width:"200px",height:"200px"}),(0,Ym.jsx)("img",{src:vv,alt:"Arrow",className:"icon arrow",width:"120px",height:"120px"}),(0,Ym.jsx)("img",{src:mv,alt:"Star",className:"icon star",width:"150px",height:"150px"})]})})]})};const yv=function(){const[e,t]=(0,n.useState)(""),[i,r]=(0,n.useState)("");return(()=>{const[e,t]=(0,n.useState)(null);(0,n.useEffect)((()=>{const e=Wg.auth().onAuthStateChanged((e=>{t(e)}));return()=>{e()}}))})(),(0,Ym.jsx)("div",{className:"RS-container",children:(0,Ym.jsxs)("form",{onSubmit:()=>{e&&i&&e.includes("@")?(alert("Login Successful!"),t(""),r("")):(alert("Login not Successful"),t(""),r(""))},children:[(0,Ym.jsxs)("div",{className:"RS-input-container",children:[(0,Ym.jsx)("input",{type:"email",className:"RS-email",id:"RS-email",name:"RS-email",placeholder:"Enter Email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,Ym.jsx)("input",{type:"password",className:"RS-password",id:"RS-password",name:"RS-password",placeholder:"Password",value:i,onChange:e=>r(e.target.value),required:!0})]}),(0,Ym.jsx)("input",{type:"submit",className:"RS-submit",value:"Sign In",onClick:async t=>{t.preventDefault();try{if(await Wg.auth().signInWithEmailAndPassword(e,i)){const t=e.replace("@gmail.com","");localStorage.setItem("username",t);const n=Wg.database().ref("Users/"+t);n.child("name").on("value",(e=>{localStorage.setItem("User",e.val())})),alert("Login Successfully"),window.location.href="/home/"+t}}catch(cl){alert("Authentication failed: ".concat(cl))}}})]})})};const bv=function(){return(0,Ym.jsx)("div",{className:"LN-page",children:(0,Ym.jsxs)("div",{className:"LN-big-container",children:[(0,Ym.jsx)(pv,{}),(0,Ym.jsxs)("div",{className:"LN-split-container",children:[(0,Ym.jsx)(_v,{}),(0,Ym.jsx)(yv,{})]})]})})};const Av=function(){const e=window.location.href;var t=0;t=e.includes("/student-portfolio")?1:e.includes("weekly-reports")?2:e.includes("/company-profiles")?3:e.includes("/assessments")?4:0;const[i,r]=(0,n.useState)("guest"),[s,a]=(0,n.useState)("guest");(0,n.useEffect)((()=>{const e=Wg.auth().onAuthStateChanged((e=>{e&&(r(localStorage.getItem("username")),a(localStorage.getItem("profile")))}));return()=>e()}));const[o,l]=(0,n.useState)(t),c=Z(),u=[{title:"Home",urlPath:"/home/"+i,magicColor:"#c24914"},{title:"Student Portfolio",urlPath:"/student-portfolio/"+i,magicColor:"#c24914"},{title:"Weekly Reports",urlPath:"/weekly-reports/"+i,magicColor:"#c24914"},{title:"Company Profiles",urlPath:"/company-profiles/"+i,magicColor:"#c24914"},{title:"Assessments",urlPath:"/assessments/"+i,magicColor:"#c24914"}];return(0,Ym.jsxs)("div",{className:"header",children:[(0,Ym.jsxs)("div",{className:"title-header",children:[(0,Ym.jsx)("img",{src:zg,alt:"Icon",onClick:()=>c("/")}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]}),(0,Ym.jsx)("div",{className:"navigation",children:u.map(((e,t)=>o===t?(0,Ym.jsx)(ke,{to:"".concat(e.urlPath),style:{textDecoration:"none",color:"".concat(e.magicColor),fontWeight:"700"},className:"p mb-0",role:"button",onClick:()=>l(t),children:e.title},t):(0,Ym.jsx)(ke,{to:"".concat(e.urlPath),style:{textDecoration:"none",color:"black",fontWeight:"700"},className:"p mb-0",role:"button",useS:!0,onClick:()=>l(t),children:e.title},t)))}),(0,Ym.jsx)("div",{children:"guest"==i?(0,Ym.jsx)("div",{className:"button-log",id:"login",children:(0,Ym.jsx)("button",{onClick:()=>c("/login"),children:"Log In"})}):(0,Ym.jsx)("div",{className:"button-log",id:"logout",children:(0,Ym.jsx)("button",{onClick:()=>{Wg.auth().signOut().then((()=>{alert("User signed out successfully."),localStorage.clear(),localStorage.setItem("username",""),c("/login")})).catch((e=>{alert("Error signing out:",e)}))},children:"Log Out"})})})]})},wv=__webpack_require__.p+"static/media/blank-profile.6dc4b82c86e5a5178bfc.png";function Pv(e){let{uname:t}=e;const[i,r]=(0,n.useState)(wv);return Lg(jg(Bg,"students_files/".concat(t.replaceAll(",",""),"/").concat(t.replaceAll(",","")," - 2X2 Picture"))).then((e=>{r(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,Ym.jsx)("div",{children:(0,Ym.jsx)("img",{src:i,id:"sP-profile"})})}const Sv=function(){localStorage.setItem("profile","");const e=Z(),t=t=>{e("/student-portfolio/profile/"+t.replaceAll(" ","_"))},[i,r]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async()=>{try{const e=Wg.database().ref("UserNames"),t=(await e.once("value")).val();if(t){const e=Object.keys(t).map((e=>e));r(e)}}catch(cl){console.error("Error fetching data:",cl)}})()}),[]),(0,Ym.jsxs)("div",{className:"wrapper-sP",children:[(0,Ym.jsx)(Av,{}),(0,Ym.jsxs)("div",{className:"sP-first-section",children:[(0,Ym.jsxs)("div",{className:"sP-text",children:[(0,Ym.jsxs)("h1",{children:["Welcome to the ",(0,Ym.jsx)("span",{style:{color:"#c24914"},children:"STUDENT PORT4LIO"})]}),(0,Ym.jsx)("p",{children:"This part contains links to individual students where you may access to view their OJT Documents and Supporting Photos. You may click their respective image or button to be redirected to the page containing the documents and photos."})]}),(0,Ym.jsxs)("div",{className:" sP-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsx)("div",{className:"sP-second-section",children:(0,Ym.jsx)("div",{className:"grid-container",children:i.map(((e,n)=>(0,Ym.jsxs)("div",{className:"grid-item",onClick:()=>(e=>{var n=e.replaceAll(",","");localStorage.setItem("user",e),localStorage.setItem("profile",n.replaceAll(" ","_")),t(n)})(e),children:[(0,Ym.jsx)("a",{href:"",children:(0,Ym.jsx)("div",{className:"grid-image",children:(0,Ym.jsx)(Pv,{uname:e})})}),(0,Ym.jsx)("p",{className:"grid-text",children:e})]},n)))})}),(0,Ym.jsx)($m,{})]})},kv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABh2SURBVHhe7d3ZkhxFlgBQtAMS0D0G8znzPl887/M78DBsYpNgbiijoEqVe7p7+HU/x6zNI83aulURd4slIz8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDtPFlXYED/+99f/7VuXuW//uc7NQIGJbmhc7c28a0YHqBvEhQ2lLW5l2JIgO1IPqhs9iZ/LcMB1CXBoCDNvi5DAZQjmeBKmn0fDAVwHYkDZ9DsczEUwGmSBPbQ8MdiIIDHJAUEDX8uBgIwADApDZ/7DATMSNAzDU2fcxgGmIVAZ2iaPrcwDDAywc1QNHxqMQwwGgFNepo+rRkGGIEgJiVNn14YBshK4JKKxk/PDANkIljpnqZPRoYBeidA6ZKmzygMAvRKYNIVjZ+RGQboiWBkc5o+szEI0ANByGY0fjAMsB2BR3MaPzxmEKA1AUcTmj6cxyBAKwKNqjR+uJ5hgJoEF1Vo/FCOQYAaBBVFafxQj0GAkgQTRWj80I5BgBIEETfR+GE7BgFuIXi4isYP/TAIcA1Bw0U0fuiXQYBLCBbOovFDHgYBziFIOErjh7wMAhwjONhL44cxxBDwPJb3u0/wDwMAD2j8MCZXA/iYgODOk2j+f67bdKr3Im6A7J9BgDsCAUW7E7MUZvHWB4MAAmBiCnF7iu5xYrI9MTkvB35CimwbCmsZ4rU+sTonB30u7vNXooC2ZSioQxzPxcGehIJZjiLZJzFejhifg4M8OEXxdophTmL/NuJ+fA7wwBTA6yh8Y5IP15EP43JgB6TQXU6Rm4scuUzkx6tYft99YhSK3lheRGGTpGfS9LljIDiPnBmLgzkIBew0xYtzyKXT5NIYHMTkFKvjFCpuIb8Ok1v5OYCJKU77KUzUIN/2k295OXAJKUSPRRF6Gov9QhNy8CFDQE4OWjIKz0MKD1uSjw/Jx1wcrCQUmn8oMvRIju7IzzwcqAQUlh2FhQzk64587Z8D1LdXUUx+XbenpIiQ2ezDgPztm4PTKYVD4WAcM+dz5PLLWP7YfaInimyHJi8WYpKRPY38fr9uT0Vu98cB6cisjT8Kg6/wMZ0Z890Q0BcHoxOKAcxpttyPvP8ilp92n9iSAry951EApro/pvHDYxMOAurAxhyADUl44GMz1YWoCW7/bUhB3shkSS7O4EJqBLXZ6e1Nc8lfUsPtZhkE1Iv27PCGJDJwrRnqh9rRlp3diOQFShi9lkQdeRPLz7tP1KRg1/ckEvbPdXtIkbDPYhn6b4TODP9CIScU9dnBFTnrB2qa4GqA+lKRnVuJxKQ358akY5vPyPUm4tFvCVQi0SsYPBnFTGe2ijex0B+1h0vYoWUN+xW/SD73+TvQe4FXpLvwLOLk3bo9FPFVlp1ZzpeRdN+v20ORdNsZ4YxO/GxjhNjZRzyVY0cWINEoZdRYuiOm2hsxpiKOvEK4AMl4o0GT63ksU/5m+RZGb/qHGAaaGu5rgxE/r2N5u/vENSTgDQZt/mKigVmb/iHirg01i/vsuOsM97CfJGpD4z9OHLYxWhyKm+vYaRcyQXMpTf864rIuQwB22AUkDJfQ+MsQp3WNFKcRKx4OvIDEOpPmz7k0/jrEbD2DDQHeHHgmCXWGwZLDMa9E429DDNczSgxHjHwVyw+7TxwikU7Q/DlF49+GeK5DzZuHnXPYMK/TjCRwX6yOYV/9nEXE9otYhnzt7dZGGQQMAYfZMft9GsH/y7qdmuCvY6SzpBGI8zoMAWOzUz4yUMD78Z4KNP6+KfRVDHE1VGw8ZofcY9rlGM0/h4h/t7wqGCH+1caH7IyV5s8hGn9OcqG8QYYAA+JKgoRBgtol/wo0/9wMAVU8ibxIXWvUy51lEpraIM1/KXKaf1mfaf75rcfwze4ThfyVfbCKuFh+GXH5BsnUpp6OB2r+FKTxj0mulJc9VyImPo9liG98XWPahBggcN3HqkDzH5shoIrUtwQiJv4Vy/e7T3OZ8hbAAM1/KWIaVVnLV53s08Gtx3i5/0s5qW8JREz8Xyzf7D7NZbZpeISHV5zBlPc64uKndZsJRB59GcuPu0+Ukn2Inq2+zvTHZr9M9TqWt7tPlJK9YHEbA3UVqQfqmWJilj80e/N3v78CzZ+FIaCOzPk1S0zM8Ec+jUBcvvKRkuJUh+bPffKsDkNA30Z/CHB5sEvz5wHNn4+JiToy17AZYmLkBpP6Byw0/zoUeo6Rd9V8Ebn3w7qdysgxMeoflrb5R7C9jMVvzFeg+XMOQ0A1zyMHU9a2UWNixD/qZQTZb+t2KgpPPZo/l5CL9WTNxRFjYrQ/SPPnEc2fa8jJegwBfRjpj8l82V+hqUTz5xZysx5DwPZG+UM0fx7R/ClBjtZjCNjWCF8DXF7yk675RwB9o7BUtfzKF5SwvIWTCpYaGP/5j/VjGqOcXGRvQCnf8BcB77W+daX+Cij9iZxdfkAo9e+IdO5V5Oyv63Ya2U/iMv/jszb/F7FoThWNMp3Tl+zFPoGUg3vmuEj7D89Y5CNQvNO/Ms2fmgwB9SWt7SnjIuUzAIkDRHOqSPOnNjFWX9Jm+vW6ppJuADAdcsCbdYXaPGBaWbaaGX3p21i+3H3KI9tO1vzZy5kZLcnrNrLldcTFZ7GkeZgxTRBr/hyi+bMF+d1GwiEgzYPeKQJY8+cQzZ8tyfM2Eg4BKR747v4ZAM0fYG7Zamr0rRRfUe96p2r+HOPsnx7I+XYSXgnoOja6/cdp/hyj+dMTud+OIaCcXm8B/Htd01AAAOrLVmt7Hlh63JGfxg77Zd1OQfNvy9k/PVIH2nIl4Ha9XQF4qvlzwvN1hd6IzYZcCbhdVzvQRMcpzv7pmZrQnr5xvW6uADiInKL50zsx2l7CWtzNq6S7GAA0fwCulakmR7/7OZYubhdtvtM0f87hzIpM1IltZKoTPcTIplcANH8ASkl2JWDz/rfZztL8OZezfzJSM7bjSsB5troCsPxaUhoSGSAPVwLOs8lOMp1xLmf/ZKZ+bEuvOa75FQAHBIAWktXw1+vaTNOdk6z5L8ORs88NOftnBE4kNvckakmKn+eNWHkWS7N/a7MrAMma//KMguYDkN9fUdNfrttdiz75ft1soskAkKz5v4nl3e4TAAP4I2p780vs12jZL1sMAKme+A/LW5rYWKahEY4Ry914G0PAN+t211rFTPUBIP6Q39fN7kVwuFcHMK7v1rV7LYaAqgNApslX8++HMyZGI6b7kazWV312odoAoPkD0KMsNT/66G/rZhVVBgDNH4CeJRoCqvXTGgPAZ+vaPc2/Py6VMiqx3Z/Zh4DiA0D8Q9+um12LA5/t2wkAFJalF9QYAooOAMkmXN/1ByBTLyg6rBS7/JGp+bv036dkAyRcRf3pU5b6UzJ+ilwB0PwByCxLbyjZb0sMAMuPF6Sg+QNwyGxDwM0DQPxDUtw/iQObZlABYBvRK4o/HF/J5+t6tZv+0ET3TP4VS4qfg5xVpttIcAux3r3l1wO/XLe7FXF08+/WXD0AJAvi79cVAE75cV27dmsfvnYAyHKJxH1/AC6WpXfcMgRc1cjj//D9utk1zR+AayXqIVe9gffiPy7Lpf84cMtw415bAsluJ0ERTlDSeBI1qvtnyK6Jp4uuACQr1JoKALdK0Uuu6c+XDABpplWTNQClZOkplw4BZw8AGS6BLDR/AEpL1FterutJZw0AWS79xwG66JYGAJwrQ4+Jfv3bunnSyT8mS/NfZfq3EpLFFxQj9lNKcczOja1hzphd+gegtiy95pwh4OgAkGVC1fwBaGWUnnNwAEjU/Ie5igFADhl6z6k+PkLzTDGoADCUFL3n2BCwdwBw6R8AjkvUg/b+Ox8NAJo/AJwnQy+Kvr73PT4fDwAj3BIAAO7Zd3L/oOHHf8Gv/AHABRL1pGfr+sHfA4BL/wBwnSS3At6tmx+45M9msgydUIscoLX7MfdhAHD2DwC3SdSjPvw7n2r+AFBGklsBH74V4BYAAExmOflPMQA4+wcgiyw9yxUAAJjQ0yT3KzwpC0AKWXrWhysAMQS4EgAAk1hO/u8af/fTiqsAAPQuQ6+6O+n/+8zfrQAAuF6iHvXh3/ng0n8MAS/XTaguw9AJNckBWrsfcx/f+/9jXbvlKgAAvUly6f/5uvnBxwNAionUEABALxL1pAe/+PtoAFjEEPDgJwMBgLz2ndzvHQDCh/cE98xVAAC2luTS/95ef2gAcCsAAI5I1IP2/jsPDgCLQ1NDZzxFC0BrKXrPsZP5Uw2+++kmJrDub1cAMJYMvefUlfyTZ/huBQDAP0bpOWdd4jcEAECeXnNO3z77Hn/8j322bvas+0GFhzIMl1CD2E8pxTE7N7Yuecjv13XtVoZ7MgDklKHHRPN/tW6edMkAkGJidSsAgNIS9Zbf1/WkiwaAhSEAgJlk6SmX9ueLB4BEUtyrAaBrKXrJNSfnVw0ASa4CeB4giQzxBCWJ+Twy9JKIp8/XzYtcfQUgyRDgVgAAV0nUQ35Z14vcdAsghoDubyEYAgC4VJbeccvJ+K0NPEtz/WpdAeCUL9a1a7deiS9yGT/DpBQ76lksngvomKs1zCDD7dPJPY1a9H7d7lbE0etY3u4+XafIJfwMAZ3hgAKwrUS94qbmvyh2Dz+GAM8DAJBWlh5R6qS7ZNP+K/5R3d83MQQA8LHZmv+i9Fn7T+vaNUNAnzLcSoJbiPE+JWr+L9bNIopftk8U4M/XFYB5ZeoF79a1iCr37TMMATHx/bFuAjCpLL2gRl+t9uBe/GO7n6rcCuhPoitIcBGx3Z9El/6rxE61ASCk+CqFIQBgPrM3/0XNASDNxGsIAJhHoub/at2souoAsDAEcKksMQPnEtP9SFbrf1/XKqoPAAtDAAAd+Hpdu9eibzYZABbxxyzv4s/gqt9VpixnTIxCLHfjdZzkfbtud61VzDQbAMKf8Ud9uW53KwLk51i8IwBgHC+itqd4UV3LgbHlALD4cV27FoGyfC/U1A6Q35Oo6VXvpZcSzb/plfLWA0Cay2ERMH46eGNZYgUOEcPby1LLI1bexNL039p8AFgkGgI8FAiQVLIavtx+bmrTRpzl4Jjit2UQIyN1Y1uZ6sZWsbLJFYA78Udv+v9/Lg0IIA/N/zxbN+C/4o9/vW53zRCwHWdSZCNmt6P5n6+HM/C369o9QwBAvzT/y3RxCT7TtGwI2IYzKrIQq9tI1vy7eNdMN/fgDQEAXCNZ81/eNtvFr+V29RCeIYBjnFnROzHaXsJa/Mu6bq6rAWBhCOCYiA+vaaZLYrO9bDW4t/7W3QCwMARwRBeXzmAPsdmQ5n+7LgeAReysLL8eaAhoLNOAyBzEZFuafxndDgBh+fXAV+t29wwBAPVp/uX0PAAsfo+d1/1PCN8xBLTjjIteiMV2NP+yeh8AFj/GTvxm3e6eIaAdhZeticF2NP/yMgwAi+/WNQVDAEA5CZt/it6aZQBIN2kbAtpwBsZWxF4bCZv/i1hS/JvTDAALQwD7KMS0JubaSNj8P4vl3e5T/1INAAtDAPtEXLxZN6GqiLXlVa5UlrD5fxXLr7tPOaQbABaGAPb4eV2htm5e5TqqhM1/eVD9h92nPFIOAIukQ4DLhhVliwnyEWP1JT1hSvWg+p20A8Ai4RDwZyzeF16RAk0tYqu6Zxmbf+a4SD0ALBIOAX/E4h5iRREThiyKiphK82rypF5FbUzz8Nyd7ENh+gFgkXAIWO5Xf737RAXvIyYMWRQRsbQ8YLpcvaOOf0dNTPXw3CJ781+k/wPuc/mI+zLGA/2Ro/VkzdFRYmK4wDYEcJ8hgFvIzXo0/+0NGdyGAO4zBHANOVmP5t+HYQPcEMB9hgAuIRfr0fz7McRDgPtkPFhrYizvkaYwBZ1ziZVqnmv+fRk+0AUc97kSwDHyrpovIvfSvSlvMXJMTBHshgDuMwSwj3yrI3O+jR4T0wS8IYD7DAHcJ8/q0Pz7NlXQGwK4zxDAQn7Vofn3b9iHAPfJelDXRPJmu8IUfsRAFa81/xymDH7ByUc+jZjwE68TiTx6Hcvb3SdKyVxbF7PV12mbiSGAjzyNmHi/bjOwyJ/lh32827+w5DX1P2P5dvdpHlM3kuQBu9y+ST1t9yj7GQzHGZ6reBJ5k3agipj4KpaUX1G81fTJkL3gK2jlGQLGJFfKG6B+Ls9WTXv7T0IEQwB7fBZx4R7xACI/lp/zXX6Cm4IGqJsvY/lj92lOGsdqgGB2X7OC7HExO8NxFakv+S/Uyx3Jcc8IxV7BK88QkJNcKG+QGun5qZUE+YghgEMMAjmI/zrUxvHYGfstL7L4ad1OKQLdJa4KDAF9U+CreBZx/27dTktsPGaHHCboOcgg0BdxXscocS4+9rNTThghASL43fOqw8uDNhax/TwWx6ACzX98dswZJALHjBIf2YjnOkaKZzFynJ1zJkMApxgE2hDD9QxU56Z9u98lJNIFTMacwyBQh5itZ7DaNv0Lfs4loS5kCOBcBoEyxGldg9U0zztdQGJd500kzY/rdnoKbF0GgeuIy7pGi0vxcjk77HpDfE3wjuRpwzBwnDhsQ/NnYafdSCJxDYPAQ+KujRHjTuxcz44rYMAhwHerG5p1GFC4mxrunRURP69j8YudN5CAhZisKWH0YUBMtTdobfKwXwGSsawvItmG++6por2dEYq3+NnGqMOkeCrHjizveSTecN9BjaTz40Id6L2oK85dGOoB5fvEV1l2ZiWmb1rZKtbEQn9GrTsL8VaeHVqRZKQn58ajY5vP4LXGm/0qkej1DflcwB3NArYzcuNfqC912bltPIlEHfb+eSSp5wOgreF/ilrzr88Obsi0DtxqgjryJpafd5+oScFubPTkXRgEoDy1g9Ls7G18Gsn8y7o9LMkMt5uh8S/Ui/bs8A1JbOCQWerDQo3Yhp2+MUkO3DdZTfBK3w0pyH0Y8u2BhxgE4LGZGv9CHdieA9ARBQDmM2HefxHLT7tPbEkB7sxsxWDhMiAzmjTX9ZyOOBh9GvrFQccoEAxu+Bf4HCK3++OAdGzGM4Q7igUjmTyXvcu/U4ps52YuHAuDAJnJX/nbMwcnidkLyUIxIQO5uiNf++cAJaKw7Cgs9Eh+7sjPPByohBSafyg2bEkuPiQfc3GwklJ4HorC46uENCP/HtL4c3LQklOIHlOMqEGu7Sff8nLgBqAwHaY4cQu5dZjcys8BHIhidZyCxTnk0WlyaQwO4mAUr/MpYtyRN+eRM2NxMAeloF1GYZuL/LhM5MeLWN7tPjEKRW9s0753/BaGgTFp+teRD+NyYCeg8N1GAcxJ3N9G3I/PAZ6IgliGwtgn8V2OGJ+DgzwZRbIOBbMtcVyHOJ6Lgz0pBbQ+xbQMsVqfWJ2Tgz45xbUthfY48diemJyXA8/iSRTeP9dtNjJLIdbk+6DxIwD4m8Lcv96Lthjqn8bPHYHAI4o4jEfj52MCgoMMApBfNP5nsbjFxyMGAE4yCEBOzvo5RnBwNoMA5KDxcw5BwqX8vgB0SuPnEoKFq7gaAP3Q+LmGoOFWrgjARjR+biF4KMUgAI1o/JQgiCjNWwWhEo2fkgQT1XhOAMrQ+KlBUFGdQQCuo/FTk+CiGYMAnKbp04pAozmDADym8dOagGNThgFmp/GzFYFHFwwCzETTpweCkK4YBBiZxk9PBCPdMgwwAk2fXglMUjAMkI3GT+8EKKkYBOiZpk8mgpW0DAP0QNMnK4HLEAwDtKTpMwJBzHAMA9Sg6TMaAc3QDAPcQtNnZIKbaRgGOIemzywEOtMyEHBH02dGgh6CYWAuGj4YAGAvA8FYNHx4TFLAGQwEuWj4cJokgSsZCvqg2cN1JA4UZCioS7OHciQTNGAwuJxmD3VJMNjQ7IOBJg/bkXzQuaxDguYOfZOgMLBbhwdNHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgOI++eT/AT6ep/LLyclsAAAAAElFTkSuQmCC",Cv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA5ISURBVHhe7d1hUhtHGsdhgXMETrNxvPtxOTH5uItJ5TIcYW1WAwMRAYE00zPT3f/nqUokXGVXgsHvT++oxxc7YDG311ffx6dfx0dOczf869vN/W+PHwHFCQBYyDj8Df557kQALEMAQGHD4P/5sLu4vNj9Ov4QM+w/l3/sP5cPQgDKEgBQkFf9i7INgIIEABRi+K9CBEAhAgAKMPxXJQKggMvxEZhhuOY/PmVhPtdQhm8kmMmr/03YAsBMAgBmMPw3JQJgBpcAACCQDQBM5NV/FWwBYCIbAAAIJAAAIJAAAIBA3gMAE7j+XxXvA4AJbAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAl2Mj3C22+ur7+PTVF/HR7Z1Nz5G+nZz/9v4FM4iADjJkWFvAML23gSQKOAUAoAPHQx+wx7a8RgFQoCPCACOGoe/wQ/tuhMBHONNgLzL8IcufP2v9+pwhA0ArwyD/8fD7vLLxe4f4w8Bjdt/T/+5/57+YRvAIQHAC6/6oXsuCfBCAPDI8IcYIoBH3gMAAIFsAPDqH/LYAiAA0hn+EEsEhHMJAAAC2QAE8+of4tkCBLMBAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAI5O8CCOfvA4BY/h6AcDYAABDIBgBbAMjj1T8CgCciAGIY/jxyCQAAAtkA8MIWALrn1T8vBACviADoluHPKwKAN0QAdMfw5w0BwLtEAHTD8OddAoCjRAA0z/DnKAHAh/7z76u7y4vdr+OHQCN+Puz++Nfv9wKeoxwD5EP74f8wPgUa4nuXz9gA8CmXAqA5Vv98SgBwEhEAzTD8OYkA4GQiAKpn+HMyAcBZRABUy/DnLAKAs4kAqI7hz9kEAJOIAKiG4c8kAoDJ3CMAtuWsP3O4DwCTOWcM2/I9yBw2AMziUgBsxuqfWQQAs4kAWJ3hz2wCgCJEAKzG8KcIAUAxIgAWZ/hTjACgKBEAizH8KUoAUJwIgOIMf4oTACzCPQKgDGf9WYr7ALAI55OhDN9LLMUGgMW4FACzWf2zGAHAokQATGb4sygBwOJEAJzN8GdxAoBViAA4meHPKgQAqxEB8CnDn9UIAFYlAuAow59VCQBW5x4B8Jqz/mzBfQBYnXPN8JrvCbZgA8AmXAqAF1b/bEIAsBkRAIY/2xEAbEoEEMzwZ1MCgM2JAAIZ/mxOAFAFEUAQw58qCACqIQIIYPhTDQFAVdwjgF45609t3AeAqjgPTa98bVMbGwCq41IAHbL6pzoCgCqJADpi+FMlAUC1RAAdMPyplgCgaiKAhhn+VE0AUD0RQIMMf6onAGiCCKAhhj9NEAA0wz0CqJ2z/rTEfQBohnPU1M7XKC2xAaApLgVQMat/miIAaI4IoEKGP80RADRJBFARw58mCQCaJQKogOFPswQATRMBbMjwp2kCgOaJADZg+NM8AUAX3COAtTjrTy/cB4AuOH/NWnyt0QsbALrhUgArsPqnGwKArogAFmT40xUBQHdEAAsw/OmOAKBLIoCCDH+6JADolgigAMOfbgkAuiYCmMHwp2sCgO65RwDnctafBO4DQPec2+ZcvmZIYANABJcCOIPVPxEEADFEACcw/IkhAIgiAviA4U8UAUAcEcA7DH/iCAAiiQAOGP5EEgDEEgHsGf7EEgBEc4+AXM76k859AIjmvHcuv/ekswEgnksBkaz+iScAYE8ERDH8YU8AwEgERDD8YSQA4IAI6JrhDwcEAPyNCOiS4Q9/IwDgHSKgK4Y/vEMAwBHuEdA+Z/3hOPcBgCOcE2+f30M4zgYAPuBSQNOs/uEDAgA+IQKaZPjDJwQAnEAENMXwhxMIADiRCGiC4Q8nEgBwBhFQNcMfziAA4EwioEqGP5xJAMAE7hFQD2f9YRr3AYAJnC+vh98LmMYGACZyKaAKVv8wkQCAGUTApgx/mEEAwEwiYBOGP8wkAKAAEbAqwx8KEABQiAhYheEPhQgAKEgELMrwh4IEABTmHgHlOesP5bkPABTmXHp5PqdQng0ALMClgKKs/mEBAgAWIgKKMPxhIQIAFiQCZjH8YUECABYmAiYx/GFhAgBWIALOYvjDCmYHwP4Ptuh35+7/oBJRnEQEnMTw52Tmz7z5M+snp3/yn4kATuUeAcc56885zJ8nc+aP+wDAipxnP87nBtYlAGBF43r77ukjDlj9w8oEAKxMBLxh+MMGBABsQAS8MPxhIwIANiICDH/YkgCADQVHgOEPGxMAsLHACDD8oQICACowDMThHPz4YbeG/0fDH+ogAKASCefgnfWHeggAqETApQCrf6iIAICKdBwBhj9URgBAZTqMAMMfKiQAoEIdRYDhD5USAFCpDiLA8IeKCQCoWMMRYPhD5QQAVG4YpC3dI8BZf2iDAIAGtHR+3ll/aIMAgAY0dCnA6h8aIQCgEQ1EgOEPDREA0JCKI8Dwh8YIAGhMhRFg+EODBAA0qKIIMPyhUQIAGlVBBBj+0DABAA0bBvAW9whw1h/aJwCgcVucu3fWH9onAKBxG1wKsPqHDggA6MCKEWD4QycEAHRihQgw/KEjAgA68hwBD7tybwwcfy3DHzojAKAzw6D+58391/3TEtuAu+HXMvyhPwIAOvW8DRj/OdfjzzP4oV8X4+Mkt9dXjgLt7f+QnPV5hKXtv1e/j08PDVuCwZtAMPipnfnzZM78EQAFCABa9BwFhj0tMn+ezJk/LgFAqGHwG/6QSwAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQ6GJ8nOT2+uphfAoArOzbzf3kOW4DAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAS6GB8nu72+ehifAgAr+XZzP2uG2wAAQCABAACBBAAABBIAABBIAABAoNmnAAZOAgDAeuaeABjYAABAIAEAAIGKXAIYuAwAAMsrsf4f2AAAQCABAACBil0CGLgMAADLKbX+HxTdAOz/w76MTwGAgvYz9pfxaRGlLwH8HB8BgLJ+jI9FFL0E8MylAAAop+Tq/5k3AQJAoEU2AANbAACYb4lX/4PFAmAgAgBguqWG/2DRABiIAAA435LDf7D4ewBKH1sAgN6tMTsX3wCMvtxeX/1vfA4AHDEO/6JH/t6zVgA8cjkAAI5beu1/aNUAGIgAAHhrzeE/WD0ABiIAAP6y9vAfbBIAz4QAAMm2GPzPNg2A0eU+BBZ/swMA1GKtN/p9pIYAeGQbAECCLV/1H6omAA6JAQB6UsvQP1RlABwSAwC0qMah/5fd7v9KYbbW8kJ5HQAAAABJRU5ErkJggg==",Ev="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAACCCAYAAABlwXvDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYhSURBVHgB7d3tldtEFMbxfzh8Jx1kqCBLBYgO0kFEBYQKLCogqcBLBQkVrKkgUIGVChIqCL6RbXwWdn1HmpFG0vM75568rJKVRlczV6ORF0RERERERERERERERERERERERERE5ucJ6/L0GOEYl3/36RimPf7+T1Zk6clQHeLmEN8ffw3Es4RoD/HXIXbHkBmwK7w+xN0hPh7ic4aw//ft8fsEpDgV3QnKlQCPxfb4/WViFV0v8LmA2NP1FjKyinKSQEkxkUC5SXA/3qOaIpufmKYmGBobJJnAfHqDh2KPeonBKubZGzyUEC8oWMmTTjYsvCadD3QTSKdJpFNcenoRN8d4TtqrujnEL4jbhjRX4+4Qrxh+MgPdHcIu0X5tEJehiWDDSkN3decQ6BJjD0qInIYkgp2cmnHVDEsKJcQD+iZC7p7Aw4aivkmhhLjHquw+DbmjnFu2QPd8pM9xvES+CPS7qhrK1NCvdwtIdCJYw1WUzW5JY4/Ltp9yqJvchvgGu2EeAvEJ8SsrFYhPhMC8BOITomKFYhppzmNqIG5K/T0rUxN3tRQ9p+9QEXe8r1iRmF6hYRnsBMf0hKsoJmv8jbJjWe5Y30XwqJheIbAsAX/9sPjeoUZXRsxwUbNQFV2l7GmEPctmx+dpB2uvioUIdBNLsauVapatJq49LHm2zHTYrOi/bnHpvcJJ3+V8s0kKK3hsSvXzgNiyDg3D2ylQqIrhq38sAutgF87QtrL2Lm5CbsPwA7PYsS53pGm3DYXYkuaALGrWpSJd203+xDNlIuxZp5TvhWyZyNBC8TJaVvZw5kJN9y7HbHuIDcNPvr0gU7Py1T0XAl0xeMvwQny0CyvQbwetO7QEqBAPW9F1S/9hpGIEfbLWkqDkHiBQrkCXFLFtbucpa5tveuxQRdlOx7ShbBXxF2JDJiFyZ/aUP4FkL/de7vNLyhaIXy6YpXfYsKxECPx3PLY/l776OlDASjHvDsxh8Wrg4ePJPtYmEJhwkUyNPxPnMF9wx+PHcEf5YhbJJH1+4X2HcE/5NviOZQ4vtFxL6lO8IyFvl1RTtvsF47V4Sdkq/EPFqN9wT9kC8RM4cygovcd09Ti+4jpvY/xOuQJdlxpbSNn2bym7oPzNuV11bQNPMgR8ko5LiW3pf4cT6BKiVDvndoEE7IrydEOlXj0b4oaGuRWUgRGLSG8ylCi2YJxrQenZ9x0JeJJhT3kCaROh5ILS2n9wMnhqhjkK5Jk4mkNBmZWnZyhtmPC+udU3ciTaEEmGCU/P8AmfZ5RhQ/6uvKKcgtJ7rFfPoycZPuDzHdOzgrFhHK8o4zlMcG7XkkCNrxt6zbQCeYeGUgvKLb59rUngBn/DTFlY5a4THoqpP4Npj28/rybt11xny7htvLl2ou3rp9W9U3iDL/u/wXc1t/iGyClnXmt8w0TSH9h6iy/7LEtLv+2qGbFbzczbK2w9/5l3nuHWuV1gvS/DjG2Dv3hM/hAx5vFvRblq5t8zeOu4U2/tEjMD+SZiW+uWApJDIO4papYfgWS1QEzvYBkZKE/NfHuG2A8oz3oOYhZhWnykvBqiZp7J0OfnetZkdhe5Q6dqNlCGmnklQ0W/Nt8zgkD/l0FtrEu6bLuHmvKTwYbkiv6f7NLr3RXPpNN97SF+pt8HQ7zg32TY0U2E/P3I9u9IOFlSgIrH77Se0Z1Eqw2GzNdY0dgyooZ+WTt1V1c7v3dNemNMmTf0NGRxS4N+cmus3LOzdj4aehq60qlBCVGKQYlgUix7a+hqCJmGPYSy9m8YKNUaSFvL8C0jFy3ypb1/INFakpQLYlu6hNCwkZ/1BtbO1t7J7rZyrI5u6HbS+9qX+F0mQUNiuZbKt3S3ZrbTPx7iD2QIaz+rC05J4F2kHKXPpFOMlm4thEWgm3C5OcZzrt9qZTnoCbVcnxm0Y7YVVju6IeAdI7VD7mS41PL/i2TCI/9maclgxV545OstExozGR7Ssi4thVrq63XSg5JBzpQMcqZkkDMlg5wpGeRMySBnSgY5UzLImZJBztaYDN7nHUt7LnLVE9apuvL1pJ9nICIiIiIiIiIiIiIiIiIiIiIiIiIi+fwDQfqzEaoSOF8AAAAASUVORK5CYII=",xv=__webpack_require__.p+"static/media/upload-done.8b732e63998782ea00f4.png",Iv=e=>{let{highlightedText:t}=e;const i=(0,n.useRef)(null),r=(0,n.useRef)(null),s=(0,n.useRef)(null),a=(0,n.useRef)(null),[o,l]=(0,n.useState)(),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!0),[p,f]=(0,n.useState)(!1),[g,m]=(0,n.useState)(null),v=localStorage.getItem("profile");Lg(jg(Bg,"students_files/".concat(v.replaceAll("_"," "),"/").concat(v.replaceAll("_"," ")," - ").concat(t))).then((e=>{m(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,n.useEffect)((()=>{null!=g&&f(!0)}));const _=e=>{const t=new FileReader;t.onload=t=>{const n=t.target.result;if(e.type.startsWith("image/")||e.type.startsWith("text/")){const t=document.createElement(e.type.startsWith("image/")?"img":"div");t.src=n,t.style.maxWidth="100%",t.style.maxHeight="180px",a.current.innerHTML="",a.current.appendChild(t),e.type.startsWith("image/")&&(r.current.src=xv,s.current.style.display="none")}else"application/pdf"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?(r.current.src=xv,a.current.innerHTML='<a href="'.concat(n,'" download="').concat(e.name,'">Download ').concat(e.name,"</a>")):a.current.innerHTML="<p>Preview not available for this file type.</p>"},t.readAsDataURL(e)};return(0,n.useEffect)((()=>{const e=r.current,t=e=>{e.preventDefault(),e.stopPropagation(),u(!0)},n=e=>{e.preventDefault(),e.stopPropagation(),u(!1)},i=e=>{e.preventDefault(),e.stopPropagation()},s=e=>{e.preventDefault(),e.stopPropagation(),u(!0);const t=e.dataTransfer.files;t.length>0&&(l(t[0]),_(t[0]))};return e.addEventListener("dragenter",t),e.addEventListener("dragover",i),e.addEventListener("dragleave",n),e.addEventListener("drop",s),()=>{e.removeEventListener("dragenter",t),e.removeEventListener("dragover",i),e.removeEventListener("dragleave",n),e.removeEventListener("drop",s)}}),[]),(0,Ym.jsxs)("div",{className:"FC-container ".concat(c?"dragging":""),children:[(0,Ym.jsxs)("div",{className:"FC-hover",children:[(0,Ym.jsx)("img",{ref:s,src:Ev,className:"FC-img",width:"80px",height:"80px",alt:"Upload icon"}),(0,Ym.jsx)("div",{ref:a,children:(0,Ym.jsxs)("p",{children:["Drag and Drop ",(0,Ym.jsx)("span",{className:"text-highlighted",children:t})," here or"]})}),(0,Ym.jsx)("input",{type:"file",className:"FC-input-file",onChange:e=>{const t=e.target.files[0];l(t),t&&(_(t),h(!1))},ref:i,style:{display:"none"}}),(0,Ym.jsxs)("div",{className:"FC-buttons",children:[(0,Ym.jsx)("button",{className:"FC-openbtn",onClick:()=>{i.current.click()},children:"Select"}),(0,Ym.jsx)("button",{className:"FC-uploadbtn",onClick:()=>{if(o){h(!0);try{const e=localStorage.getItem("User").replaceAll(",","");(function(e,t,n){return Eg(e=kt(e),t,n)})(jg(Bg,"students_files/".concat(e,"/").concat(e," - ").concat(t.replaceAll(".",""))),o).then((e=>{Lg(e.ref).then((e=>{console.log(e),alert("File successfully uploaded.")}))}))}catch(cl){alert("Authentication failed: ".concat(cl))}}},disabled:d,children:"Upload"})]})]}),(0,Ym.jsxs)("div",{className:"FC-front",children:[(0,Ym.jsx)("img",{ref:r,src:p?xv:Ev,className:"FC-img",width:"80px",height:"80px",alt:"Upload icon"}),(0,Ym.jsx)("p",{className:"text-highlighted",children:t})]})]})};__webpack_require__(9853);const Tv=localStorage.getItem("profile"),Fv=localStorage.getItem("User");var Rv="";function Mv(){const e=Z();return window.scrollTo({top:0,behavior:"instant"}),(0,Ym.jsxs)("div",{className:"sPr-header",children:[(0,Ym.jsx)("div",{className:"sPr-back",children:(0,Ym.jsx)("p",{onClick:()=>e(-1),children:"< Back"})}),(0,Ym.jsxs)("div",{className:"sPr-title",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]})]})}function Nv(e){let{pic:t,name:i,sNumber:r,company:s,ojtHours:a}=e;const[o,l]=(0,n.useState)(r),[c,u]=(0,n.useState)(s),[d,h]=(0,n.useState)(a),p=localStorage.getItem("username"),f=localStorage.getItem("user"),g=Wg.database().ref("Users/"+p),m=Wg.database().ref("UserData/"+f.replaceAll(",","")),v=Wg.database().ref("UserNames/"+f),[_,y]=(0,n.useState)(!1),b=()=>{y(!1)};return console.log(localStorage.getItem("User")),(0,Ym.jsxs)("div",{className:"sPr-content",children:[(0,Ym.jsx)("div",{className:"sPr-content-image",children:t}),(0,Ym.jsxs)("div",{className:"sPr-content-text",children:[(0,Ym.jsx)("h3",{children:i}),(0,Ym.jsxs)("p",{children:["Student No.: ",r]}),(0,Ym.jsx)("p",{children:"CYS: BSCpE 3-4"}),(0,Ym.jsxs)("p",{children:["HTE: ",s]}),(0,Ym.jsxs)("p",{children:["OJT Hours: ",a]}),(0,Ym.jsx)("div",{children:Rv!=i.replaceAll(",","").replaceAll(" ","_")?"":(0,Ym.jsx)("button",{onClick:()=>{y(!0),l(r),u(s),h(a)},children:"Edit Info"})})]}),_?(0,Ym.jsx)("div",{className:"eP-wrapper",children:(0,Ym.jsxs)("div",{className:"eP-container",children:[(0,Ym.jsx)("div",{className:"eP-header",children:"Edit Information"}),(0,Ym.jsxs)("div",{className:"eP-content",children:[(0,Ym.jsxs)("div",{className:"eP-info",children:["Student Number: ",(0,Ym.jsx)("input",{type:"text",defaultValue:r,onChange:e=>l(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"eP-info",children:["Company Name: ",(0,Ym.jsx)("input",{type:"text",defaultValue:s,onChange:e=>u(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"eP-info",children:["Rendered Hours: ",(0,Ym.jsx)("input",{type:"text",defaultValue:a,onChange:e=>h(e.target.value),required:!0})]}),(0,Ym.jsxs)("div",{className:"eP-profile",children:[(0,Ym.jsx)("p",{children:"Profile Picture:"}),(0,Ym.jsx)(Iv,{highlightedText:"2X2 Picture"})]}),(0,Ym.jsxs)("div",{className:"eP-buttons",children:[(0,Ym.jsx)("button",{className:"eP-Cancel",onClick:b,children:"Close"}),(0,Ym.jsx)("button",{onClick:e=>{e.preventDefault(),v.set(o),g.update({StudentNo:o,HTE:c,OJTHours:d}),m.update({StudentNo:o,HTE:c,OJTHours:d}),b(),window.location.reload()},children:"Update"})]})]})]})}):""]})}function Ov(e){let{fileName:t}=e;const[i,r]=(0,n.useState)(null);return Lg(jg(Bg,"students_files/".concat(Tv.replaceAll("_"," "),"/").concat(Tv.replaceAll("_"," ")," - ").concat(t))).then((e=>{r(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,Ym.jsx)(Ym.Fragment,{children:null==i?"":(0,Ym.jsx)("a",{className:"Ud-text",href:i,target:"_blank",children:(0,Ym.jsxs)("div",{className:"Ud-container",children:[(0,Ym.jsx)("div",{className:"Ud-text",children:t}),(0,Ym.jsxs)("div",{className:"Ud-icons",children:[(0,Ym.jsx)("img",{src:kv,width:"18px",height:"18px",className:"Ud-view"}),(0,Ym.jsx)("img",{src:Cv,width:"18px",height:"16px",className:"Ud-download"})]})]})})})}Fv&&(Rv=(Rv=Fv.replaceAll(",","")).replaceAll(" ","_"));const Dv=function(){const[e,t]=(0,n.useState)("LN, FN MN"),[i,r]=(0,n.useState)("2021-00000-MN-0"),[s,a]=(0,n.useState)("Company Name"),[o,l]=(0,n.useState)("000 Hours"),[c,u]=(0,n.useState)(wv),[d,h]=(0,n.useState)(!1);return Lg(jg(Bg,"students_files/".concat(Tv.replaceAll("_"," "),"/").concat(Tv.replaceAll("_"," ")," - 2X2 Picture"))).then((e=>{u(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,n.useEffect)((()=>{const e=Wg.database().ref("UserData/"+Tv.replaceAll("_"," "));e.child("name").on("value",(e=>{t(e.val())}));e.child("StudentNo").on("value",(e=>{r(e.val())}));e.child("HTE").on("value",(e=>{a(e.val())}));e.child("OJTHours").on("value",(e=>{l(e.val())}))})),(0,Ym.jsxs)("div",{className:"wrapper-sPr",children:[(0,Ym.jsx)(Mv,{}),(0,Ym.jsxs)("div",{className:"sPr-first-section",children:[(0,Ym.jsx)("div",{children:(0,Ym.jsx)(Nv,{pic:(0,Ym.jsx)("img",{src:c,id:"profile-pic"}),name:e,sNumber:i,company:s,ojtHours:o})}),(0,Ym.jsx)("div",{className:"container",children:(0,Ym.jsxs)("div",{className:" sPr-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"last third"})]})})]}),(0,Ym.jsx)("div",{className:"sPr-second-section",children:Rv!=Tv?(0,Ym.jsxs)("div",{children:[(0,Ym.jsx)(Ov,{fileName:"Memorandum of Agreement"}),(0,Ym.jsx)(Ov,{fileName:"Waiver"}),(0,Ym.jsx)(Ov,{fileName:"HTE Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Performance Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Letter of Endorsement"}),(0,Ym.jsx)(Ov,{fileName:"Letter of Intent"}),(0,Ym.jsx)(Ov,{fileName:"Daily Time Report"}),(0,Ym.jsx)(Ov,{fileName:"Consent Form"}),(0,Ym.jsx)(Ov,{fileName:"Medical Certificate"}),(0,Ym.jsx)(Ov,{fileName:"Adviser Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Completion Certificate"})]}):(0,Ym.jsxs)("div",{className:"sPr-documents",children:[0==d?(0,Ym.jsxs)("div",{children:[(0,Ym.jsx)(Ov,{fileName:"Memorandum of Agreement"}),(0,Ym.jsx)(Ov,{fileName:"Waiver"}),(0,Ym.jsx)(Ov,{fileName:"HTE Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Performance Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Letter of Endorsement"}),(0,Ym.jsx)(Ov,{fileName:"Letter of Intent"}),(0,Ym.jsx)(Ov,{fileName:"Daily Time Report"}),(0,Ym.jsx)(Ov,{fileName:"Consent Form"}),(0,Ym.jsx)(Ov,{fileName:"Medical Certificate"}),(0,Ym.jsx)(Ov,{fileName:"Adviser Evaluation"}),(0,Ym.jsx)(Ov,{fileName:"Completion Certificate"})]}):(0,Ym.jsxs)("div",{children:[(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Memorandum of Agreement"}),(0,Ym.jsx)(Iv,{highlightedText:"Waiver"}),(0,Ym.jsx)(Iv,{highlightedText:"HTE Evaluation"}),(0,Ym.jsx)(Iv,{highlightedText:"Performance Evaluation"})]}),(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Company Display Picture"}),(0,Ym.jsx)(Iv,{highlightedText:"Letter of Endorsement"}),(0,Ym.jsx)(Iv,{highlightedText:"Letter of Intent"}),(0,Ym.jsx)(Iv,{highlightedText:"Daily Time Report"})]}),(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Consent Form"}),(0,Ym.jsx)(Iv,{highlightedText:"Medical Certificate"}),(0,Ym.jsx)(Iv,{highlightedText:"Adviser Evaluation"}),(0,Ym.jsx)(Iv,{highlightedText:"Completion Certificate"})]})]}),(0,Ym.jsx)("div",{}),(0,Ym.jsx)("div",{className:"sPr-edit-docs",children:(0,Ym.jsx)("button",{onClick:()=>h(!d),children:0==d?"Edit/Upload Documents":"Done"})})]})}),(0,Ym.jsx)($m,{})]})};const Lv=function(){return(0,Ym.jsxs)("div",{className:"wrapper-home",children:[(0,Ym.jsx)(Av,{}),(0,Ym.jsxs)("div",{className:"first-section",children:[(0,Ym.jsx)("div",{className:"home-text-container",children:(0,Ym.jsxs)("div",{className:"home-text",children:[(0,Ym.jsxs)("h1",{children:["Welcome to our ",(0,Ym.jsx)("span",{style:{color:"#c24914"},children:"PORT4LIO"})," website"]}),(0,Ym.jsx)("p",{children:"We are the third-year Computer Engineering students in section 4 at Polytechnic University of the Philippines. Have a glimpse of our On-the-Job Training (OJT) 1."})]})}),(0,Ym.jsxs)("div",{className:" home-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsxs)("div",{className:"second-section",children:[(0,Ym.jsx)("div",{className:"home-ojt",children:(0,Ym.jsxs)("div",{className:"row0",children:[(0,Ym.jsxs)("div",{className:"home-ojt-text",children:[(0,Ym.jsx)("h4",{children:"On-The-Job-Training (OJT)"}),(0,Ym.jsx)("p",{children:"is a practical approach to acquiring new competencies and skills needed for a job in a real, or close to a real, working environment."}),(0,Ym.jsx)("p",{children:"It is often used to learn how to use particular tools or equipment in a live-work practice, simulated, or training environment."})]}),(0,Ym.jsx)("div",{className:"home-image",style:{backgroundColor:"#dac0a3"}})]})}),(0,Ym.jsxs)("div",{className:"ojt-adviser",children:[(0,Ym.jsxs)("div",{className:"row2",children:[(0,Ym.jsx)("h4",{children:"On-The-Job-Training-Adviser"}),(0,Ym.jsx)("div",{className:"img"})]}),(0,Ym.jsxs)("div",{className:"row3",children:[(0,Ym.jsxs)("div",{className:"adviser-container",children:[(0,Ym.jsx)("div",{className:"image"}),(0,Ym.jsxs)("div",{className:"home-ojt-text2",children:[(0,Ym.jsx)("p",{style:{paddingBottom:"32px"},children:(0,Ym.jsx)("b",{style:{color:"#c24914"},children:"Ma'am Angela Israel"})}),(0,Ym.jsx)("p",{children:"Adviser, BSCpE 3-4"}),(0,Ym.jsx)("p",{children:"CMPE 30213 On-The-Job-Training"}),(0,Ym.jsx)("p",{children:"(OJT 1)"})]})]}),(0,Ym.jsx)("div",{className:"home-image",style:{backgroundColor:"#eadbc8"}})]})]})]}),(0,Ym.jsx)($m,{})]})};function jv(e){let{uname:t}=e;const[i,r]=(0,n.useState)(wv);return Lg(jg(Bg,"students_files/".concat(t.replaceAll(",",""),"/").concat(t.replaceAll(",","")," - 2X2 Picture"))).then((e=>{r(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,Ym.jsx)("div",{children:(0,Ym.jsx)("img",{src:i,id:"sP-profile"})})}const Gv=function(){localStorage.setItem("profile","");const e=Z(),t=t=>{e("/weekly-reports/weekly-report/"+t.replaceAll(" ","_"))},[i,r]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async()=>{try{const e=Wg.database().ref("UserNames"),t=(await e.once("value")).val();if(t){const e=Object.keys(t).map((e=>e));r(e)}}catch(cl){console.error("Error fetching data:",cl)}})()}),[]),(0,Ym.jsxs)("div",{className:"wrapper-wR",children:[(0,Ym.jsx)(Av,{}),(0,Ym.jsxs)("div",{className:"wR-first-section",children:[(0,Ym.jsxs)("div",{className:"wR-text",children:[(0,Ym.jsxs)("h1",{children:["Welcome to the ",(0,Ym.jsx)("span",{style:{color:"#c24914"},children:"WEEKLY REPORTS"})]}),(0,Ym.jsx)("p",{children:"This part shows sections of the google drive folders which includes the pdf files of each student containing their Weekly Progress Reports from Week 1 to Week 6."})]}),(0,Ym.jsxs)("div",{className:" wR-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsx)("div",{className:"wR-second-section",children:(0,Ym.jsx)("div",{className:"grid-container",children:i.map(((e,n)=>(0,Ym.jsxs)("div",{className:"grid-item",onClick:()=>(e=>{var n=e.replaceAll(",","");localStorage.setItem("user",e),localStorage.setItem("profile",n.replaceAll(" ","_")),t(n)})(e),children:[(0,Ym.jsx)("a",{href:"",children:(0,Ym.jsx)("div",{className:"grid-image",children:(0,Ym.jsx)(jv,{uname:e})})}),(0,Ym.jsx)("p",{className:"grid-text",children:e})]},n)))})}),(0,Ym.jsx)($m,{})]})},Uv=localStorage.getItem("profile"),Bv=localStorage.getItem("User");var Wv="";function zv(){const e=Z();return window.scrollTo({top:0,behavior:"instant"}),(0,Ym.jsxs)("div",{className:"sPr-header",children:[(0,Ym.jsx)("div",{className:"sPr-back",children:(0,Ym.jsx)("p",{onClick:()=>e(-1),children:"< Back"})}),(0,Ym.jsxs)("div",{className:"sPr-title",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]})]})}function qv(e){let{pic:t,name:i,sNumber:r,company:s,ojtHours:a}=e;const[o,l]=(0,n.useState)(r),[c,u]=(0,n.useState)(s),[d,h]=(0,n.useState)(a),p=localStorage.getItem("username"),f=localStorage.getItem("user");Wg.database().ref("Users/"+p),Wg.database().ref("UserData/"+f.replaceAll(",","")),Wg.database().ref("UserNames/"+f);return(0,Ym.jsxs)("div",{className:"sPr-content",children:[(0,Ym.jsx)("div",{className:"sPr-content-image",children:t}),(0,Ym.jsxs)("div",{className:"sPr-content-text",children:[(0,Ym.jsx)("h3",{children:i}),(0,Ym.jsxs)("p",{children:["Student No.: ",r]}),(0,Ym.jsx)("p",{children:"CYS: BSCpE 3-4"}),(0,Ym.jsxs)("p",{children:["HTE: ",s]}),(0,Ym.jsxs)("p",{children:["OJT Hours: ",a]})]})]})}function Hv(e){let{fileName:t}=e;const[i,r]=(0,n.useState)(null);return Lg(jg(Bg,"students_files/".concat(Uv.replaceAll("_"," "),"/").concat(Uv.replaceAll("_"," ")," - ").concat(t))).then((e=>{r(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,Ym.jsx)(Ym.Fragment,{children:null==i?"":(0,Ym.jsx)("a",{className:"Ud-text",href:i,target:"_blank",children:(0,Ym.jsxs)("div",{className:"Ud-container",children:[(0,Ym.jsxs)("div",{className:"Ud-text",children:["Weekly Report - ",t]}),(0,Ym.jsxs)("div",{className:"Ud-icons",children:[(0,Ym.jsx)("img",{src:kv,width:"18px",height:"18px",className:"Ud-view"}),(0,Ym.jsx)("img",{src:Cv,width:"18px",height:"16px",className:"Ud-download"})]})]})})})}Bv&&(Wv=(Wv=Bv.replaceAll(",","")).replaceAll(" ","_"));const Vv=function(){const[e,t]=(0,n.useState)("LN, FN MN"),[i,r]=(0,n.useState)("2021-00000-MN-0"),[s,a]=(0,n.useState)("Company Name"),[o,l]=(0,n.useState)("000 Hours"),[c,u]=(0,n.useState)(wv),[d,h]=(0,n.useState)(!1);return Lg(jg(Bg,"students_files/".concat(Uv.replaceAll("_"," "),"/").concat(Uv.replaceAll("_"," ")," - 2X2 Picture"))).then((e=>{u(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,n.useEffect)((()=>{const e=Wg.database().ref("UserData/"+Uv.replaceAll("_"," "));e.child("name").on("value",(e=>{t(e.val())}));e.child("StudentNo").on("value",(e=>{r(e.val())}));e.child("HTE").on("value",(e=>{a(e.val())}));e.child("OJTHours").on("value",(e=>{l(e.val())}))})),(0,Ym.jsxs)("div",{className:"wrapper-sPr",children:[(0,Ym.jsx)(zv,{}),(0,Ym.jsxs)("div",{className:"sPr-first-section",children:[(0,Ym.jsx)("div",{children:(0,Ym.jsx)(qv,{pic:(0,Ym.jsx)("img",{src:c,id:"profile-pic"}),name:e,sNumber:i,company:s,ojtHours:o})}),(0,Ym.jsx)("div",{className:"container",children:(0,Ym.jsxs)("div",{className:" sPr-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"last third"})]})})]}),(0,Ym.jsx)("div",{className:"sPr-second-section",children:Wv!=Uv?(0,Ym.jsxs)("div",{children:[(0,Ym.jsx)(Hv,{fileName:"Week 1"}),(0,Ym.jsx)(Hv,{fileName:"Week 2"}),(0,Ym.jsx)(Hv,{fileName:"Week 3"}),(0,Ym.jsx)(Hv,{fileName:"Week 4"}),(0,Ym.jsx)(Hv,{fileName:"Week 5"}),(0,Ym.jsx)(Hv,{fileName:"Week 6"}),(0,Ym.jsx)(Hv,{fileName:"Week 7"}),(0,Ym.jsx)(Hv,{fileName:"Week 8"}),(0,Ym.jsx)(Hv,{fileName:"Week 9"}),(0,Ym.jsx)(Hv,{fileName:"Week 10"}),(0,Ym.jsx)(Hv,{fileName:"Week 11"}),(0,Ym.jsx)(Hv,{fileName:"Week 12"})]}):(0,Ym.jsxs)("div",{className:"sPr-documents",children:[0==d?(0,Ym.jsxs)("div",{children:[(0,Ym.jsx)(Hv,{fileName:"Week 1"}),(0,Ym.jsx)(Hv,{fileName:"Week 2"}),(0,Ym.jsx)(Hv,{fileName:"Week 3"}),(0,Ym.jsx)(Hv,{fileName:"Week 4"}),(0,Ym.jsx)(Hv,{fileName:"Week 5"}),(0,Ym.jsx)(Hv,{fileName:"Week 6"}),(0,Ym.jsx)(Hv,{fileName:"Week 7"}),(0,Ym.jsx)(Hv,{fileName:"Week 8"}),(0,Ym.jsx)(Hv,{fileName:"Week 9"}),(0,Ym.jsx)(Hv,{fileName:"Week 10"}),(0,Ym.jsx)(Hv,{fileName:"Week 11"}),(0,Ym.jsx)(Hv,{fileName:"Week 12"})]}):(0,Ym.jsxs)("div",{children:[(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Week 1"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 2"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 3"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 4"})]}),(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Week 5"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 6"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 7"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 8"})]}),(0,Ym.jsxs)("div",{className:"sPr-row",children:[(0,Ym.jsx)(Iv,{highlightedText:"Week 9"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 10"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 11"}),(0,Ym.jsx)(Iv,{highlightedText:"Week 12"})]})]}),(0,Ym.jsx)("div",{}),(0,Ym.jsx)("div",{className:"sPr-edit-docs",children:(0,Ym.jsx)("button",{onClick:()=>h(!d),children:0==d?"Upload Weekly Reports":"Done"})})]})}),(0,Ym.jsx)($m,{})]})};function Qv(e){let{image:t,name:n,description:i,vision:r,mission:s}=e;return(0,Ym.jsxs)("div",{className:"company",children:[(0,Ym.jsx)("div",{className:"company-image",children:(0,Ym.jsx)("img",{children:t})}),(0,Ym.jsxs)("div",{className:"company-description",children:[(0,Ym.jsx)("h3",{children:(0,Ym.jsx)("b",{children:n})}),(0,Ym.jsx)("p",{children:i}),(0,Ym.jsx)("h4",{children:"Our Vision"}),(0,Ym.jsx)("p",{children:r}),(0,Ym.jsx)("h4",{children:"Our Mission"}),(0,Ym.jsx)("p",{children:s})]})]})}const Kv=function(){const[e,t]=(0,n.useState)(!1),i=()=>{t(!0)};return(0,Ym.jsxs)("div",{className:"wrapper-cP",children:[(0,Ym.jsx)(Av,{}),(0,Ym.jsxs)("div",{className:"cP-first-section",children:[(0,Ym.jsxs)("div",{className:"cP-text",children:[(0,Ym.jsxs)("h1",{children:["Welcome to the ",(0,Ym.jsx)("span",{style:{color:"#c24914"},children:"COMPANY PROFILES"})]}),(0,Ym.jsx)("p",{children:"This part includes everything related to the Companies that each student applied to. This also includes Companies and Webinar platforms."})]}),(0,Ym.jsxs)("div",{className:" cP-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsxs)("div",{className:"cP-second-section",children:[(0,Ym.jsxs)("div",{className:"cP-add-company",children:[(0,Ym.jsx)("p",{children:"Your company ain't listed yet?"}),(0,Ym.jsx)("button",{onClick:i,children:"Add Your Company Description"})]}),e?(0,Ym.jsx)("div",{className:"eP-wrapper",children:(0,Ym.jsxs)("div",{className:"cP-container",children:[(0,Ym.jsx)("div",{className:"eP-header",children:"Company Profile"}),(0,Ym.jsxs)("div",{className:"cP-content",children:[(0,Ym.jsxs)("div",{className:"cP-left-content",children:[(0,Ym.jsxs)("div",{className:"cP-textarea",children:[(0,Ym.jsxs)("div",{className:"cP-input",children:["Vision",(0,Ym.jsx)("textarea",{placeholder:"Write Company Vision here..."})]}),(0,Ym.jsxs)("div",{className:"cP-input",children:["Mission",(0,Ym.jsx)("textarea",{placeholder:"Write Company Mission here..."})]})]}),(0,Ym.jsx)("div",{className:"cP-input",children:(0,Ym.jsx)("input",{type:"text",placeholder:"Company Website link (if there is)"})})]}),(0,Ym.jsxs)("div",{className:"cP-right-content",children:[(0,Ym.jsxs)("div",{className:"cP-company-profile",children:[(0,Ym.jsx)("p",{children:"Company Display Picture"}),(0,Ym.jsx)(Iv,{highlightedText:"Company Display Picture"})]}),(0,Ym.jsxs)("div",{className:"cP-button",children:[(0,Ym.jsx)("button",{className:"cP-Cancel",onClick:()=>{t(!1)},children:"Close"}),(0,Ym.jsx)("button",{onClick:i,children:"Update"})]})]})]})]})}):"",(0,Ym.jsx)(Qv,{name:"Company 1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",vision:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",mission:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),(0,Ym.jsx)(Qv,{name:"Company 2",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",vision:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",mission:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),(0,Ym.jsx)(Qv,{name:"Company 3",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",vision:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",mission:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),(0,Ym.jsx)(Qv,{name:"Company 4",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",vision:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",mission:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),(0,Ym.jsx)(Qv,{name:"Company 5",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",vision:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",mission:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),(0,Ym.jsx)($m,{})]})};const Yv=function(){localStorage.setItem("profile","");const e=Z(),t=t=>{e("/assessments/"+t.replaceAll(" ","_"))},[i,r]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async()=>{try{const e=Wg.database().ref("UserNames"),t=(await e.once("value")).val();t&&r(Object.entries(t))}catch(cl){console.error("Error fetching data:",cl)}})()}),[]),(0,Ym.jsxs)("div",{className:"wrapper-aS",children:[(0,Ym.jsx)(Av,{}),(0,Ym.jsxs)("div",{className:"aS-first-section",children:[(0,Ym.jsxs)("div",{className:"aS-text",children:[(0,Ym.jsxs)("h1",{children:["Welcome to the ",(0,Ym.jsx)("span",{style:{color:"#c24914"},children:"ASSESSMENTS"})]}),(0,Ym.jsx)("p",{children:"In this part, each student answered questions that asks about their experiences and insight about the OJT Program. Answers from the assessment may vary depending on the individual's experiences."})]}),(0,Ym.jsxs)("div",{className:" aS-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsxs)("div",{className:"aS-second-section",children:[(0,Ym.jsx)("div",{className:"border"}),(0,Ym.jsx)("div",{className:"aS-table-container",children:(0,Ym.jsxs)("table",{className:"aS-table",children:[(0,Ym.jsx)("thead",{children:(0,Ym.jsxs)("tr",{children:[(0,Ym.jsx)("th",{children:"STUDENT NAME"}),(0,Ym.jsx)("th",{children:"STUDENT NUMBER"}),(0,Ym.jsx)("th",{})]})}),(0,Ym.jsx)("tbody",{children:i.map(((e,n)=>{let[i,r]=e;return(0,Ym.jsxs)("tr",{children:[(0,Ym.jsx)("td",{children:i}),(0,Ym.jsx)("td",{style:{paddingLeft:"28px"},children:r}),(0,Ym.jsx)("td",{style:{width:"256px"},children:(0,Ym.jsx)("a",{href:"",children:(0,Ym.jsx)("button",{id:"view-details",onClick:()=>{return e=i.replaceAll(",",""),localStorage.setItem("profile",e.replaceAll(" ","_")),void t(e);var e},children:"View Details"})})})]},n)}))})]})})]}),(0,Ym.jsx)($m,{})]})},Jv=__webpack_require__.p+"static/media/document.9abf682ed3d51c74af32.png",Xv=localStorage.getItem("profile");function Zv(){const e=Z();return window.scrollTo({top:0,behavior:"instant"}),(0,Ym.jsxs)("div",{className:"sAs-header",children:[(0,Ym.jsx)("div",{className:"sAs-back",children:(0,Ym.jsx)("p",{onClick:()=>e(-1),children:"< Back"})}),(0,Ym.jsxs)("div",{className:"sAs-title",children:[(0,Ym.jsx)("img",{src:sv,alt:"Icon"}),(0,Ym.jsx)("h1",{children:"PORT4LIO"})]})]})}function $v(e){let{pic:t,name:n,sNumber:i,company:r,ojtHours:s}=e;return(0,Ym.jsxs)("div",{className:"sAs-content",children:[(0,Ym.jsx)("div",{className:"sAs-content-image",children:t}),(0,Ym.jsxs)("div",{className:"sAs-content-text",children:[(0,Ym.jsx)("h3",{children:n}),(0,Ym.jsxs)("p",{children:["Student No.: ",i]}),(0,Ym.jsx)("p",{children:"CYS: BSCpE 3-4"}),(0,Ym.jsxs)("p",{children:["HTE: ",r]}),(0,Ym.jsxs)("p",{children:["OJT Hours: ",s]})]})]})}function e_(e){let{fileName:t,Company:i}=e;const[r,s]=(0,n.useState)(null);return Lg(jg(Bg,"students_files/".concat(Xv.replaceAll("_"," "),"/").concat(Xv.replaceAll("_"," ")," - ").concat(t))).then((e=>{s(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,Ym.jsx)(Ym.Fragment,{children:null==r?"":(0,Ym.jsx)("a",{className:"Ud-text",href:r,target:"_blank",children:(0,Ym.jsxs)("div",{className:"Ud-NR-container",children:[(0,Ym.jsx)("div",{className:"Ud-NR-text",children:t}),(0,Ym.jsx)("img",{className:"Ud-NR-img",src:Jv,width:"150px",height:"150px"}),(0,Ym.jsxs)("span",{className:"Ud-NR-span",children:["This file contains my assessment and overall experience in ",i,"."]})]})})})}const t_=function(){const e=localStorage.getItem("User");var t="";e&&(t=(t=e.replaceAll(",","")).replaceAll(" ","_"));const[i,r]=(0,n.useState)("LN, FN MN"),[s,a]=(0,n.useState)("2021-00000-MN-0"),[o,l]=(0,n.useState)("Company Name"),[c,u]=(0,n.useState)("000 Hours"),[d,h]=(0,n.useState)(wv),[p,f]=(0,n.useState)(!1);return Lg(jg(Bg,"students_files/".concat(Xv.replaceAll("_"," "),"/").concat(Xv.replaceAll("_"," ")," - 2X2 Picture"))).then((e=>{h(e)})).catch((e=>{console.error("Error retrieving download URL:",e)})),(0,n.useEffect)((()=>{const e=Wg.database().ref("UserData/"+Xv.replaceAll("_"," "));e.child("name").on("value",(e=>{r(e.val())}));e.child("StudentNo").on("value",(e=>{a(e.val())}));e.child("HTE").on("value",(e=>{l(e.val())}));e.child("OJTHours").on("value",(e=>{u(e.val())}))})),(0,Ym.jsxs)("div",{className:"wrapper-sAs",children:[(0,Ym.jsx)(Zv,{}),(0,Ym.jsxs)("div",{className:"sAs-first-section",children:[(0,Ym.jsx)("div",{children:(0,Ym.jsx)($v,{pic:(0,Ym.jsx)("img",{src:d,id:"profile-pic"}),name:i,sNumber:s,company:o,ojtHours:c})}),(0,Ym.jsxs)("div",{className:" sAs-background",children:[(0,Ym.jsx)("div",{className:"rectangle first"}),(0,Ym.jsx)("div",{className:"rectangle second"}),(0,Ym.jsx)("div",{className:"rectangle third"})]})]}),(0,Ym.jsxs)("div",{className:"sAs-second-section",children:[(0,Ym.jsx)("div",{className:"sAs-button",children:t!=Xv?"":(0,Ym.jsx)("button",{onClick:()=>f(!p),children:0==p?"Upload NR":"Done"})}),p?(0,Ym.jsx)("div",{className:"sAs-documents",children:(0,Ym.jsx)(Iv,{highlightedText:"Narrative Report"})}):(0,Ym.jsx)("div",{children:(0,Ym.jsx)(e_,{fileName:"Narrative Report",Company:o})})]}),(0,Ym.jsx)($m,{})]})};const n_=function(){const[e,t]=(0,n.useState)("guest"),[i,r]=(0,n.useState)("guest");(0,n.useEffect)((()=>{const e=Wg.auth().onAuthStateChanged((e=>{e&&t(localStorage.getItem("username"))}));return r(localStorage.getItem("profile")),()=>e()}),[]);const s="/signup/personal-information/"+e,a="/home/"+e,o="/student-portfolio/"+e,l="/weekly-reports/"+e,c="/weekly-reports/weekly-report/"+i,u="/company-profiles/"+e,d="/assessments/"+e,h="/student-portfolio/profile/"+i,p="/assessments/"+i;return(0,Ym.jsx)("div",{className:"App",children:(0,Ym.jsxs)(pe,{children:[(0,Ym.jsx)(de,{path:"/",element:(0,Ym.jsx)(iv,{})}),(0,Ym.jsx)(de,{path:"/signup/primary-information",element:(0,Ym.jsx)(uv,{})}),(0,Ym.jsx)(de,{path:s,element:(0,Ym.jsx)(dv,{})}),(0,Ym.jsx)(de,{path:"/signup/done",element:(0,Ym.jsx)(hv,{})}),(0,Ym.jsx)(de,{path:"/login",element:(0,Ym.jsx)(bv,{})}),(0,Ym.jsx)(de,{path:o,element:(0,Ym.jsx)(Sv,{})}),(0,Ym.jsx)(de,{path:h,element:(0,Ym.jsx)(Dv,{})}),(0,Ym.jsx)(de,{path:a,element:(0,Ym.jsx)(Lv,{})}),(0,Ym.jsx)(de,{path:l,element:(0,Ym.jsx)(Gv,{})}),(0,Ym.jsx)(de,{path:c,element:(0,Ym.jsx)(Vv,{})}),(0,Ym.jsx)(de,{path:u,element:(0,Ym.jsx)(Kv,{})}),(0,Ym.jsx)(de,{path:d,element:(0,Ym.jsx)(Yv,{})}),(0,Ym.jsx)(de,{path:p,element:(0,Ym.jsx)(t_,{})})]})})},i_=e=>{e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:a}=t;n(e),i(e),r(e),s(e),a(e)}))};r.render((0,Ym.jsx)(Ae,{children:(0,Ym.jsx)(n_,{})}),document.getElementById("root")),i_()})()})();
//# sourceMappingURL=main.25fd58e6.js.map